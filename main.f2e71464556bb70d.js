"use strict";var Z3=Object.defineProperty,Y3=Object.defineProperties,Q3=Object.getOwnPropertyDescriptors,dB=Object.getOwnPropertySymbols,J3=Object.prototype.hasOwnProperty,X3=Object.prototype.propertyIsEnumerable,hB=(et,ve,k)=>ve in et?Z3(et,ve,{enumerable:!0,configurable:!0,writable:!0,value:k}):et[ve]=k,fB=(et,ve)=>{for(var k in ve||(ve={}))J3.call(ve,k)&&hB(et,k,ve[k]);if(dB)for(var k of dB(ve))X3.call(ve,k)&&hB(et,k,ve[k]);return et},pB=(et,ve)=>Y3(et,Q3(ve));(self.webpackChunkfeatures=self.webpackChunkfeatures||[]).push([[179],{2011:(et,ve,k)=>{k.d(ve,{hO:()=>je,xv:()=>ge,Dh:()=>ue,GT:()=>pe,cc:()=>Ie,on:()=>z,pX:()=>oe});var d=k(5e3),X=k(127),F=k(5813);et=k.hmd(et);const de=["ngOnDestroy"],oe=(Ce,qe,Je,Ae={})=>new Proxy(Ce,{get:(_e,Ee)=>Je.runOutsideAngular(()=>{var Le;if(Ce[Ee])return(null===(Le=null==Ae?void 0:Ae.spy)||void 0===Le?void 0:Le.get)&&Ae.spy.get(Ee,Ce[Ee]),Ce[Ee];if(de.indexOf(Ee)>-1)return()=>{};const Ue=qe.toPromise().then(K=>{const be=K&&K[Ee];return"function"==typeof be?be.bind(K):be&&be.then?be.then(Y=>Je.run(()=>Y)):Je.run(()=>be)});return new Proxy(()=>{},{get:(K,be)=>Ue[be],apply:(K,be,Y)=>Ue.then(ie=>{var ee;const me=ie&&ie(...Y);return(null===(ee=null==Ae?void 0:Ae.spy)||void 0===ee?void 0:ee.apply)&&Ae.spy.apply(Ee,Y,me),me})})})}),pe=(Ce,qe)=>{qe.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Ae=>{Object.defineProperty(Ce.prototype,Ae,Object.getOwnPropertyDescriptor(Je.prototype||Je,Ae))})})};class ne{constructor(qe){return qe}}const ue=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function z(Ce,qe,Je){const _e="object"==typeof Je&&Je||{};_e.name=_e.name||"string"==typeof Je&&Je||"[DEFAULT]";const Le=X.Z.apps.filter(Ue=>Ue&&Ue.name===_e.name)[0]||qe.runOutsideAngular(()=>X.Z.initializeApp(Ce,_e));try{JSON.stringify(Ce)!==JSON.stringify(Le.options)&&G("error",`${Le.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new ne(Le)}const G=(Ce,...qe)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...qe)},te={provide:ne,useFactory:z,deps:[ue,d.R0b,[new d.FiY,ge]]};let je=(()=>{class Ce{constructor(Je){X.Z.registerVersion("angularfire",F.q4.full,"core"),X.Z.registerVersion("angularfire",F.q4.full,"app-compat"),X.Z.registerVersion("angular",d.q4F.full,Je.toString())}static initializeApp(Je,Ae){return{ngModule:Ce,providers:[{provide:ue,useValue:Je},{provide:ge,useValue:Ae}]}}}return Ce.\u0275fac=function(Je){return new(Je||Ce)(d.LFG(d.Lbi))},Ce.\u0275mod=d.oAB({type:Ce}),Ce.\u0275inj=d.cJS({providers:[te]}),Ce})();function Ie(Ce,qe,Je,Ae,_e){const[,Ee,Le]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===Ce)||[];if(Ee)return function Oe(Ce,qe){try{return Ce.toString()===qe.toString()}catch(Je){return Ce===qe}}(_e,Le)||(he("error",`${qe} was already initialized on the ${Je} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:_e,was:Le})),Ee;{const Ue=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ue,_e]),Ue}}const Be=!!et.hot,he=(Ce,...qe)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,ve,k)=>{k.d(ve,{q4:()=>Ft,iC:()=>Qa,HU:()=>Ya,vb:()=>Bu,JM:()=>Ul});var d=k(5e3),X=k(5867),F=k(5861),de=k(9681),oe=k(2090),pe=k(4859),ne=k(1877),ue=k(8766);const ge="@firebase/installations",z="0.5.12",te=`w:${z}`,je="FIS_v2",qe=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Ae({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function _e(C){return{token:C.token,requestStatus:2,expiresIn:ie(C.expiresIn),creationTime:Date.now()}}function Ee(C,S){return Le.apply(this,arguments)}function Le(){return(Le=(0,F.Z)(function*(C,S){const L=(yield S.json()).error;return qe.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ue({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function K(C,{refreshToken:S}){const R=Ue(C);return R.append("Authorization",function ee(C){return`${je} ${C}`}(S)),R}function be(C){return Y.apply(this,arguments)}function Y(){return(Y=(0,F.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function ie(C){return Number(C.replace("s","000"))}function me(C,S){return le.apply(this,arguments)}function le(){return(le=(0,F.Z)(function*({appConfig:C,heartbeatServiceProvider:S},{fid:R}){const L=Ae(C),Q=Ue(C),se=S.getImmediate({optional:!0});if(se){const _t=yield se.getHeartbeatsHeader();_t&&Q.append("x-firebase-client",_t)}const $e={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:je,appId:C.appId,sdkVersion:te})},lt=yield be(()=>fetch(L,$e));if(lt.ok){const _t=yield lt.json();return{fid:_t.fid||R,registrationStatus:2,refreshToken:_t.refreshToken,authToken:_e(_t.authToken)}}throw yield Ee("Create Installation",lt)})).apply(this,arguments)}function ke(C){return new Promise(S=>{setTimeout(S,C)})}const zt=/^[cdef][\w-]{21}$/;function Ye(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function Xt(C){return function ft(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return zt.test(R)?R:""}catch(C){return""}}function Mn(C){return`${C.appName}!${C.appId}`}const ln=new Map;function Yt(C,S){const R=Mn(C);Nt(R,S),function ts(C,S){const R=function pr(){return!zr&&"BroadcastChannel"in self&&(zr=new BroadcastChannel("[Firebase] FID Change"),zr.onmessage=C=>{Nt(C.data.key,C.data.fid)}),zr}();R&&R.postMessage({key:C,fid:S}),function Lr(){0===ln.size&&zr&&(zr.close(),zr=null)}()}(R,S)}function Nt(C,S){const R=ln.get(C);if(R)for(const L of R)L(S)}let zr=null;const Vr="firebase-installations-store";let Ni=null;function vt(){return Ni||(Ni=(0,ue.X3)("firebase-installations-database",1,{upgrade:(C,S)=>{0===S&&C.createObjectStore(Vr)}})),Ni}function Br(C,S){return xn.apply(this,arguments)}function xn(){return(xn=(0,F.Z)(function*(C,S){const R=Mn(C),Q=(yield vt()).transaction(Vr,"readwrite"),se=Q.objectStore(Vr),Me=yield se.get(R);return yield se.put(S,R),yield Q.done,(!Me||Me.fid!==S.fid)&&Yt(C,S.fid),S})).apply(this,arguments)}function Un(C){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,F.Z)(function*(C){const S=Mn(C),L=(yield vt()).transaction(Vr,"readwrite");yield L.objectStore(Vr).delete(S),yield L.done})).apply(this,arguments)}function ns(C,S){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(C,S){const R=Mn(C),Q=(yield vt()).transaction(Vr,"readwrite"),se=Q.objectStore(Vr),Me=yield se.get(R),$e=S(Me);return void 0===$e?yield se.delete(R):yield se.put($e,R),yield Q.done,$e&&(!Me||Me.fid!==$e.fid)&&Yt(C,$e.fid),$e})).apply(this,arguments)}function Pn(C){return gi.apply(this,arguments)}function gi(){return(gi=(0,F.Z)(function*(C){let S;const R=yield ns(C.appConfig,L=>{const Q=Ho(L),se=qt(C,Q);return S=se.registrationPromise,se.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Ho(C){return Ns(C||{fid:Ye(),registrationStatus:0})}function qt(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(qe.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},L=function at(C,S){return Et.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:gr(C)}:{installationEntry:S}}function Et(){return(Et=(0,F.Z)(function*(C,S){try{const R=yield me(C,S);return Br(C.appConfig,R)}catch(R){throw Je(R)&&409===R.customData.serverCode?yield Un(C.appConfig):yield Br(C.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function gr(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,F.Z)(function*(C){let S=yield Bt(C.appConfig);for(;1===S.registrationStatus;)yield ke(100),S=yield Bt(C.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield Pn(C);return L||R}return S})).apply(this,arguments)}function Bt(C){return ns(C,S=>{if(!S)throw qe.create("installation-not-found");return Ns(S)})}function Ns(C){return function mr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Sr(C,S){return pt.apply(this,arguments)}function pt(){return(pt=(0,F.Z)(function*({appConfig:C,heartbeatServiceProvider:S},R){const L=Ps(C,R),Q=K(C,R),se=S.getImmediate({optional:!0});if(se){const _t=yield se.getHeartbeatsHeader();_t&&Q.append("x-firebase-client",_t)}const $e={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:te,appId:C.appId}})},lt=yield be(()=>fetch(L,$e));if(lt.ok)return _e(yield lt.json());throw yield Ee("Generate Auth Token",lt)})).apply(this,arguments)}function Ps(C,{fid:S}){return`${Ae(C)}/${S}/authTokens:generate`}function j(C){return q.apply(this,arguments)}function q(){return(q=(0,F.Z)(function*(C,S=!1){let R;const L=yield ns(C.appConfig,se=>{if(!dt(se))throw qe.create("not-registered");const Me=se.authToken;if(!S&&nn(Me))return se;if(1===Me.requestStatus)return R=B(C,S),se;{if(!navigator.onLine)throw qe.create("app-offline");const $e=Kn(se);return R=xe(C,$e),$e}});return R?yield R:L.authToken})).apply(this,arguments)}function B(C,S){return H.apply(this,arguments)}function H(){return(H=(0,F.Z)(function*(C,S){let R=yield W(C.appConfig);for(;1===R.authToken.requestStatus;)yield ke(100),R=yield W(C.appConfig);const L=R.authToken;return 0===L.requestStatus?j(C,S):L})).apply(this,arguments)}function W(C){return ns(C,S=>{if(!dt(S))throw qe.create("not-registered");return function Ot(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function xe(C,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,F.Z)(function*(C,S){try{const R=yield Sr(C,S),L=Object.assign(Object.assign({},S),{authToken:R});return yield Br(C.appConfig,L),R}catch(R){if(!Je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Br(C.appConfig,L)}else yield Un(C.appConfig);throw R}})).apply(this,arguments)}function dt(C){return void 0!==C&&2===C.registrationStatus}function nn(C){return 2===C.requestStatus&&!function Wt(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+36e5}(C)}function Kn(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}function Li(){return(Li=(0,F.Z)(function*(C){const S=C,{installationEntry:R,registrationPromise:L}=yield Pn(S);return L?L.catch(console.error):j(S).catch(console.error),R.fid})).apply(this,arguments)}function Ea(){return(Ea=(0,F.Z)(function*(C,S=!1){const R=C;return yield jn(R),(yield j(R,S)).token})).apply(this,arguments)}function jn(C){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,F.Z)(function*(C){const{registrationPromise:S}=yield Pn(C);S&&(yield S)})).apply(this,arguments)}function Go(C){return qe.create("missing-app-config-values",{valueName:C})}const jr="installations",ht=C=>{const S=C.getProvider("app").getImmediate(),R=function nr(C){if(!C||!C.options)throw Go("App Configuration");if(!C.name)throw Go("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!C.options[R])throw Go(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},rn=C=>{const S=C.getProvider("app").getImmediate(),R=(0,de._getProvider)(S,jr).getImmediate();return{getId:()=>function Wr(C){return Li.apply(this,arguments)}(R),getToken:Q=>function $o(C){return Ea.apply(this,arguments)}(R,Q)}};(function Hr(){(0,de._registerComponent)(new pe.wA(jr,ht,"PUBLIC")),(0,de._registerComponent)(new pe.wA("installations-internal",rn,"PRIVATE"))})(),(0,de.registerVersion)(ge,z),(0,de.registerVersion)(ge,z,"esm2017");const Vi="@firebase/remote-config",On=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cp{constructor(S,R,L,Q){this.client=S,this.storage=R,this.storageCache=L,this.logger=Q}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,Q=L<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var R=this;return(0,F.Z)(function*(){const[L,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(S.cacheMaxAgeMillis,L))return Q;S.eTag=Q&&Q.eTag;const se=yield R.client.fetch(S),Me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Me.push(R.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Me),se})()}}function Sc(C=navigator){return C.languages&&C.languages[0]||C.language}class yr{constructor(S,R,L,Q,se,Me){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=L,this.projectId=Q,this.apiKey=se,this.appId=Me}fetch(S){var R=this;return(0,F.Z)(function*(){var L,Q,se;const[Me,$e]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ut={sdk_version:R.sdkVersion,app_instance_id:Me,app_instance_id_token:$e,app_id:R.appId,language_code:Sc()},En={method:"POST",headers:Dt,body:JSON.stringify(ut)},wr=fetch(_t,En),fs=new Promise((Er,Qi)=>{S.signal.addEventListener(()=>{const Kc=new Error("The operation was aborted.");Kc.name="AbortError",Qi(Kc)})});let ps;try{yield Promise.race([wr,fs]),ps=yield wr}catch(Er){let Qi="fetch-client-network";throw"AbortError"===(null===(L=Er)||void 0===L?void 0:L.name)&&(Qi="fetch-timeout"),On.create(Qi,{originalErrorMessage:null===(Q=Er)||void 0===Q?void 0:Q.message})}let Di=ps.status;const Wc=ps.headers.get("ETag")||void 0;let jl,Do;if(200===ps.status){let Er;try{Er=yield ps.json()}catch(Qi){throw On.create("fetch-client-parse",{originalErrorMessage:null===(se=Qi)||void 0===se?void 0:se.message})}jl=Er.entries,Do=Er.state}if("INSTANCE_STATE_UNSPECIFIED"===Do?Di=500:"NO_CHANGE"===Do?Di=304:("NO_TEMPLATE"===Do||"EMPTY_CONFIG"===Do)&&(jl={}),304!==Di&&200!==Di)throw On.create("fetch-status",{httpStatus:Di});return{status:Di,eTag:Wc,config:jl}})()}}class dp{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,F.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,L)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:L}){var Q=this;return(0,F.Z)(function*(){yield function Us(C,S){return new Promise((R,L)=>{const Q=Math.max(S-Date.now(),0),se=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(se),L(On.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const se=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),se}catch(se){if(!function Tc(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(se))throw se;const Me={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(S,Me)}})()}}class Mc{constructor(S,R,L,Q,se){this.app=S,this._client=R,this._storageCache=L,this._storage=Q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yu(C,S){var R;const L=C.target.error||void 0;return On.create(S,{originalErrorMessage:L&&(null===(R=L)||void 0===R?void 0:R.message)})}const js="app_namespace_store";class pp{constructor(S,R,L,Q=function fp(){return new Promise((C,S)=>{var R;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Q=>{S(yu(Q,"storage-open"))},L.onsuccess=Q=>{C(Q.target.result)},L.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(L){S(On.create("storage-open",{originalErrorMessage:null===(R=L)||void 0===R?void 0:R.message}))}})}()){this.appId=S,this.appName=R,this.namespace=L,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,F.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Q,se)=>{var Me;const lt=L.transaction([js],"readonly").objectStore(js),_t=R.createCompositeKey(S);try{const Dt=lt.get(_t);Dt.onerror=ut=>{se(yu(ut,"storage-get"))},Dt.onsuccess=ut=>{const En=ut.target.result;Q(En?En.value:void 0)}}catch(Dt){se(On.create("storage-get",{originalErrorMessage:null===(Me=Dt)||void 0===Me?void 0:Me.message}))}})})()}set(S,R){var L=this;return(0,F.Z)(function*(){const Q=yield L.openDbPromise;return new Promise((se,Me)=>{var $e;const _t=Q.transaction([js],"readwrite").objectStore(js),Dt=L.createCompositeKey(S);try{const ut=_t.put({compositeKey:Dt,value:R});ut.onerror=En=>{Me(yu(En,"storage-set"))},ut.onsuccess=()=>{se()}}catch(ut){Me(On.create("storage-set",{originalErrorMessage:null===($e=ut)||void 0===$e?void 0:$e.message}))}})})()}delete(S){var R=this;return(0,F.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Q,se)=>{var Me;const lt=L.transaction([js],"readwrite").objectStore(js),_t=R.createCompositeKey(S);try{const Dt=lt.delete(_t);Dt.onerror=ut=>{se(yu(ut,"storage-delete"))},Dt.onsuccess=()=>{Q()}}catch(Dt){se(On.create("storage-delete",{originalErrorMessage:null===(Me=Dt)||void 0===Me?void 0:Me.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Rc{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const R=S.storage.getLastFetchStatus(),L=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),se=yield R;se&&(S.lastFetchStatus=se);const Me=yield L;Me&&(S.lastSuccessfulFetchTimestampMillis=Me);const $e=yield Q;$e&&(S.activeConfig=$e)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Cl(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,F.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}!function qo(){(0,de._registerComponent)(new pe.wA("remote-config",function C(S,{instanceIdentifier:R}){const L=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,oe.hl)())throw On.create("indexed-db-unavailable");const{projectId:se,apiKey:Me,appId:$e}=L.options;if(!se)throw On.create("registration-project-id");if(!Me)throw On.create("registration-api-key");if(!$e)throw On.create("registration-app-id");const lt=new pp($e,L.name,R=R||"firebase"),_t=new Rc(lt),Dt=new ne.Yd(Vi);Dt.logLevel=ne.in.ERROR;const ut=new yr(Q,de.SDK_VERSION,R,se,Me,$e),En=new dp(ut,lt),wr=new cp(En,lt,_t,Dt),fs=new Mc(L,wr,_t,lt,Dt);return function un(C){const S=(0,oe.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(fs),fs},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Vi,"0.3.11"),(0,de.registerVersion)(Vi,"0.3.11","esm2017")}();const kc="/firebase-messaging-sw.js",vr="/firebase-cloud-messaging-push-scope",ao="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wo="google.c.a.c_id",Fc="google.c.a.c_l",sh="google.c.a.ts",_i="google.c.a.e";var Ko=(()=>{return(C=Ko||(Ko={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ko;var C})();function Ar(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nc(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),Q=new Uint8Array(L.length);for(let se=0;se<L.length;++se)Q[se]=L.charCodeAt(se);return Q}const br="fcm_token_details_db",Zr="fcm_token_object_Store";function vu(C){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(br))return null;let S=null;return(yield(0,ue.X3)(br,5,{upgrade:(L=(0,F.Z)(function*(Q,se,Me,$e){var lt;if(se<2||!Q.objectStoreNames.contains(Zr))return;const _t=$e.objectStore(Zr),Dt=yield _t.index("fcmSenderId").get(C);if(yield _t.clear(),Dt)if(2===se){const ut=Dt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;S={token:ut.fcmToken,createTime:null!==(lt=ut.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:Ar(ut.vapidKey)}}}else if(3===se){const ut=Dt;S={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Ar(ut.auth),p256dh:Ar(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Ar(ut.vapidKey)}}}else if(4===se){const ut=Dt;S={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Ar(ut.auth),p256dh:Ar(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Ar(ut.vapidKey)}}}}),function(se,Me,$e,lt){return L.apply(this,arguments)})})).close(),yield(0,ue.Lj)(br),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),bu(S)?S:null;var L}),Pc.apply(this,arguments)}function bu(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const $i="firebase-messaging-store";let oh=null;function sn(){return oh||(oh=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(C,S)=>{0===S&&C.createObjectStore($i)}})),oh}function Ta(C){return uo.apply(this,arguments)}function uo(){return(uo=(0,F.Z)(function*(C){const S=rr(C),L=yield(yield sn()).transaction($i).objectStore($i).get(S);if(L)return L;{const Q=yield vu(C.appConfig.senderId);if(Q)return yield Qt(C,Q),Q}})).apply(this,arguments)}function Qt(C,S){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,F.Z)(function*(C,S){const R=rr(C),Q=(yield sn()).transaction($i,"readwrite");return yield Q.objectStore($i).put(S,R),yield Q.done,S})).apply(this,arguments)}function Dl(C){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,F.Z)(function*(C){const S=rr(C),L=(yield sn()).transaction($i,"readwrite");yield L.objectStore($i).delete(S),yield L.done})).apply(this,arguments)}function rr({appConfig:C}){return C.appId}const wn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gi(C,S){return ir.apply(this,arguments)}function ir(){return(ir=(0,F.Z)(function*(C,S){var R;const L=yield Qo(C),Q=Jo(S),se={method:"POST",headers:L,body:JSON.stringify(Q)};let Me;try{Me=yield(yield fetch(zi(C.appConfig),se)).json()}catch($e){throw wn.create("token-subscribe-failed",{errorInfo:null===(R=$e)||void 0===R?void 0:R.toString()})}if(Me.error)throw wn.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw wn.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function co(C,S){return os.apply(this,arguments)}function os(){return(os=(0,F.Z)(function*(C,S){var R;const L=yield Qo(C),Q=Jo(S.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(Q)};let Me;try{Me=yield(yield fetch(`${zi(C.appConfig)}/${S.token}`,se)).json()}catch($e){throw wn.create("token-update-failed",{errorInfo:null===(R=$e)||void 0===R?void 0:R.toString()})}if(Me.error)throw wn.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw wn.create("token-update-no-token");return Me.token})).apply(this,arguments)}function Ma(C,S){return yi.apply(this,arguments)}function yi(){return(yi=(0,F.Z)(function*(C,S){var R;const Q={method:"DELETE",headers:yield Qo(C)};try{const Me=yield(yield fetch(`${zi(C.appConfig)}/${S}`,Q)).json();if(Me.error)throw wn.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(se){throw wn.create("token-unsubscribe-failed",{errorInfo:null===(R=se)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function zi({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Qo(C){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*({appConfig:C,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Jo({p256dh:C,auth:S,endpoint:R,vapidKey:L}){const Q={web:{endpoint:R,auth:S,p256dh:C}};return L!==ao&&(Q.web.applicationPubKey=L),Q}const Il=6048e5;function xa(C){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,F.Z)(function*(C){const S=yield pn(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:Ar(S.getKey("auth")),p256dh:Ar(S.getKey("p256dh"))},L=yield Ta(C.firebaseDependencies);if(L){if(ho(L.subscriptionOptions,R))return Date.now()>=L.createTime+Il?Iu(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield Ma(C.firebaseDependencies,L.token)}catch(Q){console.warn(Q)}return kt(C.firebaseDependencies,R)}return kt(C.firebaseDependencies,R)})).apply(this,arguments)}function Ra(C){return Du.apply(this,arguments)}function Du(){return(Du=(0,F.Z)(function*(C){const S=yield Ta(C.firebaseDependencies);S&&(yield Ma(C.firebaseDependencies,S.token),yield Dl(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Iu(C,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,F.Z)(function*(C,S){try{const R=yield co(C.firebaseDependencies,S),L=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Qt(C.firebaseDependencies,L),R}catch(R){throw yield Ra(C),R}})).apply(this,arguments)}function kt(C,S){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,F.Z)(function*(C,S){const L={token:yield Gi(C,S),createTime:Date.now(),subscriptionOptions:S};return yield Qt(C,L),L.token})).apply(this,arguments)}function pn(C,S){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,F.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nc(S)})})).apply(this,arguments)}function ho(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}function Yr(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Oa(C,S){if(!S.notification)return;C.notification={};const R=S.notification.title;R&&(C.notification.title=R);const L=S.notification.body;L&&(C.notification.body=L);const Q=S.notification.image;Q&&(C.notification.image=Q)}(S,C),function Su(C,S){!S.data||(C.data=S.data)}(S,C),function gp(C,S){var R,L,Q,se,Me;if(!S.fcmOptions&&!(null===(R=S.notification)||void 0===R?void 0:R.click_action))return;C.fcmOptions={};const $e=null!==(Q=null===(L=S.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Q?Q:null===(se=S.notification)||void 0===se?void 0:se.click_action;$e&&(C.fcmOptions.link=$e);const lt=null===(Me=S.fcmOptions)||void 0===Me?void 0:Me.analytics_label;lt&&(C.fcmOptions.analyticsLabel=lt)}(S,C),S}function Tl(C){return"object"==typeof C&&!!C&&Wo in C}function ka(C,S){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<S.length&&R.push(S.charAt(L));return R.join("")}function kn(C){return wn.create("missing-app-config-values",{valueName:C})}ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class as{constructor(S,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Al(C){if(!C||!C.options)throw kn("App Configuration Object");if(!C.name)throw kn("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of S)if(!R[L])throw kn(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Fa(C){return $s.apply(this,arguments)}function $s(){return($s=(0,F.Z)(function*(C){var S;try{C.swRegistration=yield navigator.serviceWorker.register(kc,{scope:vr}),C.swRegistration.update().catch(()=>{})}catch(R){throw wn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=R)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function vi(C,S){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,F.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield Fa(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function Ml(C,S){return Au.apply(this,arguments)}function Au(){return(Au=(0,F.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=ao)})).apply(this,arguments)}function Na(){return(Na=(0,F.Z)(function*(C,S){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield Ml(C,null==S?void 0:S.vapidKey),yield vi(C,null==S?void 0:S.serviceWorkerRegistration),xa(C)})).apply(this,arguments)}function ea(C,S,R){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,F.Z)(function*(C,S,R){const L=Pa(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[Wo],message_name:R[Fc],message_time:R[sh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pa(C){switch(C){case Ko.NOTIFICATION_CLICKED:return"notification_open";case Ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xu(){return(xu=(0,F.Z)(function*(C,S){const R=S.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Ko.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Yr(R)):C.onMessageHandler.next(Yr(R)));const L=R.data;Tl(L)&&"1"===L[_i]&&(yield ea(C,R.messageType,L))})).apply(this,arguments)}const ta="@firebase/messaging",Lc=C=>{const S=new as(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function mp(C,S){return xu.apply(this,arguments)}(S,R)),S},na=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:L=>function xl(C,S){return Na.apply(this,arguments)}(S,L)}};function ra(){return qi.apply(this,arguments)}function qi(){return(qi=(0,F.Z)(function*(){try{yield(0,oe.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vc(){(0,de._registerComponent)(new pe.wA("messaging",Lc,"PUBLIC")),(0,de._registerComponent)(new pe.wA("messaging-internal",na,"PRIVATE")),(0,de.registerVersion)(ta,"0.9.16"),(0,de.registerVersion)(ta,"0.9.16","esm2017")}();const Bc="analytics",_p="firebase_id",ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ia="https://www.googletagmanager.com/gtag/js",Qn=new ne.Yd("@firebase/analytics");function uh(C){return Promise.all(C.map(S=>S.catch(R=>R)))}function fo(C,S){const R=document.createElement("script");R.src=`${ia}?l=${C}&id=${S}`,R.async=!0,document.head.appendChild(R)}function jc(C,S,R,L,Q,se){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,F.Z)(function*(C,S,R,L,Q,se){const Me=L[Q];try{if(Me)yield S[Me];else{const lt=(yield uh(R)).find(_t=>_t.measurementId===Q);lt&&(yield S[lt.appId])}}catch($e){Qn.error($e)}C("config",Q,se)})).apply(this,arguments)}function po(C,S,R,L,Q){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,F.Z)(function*(C,S,R,L,Q){try{let se=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const $e=yield uh(R);for(const lt of Me){const _t=$e.find(ut=>ut.measurementId===lt),Dt=_t&&S[_t.appId];if(!Dt){se=[];break}se.push(Dt)}}0===se.length&&(se=Object.values(S)),yield Promise.all(se),C("event",L,Q||{})}catch(se){Qn.error(se)}})).apply(this,arguments)}function vn(){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(ia))return S;return null}const ze=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ou=new class gn{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Hc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ki(C){return ku.apply(this,arguments)}function ku(){return(ku=(0,F.Z)(function*(C){var S;const{appId:R,apiKey:L}=C,Q={method:"GET",headers:Hc(L)},se=ls.replace("{app-id}",R),Me=yield fetch(se,Q);if(200!==Me.status&&304!==Me.status){let $e="";try{const lt=yield Me.json();(null===(S=lt.error)||void 0===S?void 0:S.message)&&($e=lt.error.message)}catch(lt){}throw ze.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:$e})}return Me.json()})).apply(this,arguments)}function hn(C){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,F.Z)(function*(C,S=Ou,R){const{appId:L,apiKey:Q,measurementId:se}=C.options;if(!L)throw ze.create("no-app-id");if(!Q){if(se)return{measurementId:se,appId:L};throw ze.create("no-api-key")}const Me=S.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Fu;return setTimeout((0,F.Z)(function*(){$e.abort()}),void 0!==R?R:6e4),bi({appId:L,apiKey:Q,measurementId:se},Me,$e,S)})).apply(this,arguments)}function bi(C,S,R){return nt.apply(this,arguments)}function nt(){return(nt=(0,F.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:R},L,Q=Ou){var se,Me;const{appId:$e,measurementId:lt}=C;try{yield kl(L,S)}catch(_t){if(lt)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${null===(se=_t)||void 0===se?void 0:se.message}]`),{appId:$e,measurementId:lt};throw _t}try{const _t=yield Ki(C);return Q.deleteThrottleMetadata($e),_t}catch(_t){const Dt=_t;if(!$c(Dt)){if(Q.deleteThrottleMetadata($e),lt)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${null==Dt?void 0:Dt.message}]`),{appId:$e,measurementId:lt};throw _t}const ut=503===Number(null===(Me=null==Dt?void 0:Dt.customData)||void 0===Me?void 0:Me.httpStatus)?(0,oe.$s)(R,Q.intervalMillis,30):(0,oe.$s)(R,Q.intervalMillis),En={throttleEndTimeMillis:Date.now()+ut,backoffCount:R+1};return Q.setThrottleMetadata($e,En),Qn.debug(`Calling attemptFetch again in ${ut} millis`),bi(C,En,L,Q)}})).apply(this,arguments)}function kl(C,S){return new Promise((R,L)=>{const Q=Math.max(S-Date.now(),0),se=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(se),L(ze.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function $c(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Fu{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ja,Ga;function zs(){return(zs=(0,F.Z)(function*(C,S,R,L,Q){if(Q&&Q.global)C("event",R,L);else{const se=yield S;C("event",R,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function za(C){Ga=C}function wi(C){ja=C}function _o(){return cs.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(){var C;if(!(0,oe.hl)())return Qn.warn(ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(S){return Qn.warn(ze.create("indexeddb-unavailable",{errorInfo:null===(C=S)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function In(){return(In=(0,F.Z)(function*(C,S,R,L,Q,se,Me){var $e;const lt=hn(C);lt.then(wr=>{R[wr.measurementId]=wr.appId,C.options.measurementId&&wr.measurementId!==C.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wr=>Qn.error(wr)),S.push(lt);const _t=_o().then(wr=>{if(wr)return L.getId()}),[Dt,ut]=yield Promise.all([lt,_t]);vn()||fo(se,Dt.measurementId),Ga&&(Q("consent","default",Ga),za(void 0)),Q("js",new Date);const En=null!==($e=null==Me?void 0:Me.config)&&void 0!==$e?$e:{};return En.origin="firebase",En.update=!0,null!=ut&&(En[_p]=ut),Q("config",Dt.measurementId,En),ja&&(Q("set",ja),wi(void 0)),Dt.measurementId})).apply(this,arguments)}class yo{constructor(S){this.app=S}_delete(){return delete Yi[this.app.options.appId],Promise.resolve()}}let Yi={},on=[];const or={};let Ei,_n,$n="dataLayer",ar=!1;function Nu(C,S,R){!function qa(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((L,Q)=>`(${Q+1}) ${L}`).join(" "),R=ze.create("invalid-analytics-context",{errorInfo:S});Qn.warn(R.message)}}();const L=C.options.appId;if(!L)throw ze.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ze.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yi[L])throw ze.create("already-exists",{id:L});if(!ar){!function Rl(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}($n);const{wrappedGtag:se,gtagCore:Me}=function yp(C,S,R,L,Q){let se=function(...Me){window[L].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(se=window[Q]),window[Q]=function Ru(C,S,R,L){function se(){return(se=(0,F.Z)(function*(Me,$e,lt){try{"event"===Me?yield po(C,S,R,$e,lt):"config"===Me?yield jc(C,S,R,L,$e,lt):"consent"===Me?C("consent","update",lt):C("set",$e)}catch(_t){Qn.error(_t)}})).apply(this,arguments)}return function Q(Me,$e,lt){return se.apply(this,arguments)}}(se,C,S,R),{gtagCore:se,wrappedGtag:window[Q]}}(Yi,on,or,$n,"gtag");_n=se,Ei=Me,ar=!0}return Yi[L]=function Jn(C,S,R,L,Q,se,Me){return In.apply(this,arguments)}(C,on,or,S,Ei,$n,R),new yo(C)}function dh(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,F.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}const Nl="@firebase/analytics";!function vp(){(0,de._registerComponent)(new pe.wA(Bc,(S,{options:R})=>Nu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new pe.wA("analytics-internal",function C(S){try{const R=S.getProvider(Bc).getImmediate();return{logEvent:(L,Q,se)=>function Fl(C,S,R,L){C=(0,oe.m9)(C),function mn(C,S,R,L,Q){return zs.apply(this,arguments)}(_n,Yi[C.app.options.appId],S,R,L).catch(Q=>Qn.error(Q))}(R,L,Q,se)}}catch(R){throw ze.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Nl,"0.8.0"),(0,de.registerVersion)(Nl,"0.8.0","esm2017")}();var Pu=k(4408),Xr=k(7565);const bo=new class oa extends Xr.v{}(class Jr extends Pu.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(S,R,L):S.flush(this)}});var Ll=k(4986),Ka=k(8505),wo=k(9468),Lu=k(5363);const Ft=new d.GfV("7.4.1"),Vl="__angularfire_symbol__analyticsIsSupportedValue",Fn="__angularfire_symbol__analyticsIsSupported",Zs="__angularfire_symbol__remoteConfigIsSupportedValue",Ci="__angularfire_symbol__remoteConfigIsSupported",zc="__angularfire_symbol__messagingIsSupportedValue",Bl="__angularfire_symbol__messagingIsSupported";function Ul(C,S,R){if(S){if(1===S.length)return S[0];const se=S.filter(Me=>Me.app===R);if(1===se.length)return se[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Fn]||(globalThis[Fn]=dh().then(C=>globalThis[Vl]=C).catch(()=>globalThis[Vl]=!1)),globalThis[Bl]||(globalThis[Bl]=ra().then(C=>globalThis[zc]=C).catch(()=>globalThis[zc]=!1)),globalThis[Ci]||(globalThis[Ci]=Cl().then(C=>globalThis[Zs]=C).catch(()=>globalThis[Zs]=!1));const Bu=(C,S)=>{const R=S?[S]:(0,X.C6)(),L=[];return R.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function yn(){}class Gn{constructor(S,R=bo){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,L){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{S.apply(this,[Me])})},R,L)}}class bp{constructor(S){this.zone=S,this.task=null}call(S,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yn,{},yn,yn)),R.pipe((0,Ka.b)({next:L,complete:L,error:L})).subscribe(S).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ya=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Gn(Zone.current)),this.insideAngular=R.run(()=>new Gn(Zone.current,Ll.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ei(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Qa(C){return ei(),function Uu(C){return function(R){return(R=R.lift(new bp(C.ngZone))).pipe((0,wo.R)(C.outsideAngular),(0,Lu.Q)(C.insideAngular))}}(ei())(C)}},2090:(et,ve,k)=>{k.d(ve,{BH:()=>je,LL:()=>le,ZR:()=>me,zI:()=>Y,US:()=>pe,tV:()=>ge,L:()=>ue,$s:()=>mr,r3:()=>Ir,Sg:()=>Ie,ne:()=>vt,vZ:()=>zr,ZB:()=>G,pd:()=>Vr,m9:()=>Ps,z$:()=>Oe,jU:()=>Ce,ru:()=>qe,d:()=>Ae,xb:()=>Nt,w1:()=>_e,hl:()=>K,uI:()=>Be,UG:()=>he,b$:()=>Je,G6:()=>Ue,Mn:()=>Ee,xO:()=>Fi,zd:()=>Fs,eu:()=>be});const de=function(j){const q=[];let B=0;for(let H=0;H<j.length;H++){let W=j.charCodeAt(H);W<128?q[B++]=W:W<2048?(q[B++]=W>>6|192,q[B++]=63&W|128):55296==(64512&W)&&H+1<j.length&&56320==(64512&j.charCodeAt(H+1))?(W=65536+((1023&W)<<10)+(1023&j.charCodeAt(++H)),q[B++]=W>>18|240,q[B++]=W>>12&63|128,q[B++]=W>>6&63|128,q[B++]=63&W|128):(q[B++]=W>>12|224,q[B++]=W>>6&63|128,q[B++]=63&W|128)}return q},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,q){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let W=0;W<j.length;W+=3){const xe=j[W],Ve=W+1<j.length,dt=Ve?j[W+1]:0,nn=W+2<j.length,Wt=nn?j[W+2]:0;let Wr=(15&dt)<<2|Wt>>6,Li=63&Wt;nn||(Li=64,Ve||(Wr=64)),H.push(B[xe>>2],B[(3&xe)<<4|dt>>4],B[Wr],B[Li])}return H.join("")},encodeString(j,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(j):this.encodeByteArray(de(j),q)},decodeString(j,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(j):function(j){const q=[];let B=0,H=0;for(;B<j.length;){const W=j[B++];if(W<128)q[H++]=String.fromCharCode(W);else if(W>191&&W<224){const xe=j[B++];q[H++]=String.fromCharCode((31&W)<<6|63&xe)}else if(W>239&&W<365){const nn=((7&W)<<18|(63&j[B++])<<12|(63&j[B++])<<6|63&j[B++])-65536;q[H++]=String.fromCharCode(55296+(nn>>10)),q[H++]=String.fromCharCode(56320+(1023&nn))}else{const xe=j[B++],Ve=j[B++];q[H++]=String.fromCharCode((15&W)<<12|(63&xe)<<6|63&Ve)}}return q.join("")}(this.decodeStringToByteArray(j,q))},decodeStringToByteArray(j,q){this.init_();const B=q?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let W=0;W<j.length;){const xe=B[j.charAt(W++)],dt=W<j.length?B[j.charAt(W)]:0;++W;const Wt=W<j.length?B[j.charAt(W)]:64;++W;const Ot=W<j.length?B[j.charAt(W)]:64;if(++W,null==xe||null==dt||null==Wt||null==Ot)throw Error();H.push(xe<<2|dt>>4),64!==Wt&&(H.push(dt<<4&240|Wt>>2),64!==Ot&&H.push(Wt<<6&192|Ot))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ue=function(j){return function(j){const q=de(j);return pe.encodeByteArray(q,!0)}(j).replace(/\./g,"")},ge=function(j){try{return pe.decodeString(j,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function G(j,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return q}for(const B in q)!q.hasOwnProperty(B)||!te(B)||(j[B]=G(j[B],q[B]));return j}function te(j){return"__proto__"!==j}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,B)=>{this.resolve=q,this.reject=B})}wrapCallback(q){return(B,H)=>{B?this.reject(B):this.resolve(H),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(B):q(B,H))}}}function Ie(j,q){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=q||"demo-project",W=j.iat||0,xe=j.sub||j.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:W,exp:W+3600,auth_time:W,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ve)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function qe(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Oe().indexOf("Electron/")>=0}function _e(){const j=Oe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ee(){return Oe().indexOf("MSAppHost/")>=0}function Ue(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function be(){return new Promise((j,q)=>{try{let B=!0;const H="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(H);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(H),j(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var xe;q((null===(xe=W.error)||void 0===xe?void 0:xe.message)||"")}}catch(B){q(B)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(q,B,H){super(B),this.code=q,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(q,B,H){this.service=q,this.serviceName=B,this.errors=H}create(q,...B){const H=B[0]||{},W=`${this.service}/${q}`,xe=this.errors[q],Ve=xe?function ke(j,q){return j.replace(ft,(B,H)=>{const W=q[H];return null!=W?String(W):`<${H}?>`})}(xe,H):"Error";return new me(W,`${this.serviceName}: ${Ve} (${W}).`,H)}}const ft=/\{\$([^}]+)}/g;function Ir(j,q){return Object.prototype.hasOwnProperty.call(j,q)}function Nt(j){for(const q in j)if(Object.prototype.hasOwnProperty.call(j,q))return!1;return!0}function zr(j,q){if(j===q)return!0;const B=Object.keys(j),H=Object.keys(q);for(const W of B){if(!H.includes(W))return!1;const xe=j[W],Ve=q[W];if(pr(xe)&&pr(Ve)){if(!zr(xe,Ve))return!1}else if(xe!==Ve)return!1}for(const W of H)if(!B.includes(W))return!1;return!0}function pr(j){return null!==j&&"object"==typeof j}function Fi(j){const q=[];for(const[B,H]of Object.entries(j))Array.isArray(H)?H.forEach(W=>{q.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):q.push(encodeURIComponent(B)+"="+encodeURIComponent(H));return q.length?"&"+q.join("&"):""}function Fs(j){const q={};return j.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[W,xe]=H.split("=");q[decodeURIComponent(W)]=decodeURIComponent(xe)}}),q}function Vr(j){const q=j.indexOf("?");if(!q)return"";const B=j.indexOf("#",q);return j.substring(q,B>0?B:void 0)}function vt(j,q){const B=new Br(j,q);return B.subscribe.bind(B)}class Br{constructor(q,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{q(this)}).catch(H=>{this.error(H)})}next(q){this.forEachObserver(B=>{B.next(q)})}error(q){this.forEachObserver(B=>{B.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,B,H){let W;if(void 0===q&&void 0===B&&void 0===H)throw new Error("Missing Observer.");W=function Un(j,q){if("object"!=typeof j||null===j)return!1;for(const B of q)if(B in j&&"function"==typeof j[B])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:B,complete:H},void 0===W.next&&(W.next=Pi),void 0===W.error&&(W.error=Pi),void 0===W.complete&&(W.complete=Pi);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(Ve){}}),this.observers.push(W),xe}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,q)}sendOne(q,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{B(this.observers[q])}catch(H){"undefined"!=typeof console&&console.error&&console.error(H)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pi(){}function mr(j,q=1e3,B=2){const H=q*Math.pow(B,j),W=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+W)}function Ps(j){return j&&j._delegate?j._delegate:j}},4320:(et,ve,k)=>{var d=k(5e3);let X=null;function F(){return X}const ne=new d.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ge(){return(0,d.LFG)(G)}()},providedIn:"platform"}),n})();const z=new d.OlP("Location Initialized");let G=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function je(){return new G((0,d.LFG)(ne))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,d.LFG)(ne).location;return new Je((0,d.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const qe=new d.OlP("appBaseHref");let Je=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+Be(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+Be(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(qe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+Be(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+Be(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(qe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(Ue(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function Le(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Ie,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ee(){return new _e((0,d.LFG)(he),(0,d.LFG)(ue))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}function zo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let is=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Vs(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),oo(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{oo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function oo(n,e){n.context.$implicit=e.item}let Vn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){El("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){El("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class un{constructor(){this.$implicit=null,this.ngIf=null}}function El(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Da{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let _r=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Kr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Da(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(_r,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ia=(()=>{class n{constructor(t,r,i){i._addDefault(new Da(t,r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(_r,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Us{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Tc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const dp=new Tc,ss=new Us;let Ac=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return dp;if((0,d.F4k)(t))return ss;throw function yr(n,e){return new d.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),_i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const lo="browser";function Zo(n){return"server"===n}let bu=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Yo((0,d.LFG)(ne),window)}),n})();class Yo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $i(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wu(this.window.history)||wu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function wu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sn{}class uo extends class Ta extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new uo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Aa(){return Qt=Qt||document.querySelector("base"),Qt?Qt.getAttribute("href"):null}();return null==t?null:function Hs(n){Dl=Dl||document.createElement("a"),Dl.setAttribute("href",n);const e=Dl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zo(document.cookie,e)}}let Dl,Qt=null;const rr=new d.OlP("TRANSITION_ID"),wn=[{provide:d.ip1,useFactory:function Eu(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[rr,ne,d.zs3],multi:!0}];class Gi{static init(){(0,d.VLi)(new Gi)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(_){u=u||_,a--,0==a&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ir=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const co=new d.OlP("EventManagerPlugins");let os=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(co),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ma{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let yi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zi=(()=>{class n extends yi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Qo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qo))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Qo(n){F().remove(n)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jo=/%COMP%/g;function Se(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Se(n,i,t):(i=i.replace(Jo,n),t.push(i))}return t}function kt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Oa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new Su(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Se(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(os),d.LFG(zi),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Xo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(mt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=mt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=mt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kt(r)):this.eventManager.addEventListener(e,t,kt(r))}}class Oa extends Xo{constructor(e,t,r,i){super(e),this.component=r;const a=Se(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Du(n){return"_ngcontent-%COMP%".replace(Jo,n)}(i+"-"+r.id),this.hostAttr=function Iu(n){return"_nghost-%COMP%".replace(Jo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Su extends Xo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Se(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gp=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Tl=["alt","control","meta","shift"],Al={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},as={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fa=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(Tl.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),u+=_+".")}),u+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function $s(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&kn.hasOwnProperty(e)&&(e=kn[e]))}return Al[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tl.forEach(a=>{a!=i&&as[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const xl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:lo},{provide:d.g9A,useValue:function vi(){uo.makeCurrent(),Gi.init()},multi:!0},{provide:ne,useFactory:function Ml(){return(0,d.RDi)(document),document},deps:[]}]),Na=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Tu(){return new d.qLn},deps:[]},{provide:co,useClass:gp,multi:!0,deps:[ne,d.R0b,d.Lbi]},{provide:co,useClass:Fa,multi:!0,deps:[ne]},{provide:pn,useClass:pn,deps:[os,zi,d.AFp]},{provide:d.FYo,useExisting:pn},{provide:yi,useExisting:zi},{provide:zi,useClass:zi,deps:[ne]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:os,useClass:os,deps:[co,d.R0b]},{provide:sn,useClass:ir,deps:[]}];let ea=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:rr,useExisting:d.AFp},wn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Na,imports:[_i,d.hGG]}),n})();"undefined"!=typeof window&&window;let po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(Ru),r},providedIn:"root"}),n})(),Ru=(()=>{class n extends po{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(r),(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Gs(n){return new Ru(n.get(ne))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var vn=k(8996),Ba=k(3269);function ze(...n){const e=(0,Ba.yG)(n);return(0,vn.D)(n,e)}var jt=k(7579);class sr extends jt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var gn=k(8306);const{isArray:Ou}=Array,{getPrototypeOf:Hc,prototype:Ki,keys:ku}=Object;function hn(n){if(1===n.length){const e=n[0];if(Ou(e))return{args:e,keys:null};if(function Ua(n){return n&&"object"==typeof n&&Hc(n)===Ki}(e)){const t=ku(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var bi=k(4671),nt=k(4004);const{isArray:kl}=Array;function Fu(n){return(0,nt.U)(e=>function $c(n,e){return kl(e)?n(...e):n(e)}(n,e))}function ja(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var mn=k(5403),zs=k(9672);function Ha(...n){const e=(0,Ba.yG)(n),t=(0,Ba.jO)(n),{args:r,keys:i}=hn(n);if(0===r.length)return(0,vn.D)([],e);const a=new gn.y(function Zi(n,e,t=bi.y){return r=>{qs(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)qs(e,()=>{const w=(0,vn.D)(n[_],e);let I=!1;w.subscribe((0,mn.x)(r,M=>{a[_]=M,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>ja(i,u):bi.y));return t?a.pipe(Fu(t)):a}function qs(n,e,t){n?(0,zs.f)(t,n,e):e()}var Qr=k(576);function us(n,e){const t=(0,Qr.m)(n)?n:()=>n,r=i=>i.error(t());return new gn.y(e?i=>e.schedule(r,0,i):r)}const go=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mo=k(8189);function za(...n){return function Ga(){return(0,mo.J)(1)}()((0,vn.D)(n,(0,Ba.yG)(n)))}var wi=k(8421);function _o(n){return new gn.y(e=>{(0,wi.Xf)(n()).subscribe(e)})}var cs=k(515),Jn=k(727),In=k(4482);function yo(){return(0,In.e)((n,e)=>{let t=null;n._refCount++;const r=(0,mn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Yi extends gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,In.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jn.w0.EMPTY)}return e}refCount(){return yo()(this)}}function on(n,e){return(0,In.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,mn.x)(r,_=>{null==i||i.unsubscribe();let w=0;const I=a++;(0,wi.Xf)(n(_,I)).subscribe(i=(0,mn.x)(r,M=>r.next(e?e(_,M,I,w++):M),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function or(n){return n<=0?()=>cs.E:(0,In.e)((e,t)=>{let r=0;e.subscribe((0,mn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $n(...n){const e=(0,Ba.yG)(n);return(0,In.e)((t,r)=>{(e?za(n,t,e):za(n,t)).subscribe(r)})}function Ws(n,e,t,r,i){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,mn.x)(u,I=>{const M=w++;_=f?n(_,I,M):(f=!0,I),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}function Ei(n,e){return(0,In.e)(Ws(n,e,arguments.length>=2,!0))}function _n(n,e){return(0,In.e)((t,r)=>{let i=0;t.subscribe((0,mn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function ar(n){return(0,In.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,mn.x)(t,void 0,void 0,u=>{a=(0,wi.Xf)(n(u,ar(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Sn=k(5577);function qa(n,e){return(0,Qr.m)(e)?(0,Sn.z)(n,e,1):(0,Sn.z)(n,1)}function Nu(n){return n<=0?()=>cs.E:(0,In.e)((e,t)=>{let r=[];e.subscribe((0,mn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function bn(n=ch){return(0,In.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ch(){return new go}function dh(n){return(0,In.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_n((i,a)=>n(i,a,r)):bi.y,or(1),t?dh(e):bn(()=>new go))}var lr=k(8505);function hh(n){return(0,In.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class vo{constructor(e,t){this.id=e,this.url=t}}class sa extends vo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fl extends vo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tn extends vo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nl extends vo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ks extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pu extends vo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jr extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bo{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pl{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ll{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ka{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Vl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fn(n){return new Vl(n)}const Zs="ngNavigationCancelingError";function Ci(n){const e=Error("NavigationCancelingError: "+n);return e[Zs]=!0,e}function Bl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ds(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Vu(n[i],e[i]))return!1;return!0}function Vu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function fh(n){return Array.prototype.concat.apply([],n)}function Ul(n){return n.length>0?n[n.length-1]:null}function yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gn(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,vn.D)(Promise.resolve(n)):ze(n)}const Ya={exact:function ph(n,e,t){if(!L(n.segments,e.segments)||!Ys(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ph(n.children[r],e.children[r],t))return!1;return!0},subset:Qa},ei={exact:function hs(n,e){return ds(n,e)},subset:function qc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vu(n[t],e[t]))},ignored:()=>!0};function Eo(n,e,t){return Ya[t.paths](n.root,e.root,t.matrixParams)&&ei[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Qa(n,e,t){return Uu(n,e,e.segments,t)}function Uu(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!L(i,t)||e.hasChildren()||!Ys(i,t,r))}if(n.segments.length===t.length){if(!L(n.segments,t)||!Ys(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Qa(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(L(n.segments,i)&&Ys(n.segments,i,r)&&n.children[Ft])&&Uu(n.children[Ft],e,a,r)}}function Ys(n,e,t){return e.every((r,i)=>ei[t](n[i].parameters,r.parameters))}class Co{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fn(this.queryParams)),this._queryParamMap}toString(){return $e.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lt(this)}}class S{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fn(this.parameters)),this._parameterMap}toString(){return Di(this)}}function L(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class se{}class Me{parse(e){const t=new $m(e);return new Co(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_t(e.root,!0)}`,r=function jl(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ut(t)}=${ut(i)}`).join("&"):`${ut(t)}=${ut(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function En(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $e=new Me;function lt(n){return n.segments.map(e=>Di(e)).join("/")}function _t(n,e){if(!n.hasChildren())return lt(n);if(e){const t=n.children[Ft]?_t(n.children[Ft],!1):"",r=[];return yn(n.children,(i,a)=>{a!==Ft&&r.push(`${a}:${_t(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Q(n,e){let t=[];return yn(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),yn(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[_t(n.children[Ft],!1)]:[`${i}:${_t(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${lt(n)}/${t[0]}`:`${lt(n)}/(${t.join("//")})`}}function Dt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ut(n){return Dt(n).replace(/%3B/gi,";")}function wr(n){return Dt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fs(n){return decodeURIComponent(n)}function ps(n){return fs(n.replace(/\+/g,"%20"))}function Di(n){return`${wr(n.path)}${function Wc(n){return Object.keys(n).map(e=>`;${wr(e)}=${wr(n[e])}`).join("")}(n.parameters)}`}const Do=/^[^\/()?;=#]+/;function Er(n){const e=n.match(Do);return e?e[0]:""}const Qi=/^[^=?&#]+/,wp=/^[^&#]+/;class $m{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new C(e,t)),r}parseSegment(){const e=Er(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new S(fs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Er(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Er(this.remaining);i&&(r=i,this.capture(r))}e[fs(t)]=fs(r)}parseQueryParam(e){const t=function Kc(n){const e=n.match(Qi);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Ep(n){const e=n.match(wp);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=ps(t),a=ps(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Er(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ft);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Ft]:new C([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Cp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Hl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hl(e,this._root).map(t=>t.value)}}function gh(n,e){if(n===e.value)return e;for(const t of e.children){const r=gh(n,t);if(r)return r}return null}function Hl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Hl(n,t);if(r.length)return r.unshift(e),r}return[]}class Io{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function So(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zc extends Cp{constructor(e,t){super(e),this.snapshot=t,Qc(this,e)}toString(){return this.snapshot.toString()}}function Ja(n,e){const t=function Gm(n,e){const u=new aa([],{},{},"",{},Ft,e,null,n.root,-1,{});return new mh("",new Io(u,[]))}(n,e),r=new sr([new S("",{})]),i=new sr({}),a=new sr({}),u=new sr({}),f=new sr(""),_=new $l(r,i,u,f,a,Ft,e,t.root);return _.snapshot=t.root,new Zc(new Io(_,[]),t)}class $l{constructor(e,t,r,i,a,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(e=>Fn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(e=>Fn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Yc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class aa{constructor(e,t,r,i,a,u,f,_,w,I,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mh extends Cp{constructor(e,t){super(t),this.url=e,Qc(this,t)}toString(){return _h(this._root)}}function Qc(n,e){e.value._routerState=n,e.children.forEach(t=>Qc(n,t))}function _h(n){const e=n.children.length>0?` { ${n.children.map(_h).join(", ")} } `:"";return`${n.value}${e}`}function To(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ds(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ds(e.params,t.params)||n.params.next(t.params),function Za(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ds(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yh(n,e){const t=ds(n.params,e.params)&&function R(n,e){return L(n,e)&&n.every((t,r)=>ds(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yh(n.parent,e.parent))}function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ju(n,r,i);return ju(n,r)})}(n,e,t);return new Io(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>ju(n,f)),u}}const r=function Wm(n){return new $l(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>ju(n,a));return new Io(r,i)}}function gs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gl(n){return"object"==typeof n&&null!=n&&n.outlets}function Hu(n,e,t,r,i){let a={};if(r&&yn(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new Co(t,a,i);const u=Ip(n,e,t);return new Co(u,a,i)}function Ip(n,e,t){const r={};return yn(n.children,(i,a)=>{r[a]=i===e?t:Ip(i,e,t)}),new C(n.segments,r)}class vh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gs(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Gl);if(i&&i!==Ul(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $u{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Mp(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return Jc(n,e,t);const r=function Kb(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(Gl(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!_s(_,w,u))return a;r+=2}else{if(!_s(_,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new C(n.segments.slice(0,r.pathIndex),{});return a.children[Ft]=new C(n.segments.slice(r.pathIndex),n.children),Jc(a,0,i)}return r.match&&0===i.length?new C(n.segments,{}):r.match&&!n.hasChildren()?xp(n,e,t):r.match?Jc(n,0,i):xp(n,e,t)}function Jc(n,e,t){if(0===t.length)return new C(n.segments,{});{const r=function Ap(n){return Gl(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};return yn(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=Mp(n.children[u],e,a))}),yn(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new C(n.segments,i)}}function xp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Gl(a)){const _=ms(a.outlets);return new C(r,_)}if(0===i&&gs(t[0])){r.push(new S(n.segments[e].path,bh(t[0]))),i++;continue}const u=Gl(a)?a.outlets[Ft]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&gs(f)?(r.push(new S(u,bh(f))),i+=2):(r.push(new S(u,{})),i++)}return new C(r,{})}function ms(n){const e={};return yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xp(new C([],{}),0,t))}),e}function bh(n){const e={};return yn(n,(t,r)=>e[r]=`${t}`),e}function _s(n,e,t){return n==t.path&&ds(e,t.parameters)}class Rp{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),To(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=So(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),yn(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=So(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=So(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=So(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new wo(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Ll(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(To(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),To(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function Xc(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=_,u.outlet&&u.outlet.activateWith(i,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class ed{constructor(e,t){this.routes=e,this.module=t}}function el(n){return"function"==typeof n}function zl(n){return n instanceof Co}const td=Symbol("INITIAL_VALUE");function ql(){return on(n=>Ha(n.map(e=>e.pipe(or(1),$n(td)))).pipe(Ei((e,t)=>{let r=!1;return t.reduce((i,a,u)=>i!==td?i:(a===td&&(r=!0),r||!1!==a&&u!==t.length-1&&!zl(a)?i:a),e)},td),_n(e=>e!==td),(0,nt.U)(e=>zl(e)?e:!0===e),or(1)))}class Zm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wl,this.attachRef=null}}class Wl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Zm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let zu=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Ym(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wl),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ym{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$l?this.route:e===Wl?this.childContexts:this.parent.get(e,t)}}let Ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[zu],encapsulation:2}),n})();function tl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];nd(r,Dh(e,r))}}function nd(n,e){n.children&&tl(n.children,e)}function Dh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ih(n){const e=n.children&&n.children.map(Ih),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Ch),t}function Gt(n){return n.outlet||Ft}function kp(n,e){const t=n.filter(r=>Gt(r)===e);return t.push(...n.filter(r=>Gt(r)!==e)),t}const Fp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Fp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Bl)(t,n,e);if(!a)return Object.assign({},Fp);const u={};yn(a.posParams,(_,w)=>{u[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Zl(n,e,t,r,i="corrected"){if(t.length>0&&function Xm(n,e,t){return t.some(r=>la(n,e,r)&&Gt(r)!==Ft)}(n,t,r)){const u=new C(e,function Jm(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Gt(a)!==Ft){const u=new C([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Gt(a)]=u}return i}(n,e,r,new C(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function e_(n,e,t){return t.some(r=>la(n,e,r))}(n,t,r)){const u=new C(n.segments,function Qm(n,e,t,r,i,a){const u={};for(const f of r)if(la(n,t,f)&&!i[Gt(f)]){const _=new C([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Gt(f)]=_}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new C(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function la(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function t_(n,e,t,r){return!!(Gt(n)===r||r!==Ft&&la(e,t,n))&&("**"===n.path||Kl(e,n,t).matched)}function Np(n,e,t){return 0===e.length&&!n.children[t]}class ua{constructor(e){this.segmentGroup=e||null}}class Mr{constructor(e){this.urlTree=e}}function nl(n){return us(new ua(n))}function Sh(n){return us(new Mr(n))}class rd{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Zl(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,nt.U)(a=>this.createUrlTree(qu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ar(a=>{if(a instanceof Mr)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ua?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,nt.U)(i=>this.createUrlTree(qu(i),e.queryParams,e.fragment))).pipe(ar(i=>{throw i instanceof ua?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new C([],{[Ft]:e}):e;return new Co(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,nt.U)(a=>new C([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,vn.D)(i).pipe(qa(a=>{const u=r.children[a],f=kp(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,nt.U)(_=>({segment:_,outlet:a})))}),Ei((a,u)=>(a[u.outlet]=u.segment,a),{}),function Gc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_n((i,a)=>n(i,a,r)):bi.y,Nu(1),t?dh(e):bn(()=>new go))}())}expandSegment(e,t,r,i,a,u){return(0,vn.D)(r).pipe(qa(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(ar(w=>{if(w instanceof ua)return ze(null);throw w}))),Wa(f=>!!f),ar((f,_)=>{if(f instanceof go||"EmptyError"===f.name)return Np(t,i,a)?ze(new C([],{})):nl(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return t_(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):nl(t):nl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Sh(a):this.lineralizeSegments(r,a).pipe((0,Sn.z)(u=>{const f=new C(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=Kl(t,i,a);if(!f)return nl(t);const M=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?Sh(M):this.lineralizeSegments(i,M).pipe((0,Sn.z)(P=>this.expandSegment(e,t,r,P.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ze(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,nt.U)(M=>(r._loadedConfig=M,new C(i,{})))):ze(new C(i,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=Kl(t,r,i);return u?this.getChildConfig(e,r,i).pipe((0,Sn.z)(I=>{const M=I.module,P=I.routes,{segmentGroup:V,slicedSegments:U}=Zl(t,f,_,P),re=new C(V.segments,V.children);if(0===U.length&&re.hasChildren())return this.expandChildren(M,P,re).pipe((0,nt.U)(st=>new C(f,st)));if(0===P.length&&0===U.length)return ze(new C(f,{}));const De=Gt(r)===a;return this.expandSegment(M,re,P,U,De?Ft:a,!0).pipe((0,nt.U)(tt=>new C(f.concat(tt.segments),tt.children)))})):nl(t)}getChildConfig(e,t,r){return t.children?ze(new ed(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ze(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Sn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,nt.U)(a=>(t._loadedConfig=a,a))):function ur(n){return us(Ci(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ze(new ed([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ze(i.map(u=>{const f=e.get(u);let _;if(function wh(n){return n&&el(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!el(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return Gn(_)})).pipe(ql(),(0,lr.b)(u=>{if(!zl(u))return;const f=Ci(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,nt.U)(u=>!0===u)):ze(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ze(r);if(i.numberOfChildren>1||!i.children[Ft])return us(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Co(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return yn(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new C(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function qu(n){const e={};for(const r of Object.keys(n.children)){const a=qu(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function n_(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}class ti{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mo{constructor(e,t){this.component=e,this.route=t}}function Lp(n,e,t){const r=n._root;return il(r,e?e._root:null,t,[r.value])}function Yl(n,e,t){const r=function Ah(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function il(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=So(e);return n.children.forEach(u=>{(function Bp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function r_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!L(n.url,e.url);case"pathParamsOrQueryParamsChange":return!L(n.url,e.url)||!ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yh(n,e)||!ds(n.queryParams,e.queryParams);default:return!yh(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ti(r)):(a.data=u.data,a._resolvedData=u._resolvedData),il(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Mo(f.outlet.component,u))}else u&&ni(e,f,i),i.canActivateChecks.push(new ti(r)),il(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),yn(a,(u,f)=>ni(u,t.getContext(f),i)),i}function ni(n,e,t){const r=So(n),i=n.value;yn(r,(a,u)=>{ni(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Mo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Hp{}function Qs(n){return new gn.y(e=>e.error(n))}class $p{constructor(e,t,r,i,a,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=Zl(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new aa([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Io(r,t),a=new mh(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=zm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=kp(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;r.push(..._)}const i=zp(r);return function Gp(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,r,i);if(null!==u)return u}return Np(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!t_(e,t,r,i))return null;let a,u=[],f=[];if("**"===e.path){const V=r.length>0?Ul(r).parameters:{};a=new aa(r,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Gt(e),e.component,e,sl(t),ys(t)+r.length,p(e))}else{const V=Kl(t,e,r);if(!V.matched)return null;u=V.consumedSegments,f=V.remainingSegments,a=new aa(u,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Gt(e),e.component,e,sl(t),ys(t)+u.length,p(e))}const _=function o_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=Zl(t,u,f,_.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const V=this.processChildren(_,w);return null===V?null:[new Io(a,V)]}if(0===_.length&&0===I.length)return[new Io(a,[])];const M=Gt(e)===i,P=this.processSegment(_,w,I,M?Ft:i);return null===P?null:[new Io(a,P)]}}function Rh(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zp(n){const e=[],t=new Set;for(const r of n){if(!Rh(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=zp(r.children);e.push(new Io(r.value,i))}return e.filter(r=>!t.has(r))}function sl(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ys(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function Z(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ne(n){return on(e=>{const t=n(e);return t?(0,vn.D)(t).pipe((0,nt.U)(()=>e)):ze(e)})}class gt extends class bt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const An=new d.OlP("ROUTES");class ii{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,nt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new ed(fh(u.injector.get(An,void 0,d.XFs.Self|d.XFs.Optional)).map(Ih),u)}),ar(a=>{throw t._loader$=void 0,a}));return t._loader$=new Yi(i,()=>new jt.x).pipe(yo()),t._loader$}loadModuleFactory(e){return Gn(e()).pipe((0,Sn.z)(t=>t instanceof d.YKP?ze(t):(0,vn.D)(this.compiler.compileModuleAsync(t))))}}class a_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ca(n){throw n}function sd(n,e,t){return e.parse("/")}function od(n,e){return ze(null)}const Oh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ad={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class n{constructor(t,r,i,a,u,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jt.x,this.errorHandler=ca,this.malformedUriErrorHandler=sd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:od,afterPreactivation:od},this.urlHandlingStrategy=new a_,this.routeReuseStrategy=new gt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(d.h0i),this.console=u.get(d.c2e);const M=u.get(d.R0b);this.isNgZoneEnabled=M instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function bp(){return new Co(new C([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ii(u,f,P=>this.triggerEvent(new oa(P)),P=>this.triggerEvent(new bo(P))),this.routerState=Ja(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(_n(i=>0!==i.id),(0,nt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),on(i=>{let a=!1,u=!1;return ze(i).pipe((0,lr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),on(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Fh(f.source)&&(this.browserUrlTree=f.extractedUrl),ze(f).pipe(on(M=>{const P=this.transitions.getValue();return r.next(new sa(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),P!==this.transitions.getValue()?cs.E:Promise.resolve(M)}),function Pp(n,e,t,r){return on(i=>function rl(n,e,t,r,i){return new rd(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,nt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,lr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function m(n,e,t,r,i){return(0,Sn.z)(a=>function Wu(n,e,t,r,i="emptyOnly",a="legacy"){try{const u=new $p(n,e,t,r,i,a).recognize();return null===u?Qs(new Hp):ze(u)}catch(u){return Qs(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,nt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,lr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(V,M)}this.browserUrlTree=M.urlAfterRedirects}const P=new Ks(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(P)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:V,source:U,restoredState:re,extras:De}=f,He=new sa(P,this.serializeUrl(V),U,re);r.next(He);const tt=Ja(V,this.rootComponentType).snapshot;return ze(Object.assign(Object.assign({},f),{targetSnapshot:tt,urlAfterRedirects:V,extras:Object.assign(Object.assign({},De),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),cs.E}),Ne(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:P,replaceUrl:V}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!P,replaceUrl:!!V})}),(0,lr.b)(f=>{const _=new vp(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,nt.U)(f=>Object.assign(Object.assign({},f),{guards:Lp(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Up(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ze(Object.assign(Object.assign({},t),{guardsResult:!0})):function i_(n,e,t,r){return(0,vn.D)(n).pipe((0,Sn.z)(i=>function xh(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ze(a.map(f=>{const _=Yl(f,e,i);let w;if(function Zb(n){return n&&el(n.canDeactivate)}(_))w=Gn(_.canDeactivate(n,e,t,r));else{if(!el(_))throw new Error("Invalid CanDeactivate guard");w=Gn(_(n,e,t,r))}return w.pipe(Wa())})).pipe(ql()):ze(!0)}(i.component,i.route,t,e,r)),Wa(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Sn.z)(f=>f&&function Op(n){return"boolean"==typeof n}(f)?function id(n,e,t,r){return(0,vn.D)(e).pipe(qa(i=>za(function jp(n,e){return null!==n&&e&&e(new Pl(n)),ze(!0)}(i.route.parent,r),function s_(n,e){return null!==n&&e&&e(new Ka(n)),ze(!0)}(i.route,r),function Mh(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Vp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>_o(()=>ze(u.guards.map(_=>{const w=Yl(_,u.node,t);let I;if(function Eh(n){return n&&el(n.canActivateChild)}(w))I=Gn(w.canActivateChild(r,n));else{if(!el(w))throw new Error("Invalid CanActivateChild guard");I=Gn(w(r,n))}return I.pipe(Wa())})).pipe(ql())));return ze(a).pipe(ql())}(n,i.path,t),function ri(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ze(!0);const i=r.map(a=>_o(()=>{const u=Yl(a,e,t);let f;if(function Gu(n){return n&&el(n.canActivate)}(u))f=Gn(u.canActivate(e,n));else{if(!el(u))throw new Error("Invalid CanActivate guard");f=Gn(u(e,n))}return f.pipe(Wa())}));return ze(i).pipe(ql())}(n,i.route,t))),Wa(i=>!0!==i,!0))}(r,a,n,e):ze(f)),(0,nt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,lr.b)(f=>{if(zl(f.guardsResult)){const w=Ci(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new Pu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),_n(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ne(f=>{if(f.guards.canActivateChecks.length)return ze(f).pipe((0,lr.b)(_=>{const w=new Jr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),on(_=>{let w=!1;return ze(_).pipe(function b(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ze(t);let a=0;return(0,vn.D)(i).pipe(qa(u=>function T(n,e,t,r){return function O(n,e,t,r){const i=Z(n);if(0===i.length)return ze({});const a={};return(0,vn.D)(i).pipe((0,Sn.z)(u=>function ce(n,e,t,r){const i=Yl(n,e,r);return Gn(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,lr.b)(f=>{a[u]=f}))),Nu(1),(0,Sn.z)(()=>Z(a).length===i.length?ze(a):cs.E))}(n._resolve,n,e,r).pipe((0,nt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),zm(n,t).resolve),null)))}(u.route,r,n,e)),(0,lr.b)(()=>a++),Nu(1),(0,Sn.z)(u=>a===i.length?ze(t):cs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,lr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,lr.b)(_=>{const w=new Xr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Ne(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:P,replaceUrl:V}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!P,replaceUrl:!!V})}),(0,nt.U)(f=>{const _=function Dp(n,e,t){const r=ju(n,e._root,t?t._root:void 0);return new Zc(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,lr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,nt.U)(r=>(new Rp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,lr.b)({next(){a=!0},complete(){a=!0}}),hh(()=>{var f;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),ar(f=>{if(u=!0,function zc(n){return n&&n[Zs]}(f)){const _=zl(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Tn(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fh(i.source)};this.scheduleNavigation(I,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Nl(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return cs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){tl(t),this.config=t.map(Ih),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let M=null;switch(f){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),function Ao(n,e,t,r,i){if(0===t.length)return Hu(e.root,e.root,e.root,r,i);const a=function Km(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return yn(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new vh(t,e,r)}(t);if(a.toRoot())return Hu(e.root,e.root,new C([],{}),r,i);const u=function Sp(n,e,t){if(n.isAbsolute)return new $u(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new $u(a,a===e.root,0)}const r=gs(n.commands[0])?0:1;return function Tp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $u(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?Jc(u.segmentGroup,u.index,a.commands):Mp(u.segmentGroup,u.index,a.commands);return Hu(e.root,u.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,M,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=zl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function kh(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Oh):!1===r?Object.assign({},ad):r,zl(t))return Eo(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Eo(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Fl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let w,I,M;u?(w=u.resolve,I=u.reject,M=u.promise):M=new Promise((U,re)=>{w=U,I=re});const P=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),V=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):V=0,this.setTransition({id:P,targetPageId:V,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:I,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(U=>Promise.reject(U))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Tn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Fh(n){return"imperative"!==n}let ol=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new jt.x,this.subscription=t.events.subscribe(a=>{a instanceof Fl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){if(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Ql(this.skipLocationChange),replaceUrl:Ql(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ql(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cr),d.Y36($l),d.Y36(he))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function Ql(n){return""===n||!!n}class u_{}class Jb{preload(e,t){return ze(null)}}let Xb=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new ii(i,r,_=>t.triggerEvent(new oa(_)),_=>t.triggerEvent(new bo(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(_n(t=>t instanceof Fl),qa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,vn.D)(i).pipe((0,mo.J)(),(0,nt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ze(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Sn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cr),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(u_))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),qp=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Lu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Lu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vs=new d.OlP("ROUTER_CONFIGURATION"),d_=new d.OlP("ROUTER_FORROOT_GUARD"),ew=[_e,{provide:se,useClass:Me},{provide:cr,useFactory:function f_(n,e,t,r,i,a,u={},f,_){const w=new cr(null,n,e,t,r,i,fh(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function rw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(I=>{var M,P;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(P=console.groupEnd)||void 0===P||P.call(console)}),w},deps:[se,Wl,_e,d.zs3,d.Sil,An,vs,[class Ku{},new d.FiY],[class Ze{},new d.FiY]]},Wl,{provide:$l,useFactory:function Wp(n){return n.routerState.root},deps:[cr]},Xb,Jb,class c_{preload(e,t){return t().pipe(ar(()=>ze(null)))}},{provide:vs,useValue:{enableTracing:!1}}];function RD(){return new d.PXZ("Router",cr)}let da=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[ew,h_(t),{provide:d_,useFactory:nw,deps:[[cr,new d.FiY,new d.tp0]]},{provide:vs,useValue:r||{}},{provide:he,useFactory:tw,deps:[ue,[new d.tBr(qe),new d.FiY],vs]},{provide:qp,useFactory:OD,deps:[cr,bu,vs]},{provide:u_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Jb},{provide:d.PXZ,multi:!0,useFactory:RD},[ld,{provide:d.ip1,multi:!0,useFactory:iw,deps:[ld]},{provide:g_,useFactory:p_,deps:[ld]},{provide:d.tb,multi:!0,useExisting:g_}]]}}static forChild(t){return{ngModule:n,providers:[h_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d_,8),d.LFG(cr,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function OD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new qp(n,e,t)}function tw(n,e,t={}){return t.useHash?new Ae(n,e):new Je(n,e)}function nw(n){return"guarded"}function h_(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:An,multi:!0,useValue:n}]}let ld=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new jt.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(cr),u=this.injector.get(vs);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ze(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(vs),i=this.injector.get(Xb),a=this.injector.get(qp),u=this.injector.get(cr),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function iw(n){return n.appInitializer.bind(n)}function p_(n){return n.bootstrapListener.bind(n)}const g_=new d.OlP("Router Initializer");function sw(...n){const e=(0,Ba.jO)(n),{args:t,keys:r}=hn(n),i=new gn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let M=!1;(0,wi.Xf)(t[I]).subscribe((0,mn.x)(a,P=>{M||(M=!0,w--),f[I]=P},()=>_--,void 0,()=>{(!_||!M)&&(w||a.next(r?ja(r,f):f),a.complete())}))}});return e?i.pipe(Fu(e)):i}let __=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Zu=(()=>{class n extends __{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const ha=new d.OlP("NgValueAccessor"),aw={provide:ha,useExisting:(0,d.Gpc)(()=>ud),multi:!0},lw=new d.OlP("CompositionEventMode");let ud=(()=>{class n extends __{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BR(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(lw,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([aw]),d.qOj]}),n})();function al(n){return null==n||0===n.length}function uw(n){return null!=n&&"number"==typeof n.length}const si=new d.OlP("NgValidators"),xr=new d.OlP("NgAsyncValidators"),kD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xo{static min(e){return function cw(n){return e=>{if(al(e.value)||al(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function dw(n){return e=>{if(al(e.value)||al(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function hw(n){return al(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function fw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function y_(n){return al(n.value)||kD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function pw(n){return e=>al(e.value)||!uw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function gw(n){return e=>uw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function mw(n){if(!n)return It;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(al(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return _w(e)}static composeAsync(e){return fa(e)}}function It(n){return null}function v_(n){return null!=n}function b_(n){const e=(0,d.QGY)(n)?(0,vn.D)(n):n;return(0,d.CqO)(e),e}function w_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ph(n,e){return e.map(t=>t(n))}function E_(n){return n.map(e=>function Ro(n){return!n.validate}(e)?e:t=>e.validate(t))}function _w(n){if(!n)return null;const e=n.filter(v_);return 0==e.length?null:function(t){return w_(Ph(t,e))}}function Lh(n){return null!=n?_w(E_(n)):null}function fa(n){if(!n)return null;const e=n.filter(v_);return 0==e.length?null:function(t){return sw(Ph(t,e).map(b_)).pipe((0,nt.U)(w_))}}function Vh(n){return null!=n?fa(E_(n)):null}function C_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Yp(n){return n._rawValidators}function FD(n){return n._rawAsyncValidators}function Qp(n){return n?Array.isArray(n)?n:[n]:[]}function D_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Bh(n,e){const t=Qp(e);return Qp(n).forEach(i=>{D_(t,i)||t.push(i)}),t}function Uh(n,e){return Qp(e).filter(t=>!D_(n,t))}class Jp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Js extends Jp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $r extends Jp{get formDirective(){return null}get path(){return null}}class ND{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Xp=(()=>{class n extends ND{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Js,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),eg=(()=>{class n extends ND{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36($r,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function ng(n,e){rg(n,e),e.valueAccessor.writeValue(n.value),function ww(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ew(n,e)})}(n,e),function Jl(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function T_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ew(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function BD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Oo(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),dd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rg(n,e){const t=Yp(n);null!==e.validator?n.setValidators(C_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=FD(n);null!==e.asyncValidator?n.setAsyncValidators(C_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cd(e._rawValidators,i),cd(e._rawAsyncValidators,i)}function dd(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Yp(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=FD(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return cd(e._rawValidators,r),cd(e._rawAsyncValidators,r),t}function Ew(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function A_(n,e){rg(n,e)}function Yu(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Xl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const $h="VALID",Gh="INVALID",Qu="PENDING",Ju="DISABLED";function sg(n){return(F_(n)?n.validators:n)||null}function zh(n){return Array.isArray(n)?Lh(n):n||null}function O_(n,e){return(F_(e)?e.asyncValidators:n)||null}function k_(n){return Array.isArray(n)?Vh(n):n||null}function F_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const N_=n=>n instanceof ko,og=n=>n instanceof hd;function P_(n){return N_(n)?n.value:n.getRawValue()}function Dw(n,e){const t=og(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function Iw(n,e){og(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new d.vHH(1002,"")})}class Ii{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zh(this._rawValidators),this._composedAsyncValidatorFn=k_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$h}get invalid(){return this.status===Gh}get pending(){return this.status==Qu}get disabled(){return this.status===Ju}get enabled(){return this.status!==Ju}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zh(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=k_(e)}addValidators(e){this.setValidators(Bh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Bh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uh(e,this._rawAsyncValidators))}hasValidator(e){return D_(this._rawValidators,e)}hasAsyncValidator(e){return D_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$h,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$h||this.status===Qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ju:$h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qu,this._hasOwnPendingAsyncValidator=!0;const t=b_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function R_(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=og(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof KR)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ju:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qu)?Qu:this._anyControlsHaveStatus(Gh)?Gh:$h}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){F_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ko extends Ii{constructor(e=null,t,r){super(sg(t),O_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hd extends Ii{constructor(e,t,r){super(sg(t),O_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Iw(this,e),Object.keys(e).forEach(r=>{Dw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=P_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class KR extends Ii{constructor(e,t,r){super(sg(t),O_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Iw(this,e),e.forEach((r,i)=>{Dw(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>P_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ZR={provide:$r,useExisting:(0,d.Gpc)(()=>ag)},fd=(()=>Promise.resolve(null))();let ag=(()=>{class n extends $r{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new hd({},Lh(t),Vh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){fd.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ng(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){fd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){fd.then(()=>{const r=this._findContainer(t.path),i=new hd({});A_(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){fd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){fd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Yu(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(si,10),d.Y36(xr,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ZR]),d.qOj]}),n})(),lg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const j_=new d.OlP("NgModelWithFormControlWarning"),H_={provide:$r,useExisting:(0,d.Gpc)(()=>tu)};let tu=(()=>{class n extends $r{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ng(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Oo(t.control||null,t,!1),Xl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Yu(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Oo(r||null,t),N_(i)&&(ng(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);A_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function UD(n,e){return dd(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rg(this.form,this),this._oldForm&&dd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(si,10),d.Y36(xr,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([H_]),d.qOj,d.TTD]}),n})();const z_={provide:Js,useExisting:(0,d.Gpc)(()=>gd)};let gd=(()=>{class n extends Js{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Hh(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===ud?t=a:function jh(n){return Object.getPrototypeOf(n.constructor)===Zu}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function x_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function S_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36($r,13),d.Y36(si,10),d.Y36(xr,10),d.Y36(ha,10),d.Y36(j_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([z_]),d.qOj,d.TTD]}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ug]]}),n})(),ny=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:j_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nI]}),n})();function Rr(n){return null!=n&&"false"!=`${n}`}function fg(n,e=0){return function jw(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function ry(n){return Array.isArray(n)?n:[n]}function dr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cl(n){return n instanceof d.SBq?n.nativeElement:n}var pg=k(4986);function iy(n,e=pg.z){return(0,In.e)((t,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return i=this.schedule(void 0,w-I),void r.add(i);f()}t.subscribe((0,mn.x)(r,w=>{a=w,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}let rI=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hw=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=cl(t);return new gn.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new jt.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rI))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iI=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Rr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=fg(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(iy(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Hw),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),sI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rI]}),n})();const iO=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function sO(){return(0,d.f3M)(ne)}}),sy=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $w,Kh=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function oI(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?sy.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();try{$w="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){$w=!1}let Xu,Fo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function br(n){return n===lo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$w)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gw(){if(Xu)return Xu;if("object"!=typeof document||!document)return Xu=new Set(oy),Xu;let n=document.createElement("input");return Xu=new Set(oy.filter(e=>(n.setAttribute("type",e),n.type===e))),Xu}let mg,dl,ay;function vd(n){return function zw(){if(null==mg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mg=!0}))}finally{mg=mg||!1}return mg}()?n:!!n.capture}function uI(){if(null==dl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return dl=!1,dl;if("scrollBehavior"in document.documentElement.style)dl=!0;else{const n=Element.prototype.scrollTo;dl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return dl}function ga(n){return n.composedPath?n.composedPath()[0]:n.target}function nu(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Cd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function py(n,e=bi.y){return n=null!=n?n:oE,(0,In.e)((t,r)=>{let i,a=!0;t.subscribe((0,mn.x)(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}function oE(n,e){return n===e}var nS=k(5032);function Ji(n){return(0,In.e)((e,t)=>{(0,wi.Xf)(n).subscribe((0,mn.x)(t,()=>t.complete(),nS.Z)),!t.closed&&e.subscribe(t)})}class aS extends class oS{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new jt.x,this._typeaheadSubscription=Jn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new jt.x,this.change=new jt.x,e instanceof d.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,lr.b)(t=>this._pressedLetters.push(t)),iy(e),_n(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,u=r[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Cd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function vy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function by(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const dE=new d.OlP("cdk-input-modality-detector-options"),hE={ignoreKeys:[18,17,224,91,16]},nc=vd({passive:!0,capture:!0});let fE=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new sr(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ga(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vy(u)?"keyboard":"mouse"),this._mostRecentTarget=ga(u))},this._onTouchstart=u=>{by(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ga(u))},this._options=Object.assign(Object.assign({},hE),a),this.modalityDetected=this._modality.pipe(function tS(n){return _n((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(py()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,nc),i.addEventListener("mousedown",this._onMousedown,nc),i.addEventListener("touchstart",this._onTouchstart,nc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nc),document.removeEventListener("mousedown",this._onMousedown,nc),document.removeEventListener("touchstart",this._onTouchstart,nc))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fo),d.LFG(d.R0b),d.LFG(ne),d.LFG(dE,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pE=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function bS(){return null}}),wS=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ES=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[a,u]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pE,8),d.LFG(d.R0b),d.LFG(ne),d.LFG(wS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CS=new d.OlP("cdk-focus-monitor-default-options"),bg=vd({passive:!0,capture:!0});let gE=(()=>{class n{constructor(t,r,i,a,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new jt.x,this._rootNodeFocusAndBlurListener=f=>{const _=ga(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=cl(t);if(!this._platform.isBrowser||1!==i.nodeType)return ze(null);const a=function dI(n){if(function cI(){if(null==ay){const n="undefined"!=typeof document?document.head:null;ay=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ay}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new jt.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=cl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=cl(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=ga(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,bg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,bg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ji(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Fo),d.LFG(fE),d.LFG(ne,8),d.LFG(CS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mE="cdk-high-contrast-black-on-white",_E="cdk-high-contrast-white-on-black",Ey="cdk-high-contrast-active";let DS=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ey),t.remove(mE),t.remove(_E),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Ey),t.add(mE)):2===r&&(t.add(Ey),t.add(_E))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fo),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yE{}const pl="*";function Cy(n,e){return{type:7,name:n,definitions:e,options:{}}}function wg(n,e=null){return{type:4,styles:e,timings:n}}function Dy(n,e=null){return{type:2,steps:n,options:e}}function gl(n){return{type:6,styles:n,offset:null}}function rf(n,e,t){return{type:0,name:n,styles:e,options:t}}function sf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function vE(n=null){return{type:9,options:n}}function wE(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function EE(n){Promise.resolve(null).then(n)}class af{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){EE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?EE(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Ht=!1;function Sy(n){return new d.vHH(3e3,Ht)}function $S(){return"undefined"!=typeof window&&void 0!==window.document}function Sg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ml(n){switch(n.length){case 0:return new af;case 1:return n[0];default:return new rc(n)}}function Ty(n,e,t,r,i={},a={}){const u=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const M=I.offset,P=M==_,V=P&&w||{};Object.keys(I).forEach(U=>{let re=U,De=I[U];if("offset"!==U)switch(re=e.normalizePropertyName(re,u),De){case"!":De=i[U];break;case pl:De=a[U];break;default:De=e.normalizeStyleValue(U,re,De,u)}V[re]=De}),P||f.push(V),w=V,_=M}),u.length)throw function VS(n){return new d.vHH(3502,Ht)}();return f}function Ay(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Tg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Tg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Tg(t,"destroy",n)))}}function Tg(n,e,t){const r=t.totalTime,a=My(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function My(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function bs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function GS(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let kE=(n,e)=>!1,zS=(n,e,t)=>[],qS=null;function Ag(n){const e=n.parentNode||n.host;return e===qS?null:e}(Sg()||"undefined"!=typeof Element)&&($S()?(qS=(()=>document.documentElement)(),kE=(n,e)=>{for(;e;){if(e===n)return!0;e=Ag(e)}return!1}):kE=(n,e)=>n.contains(e),zS=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ic=null,Ry=!1;function Sd(n){ic||(ic=function KS(){return"undefined"!=typeof document?document.body:null}()||{},Ry=!!ic.style&&"WebkitAppearance"in ic.style);let e=!0;return ic.style&&!function WS(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ic.style,!e&&Ry&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ic.style)),e}const FE=kE,NE=zS;let PE=(()=>{class n{validateStyleProperty(t){return Sd(t)}matchesElement(t,r){return!1}containsElement(t,r){return FE(t,r)}getParentElement(t){return Ag(t)}query(t,r,i){return NE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,f=[],_){return new af(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Mg=(()=>{class n{}return n.NOOP=new PE,n})();const Oy="ng-enter",df="ng-leave",xg="ng-trigger",hf=".ng-trigger",VE="ng-animating",Rg=".ng-animating";function sc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ff(parseFloat(e[1]),e[2])}function ff(n,e){return"s"===e?1e3*n:n}function Og(n,e,t){return n.hasOwnProperty("duration")?n:function BE(n,e,t){let i,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Sy()),{duration:0,delay:0,easing:""};i=ff(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=ff(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function DE(){return new d.vHH(3100,Ht)}()),f=!0),a<0&&(e.push(function $O(){return new d.vHH(3101,Ht)}()),f=!0),f&&e.splice(_,0,Sy())}return{duration:i,delay:a,easing:u}}(n,e,t)}function oc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function su(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else oc(n,t);return t}function jE(n,e,t){return t?e+":"+t+";":""}function kg(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=jE(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=jE(0,$E(t),n.style[t]));n.setAttribute("style",e)}function va(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Fy(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Sg()&&kg(n))}function ou(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Fy(t);n.style[r]=""}),Sg()&&kg(n))}function pf(n){return Array.isArray(n)?1==n.length?n[0]:Dy(n):n}const ky=new RegExp("{{\\s*(.+?)\\s*}}","g");function HE(n){let e=[];if("string"==typeof n){let t;for(;t=ky.exec(n);)e.push(t[1]);ky.lastIndex=0}return e}function Fg(n,e,t){const r=n.toString(),i=r.replace(ky,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function MS(n){return new d.vHH(3003,Ht)}()),f=""),f.toString()});return i==r?n:i}function Ng(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const QS=/-+([a-z0-9])/g;function Fy(n){return n.replace(QS,(...e)=>e[1].toUpperCase())}function $E(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ws(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xS(n){return new d.vHH(3004,Ht)}()}}function Ny(n,e){return window.getComputedStyle(n)[e]}function tT(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Vy(n,e,t){if(":"==n[0]){const _=function nT(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function NS(n){return new d.vHH(3016,Ht)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ME(n){return new d.vHH(3015,Ht)}()),e;const i=r[1],a=r[2],u=r[3];e.push(By(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(By(u,i))}(r,t,e)):t.push(n),t}const gf=new Set(["true","1"]),Bg=new Set(["false","0"]);function By(n,e){const t=gf.has(n)||Bg.has(n),r=gf.has(e)||Bg.has(e);return(i,a)=>{let u="*"==n||n==i,f="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?gf.has(n):Bg.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?gf.has(e):Bg.has(e)),u&&f}}const WE=new RegExp("s*:selfs*,?","g");function KE(n,e,t,r){return new Ug(n).build(e,t,r)}class Ug{constructor(e){this._driver=e}build(e,t,r){const i=new mf(t);this._resetContextStyleTimingState(i);const a=ws(this,pf(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Eg(){return new d.vHH(3006,Ht)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function OS(){return new d.vHH(3007,Ht)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(f=>{if(Uy(f)){const _=f;Object.keys(_).forEach(w=>{HE(_[w]).forEach(I=>{u.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(Ng(a.values()),t.errors.push(function Cg(n,e){return new d.vHH(3008,Ht)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ws(this,pf(e.animation),t);return{type:1,matchers:tT(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ac(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ws(this,r,t)),options:ac(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const f=ws(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:ac(e.options)}}visitAnimate(e,t){const r=function YE(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return jy(Og(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=jy(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||Og(r,e),jy(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:gl({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};r.easing&&(w.easing=r.easing),u=gl(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==pl?r.push(u):t.errors.push(function Dg(n){return new d.vHH(3002,Ht)}()):r.push(u)}):r.push(e.styles);let i=!1,a=null;return r.forEach(u=>{if(Uy(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let I=!0;w&&(a!=i&&a>=w.startTime&&i<=w.endTime&&(t.errors.push(function GO(n,e,t,r,i){return new d.vHH(3010,Ht)}()),I=!1),a=w.startTime),I&&(_[f]={startTime:a,endTime:i}),t.options&&function YS(n,e,t){const r=e.params||{},i=HE(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function wt(n){return new d.vHH(3001,Ht)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function IE(){return new d.vHH(3011,Ht)}()),r;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map(He=>{const tt=this._makeStyleAst(He,t);let st=null!=tt.offset?tt.offset:function iT(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Uy(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Uy(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(tt.styles),rt=0;return null!=st&&(a++,rt=tt.offset=st),_=_||rt<0||rt>1,f=f||rt<w,w=rt,u.push(rt),tt});_&&t.errors.push(function kS(){return new d.vHH(3012,Ht)}()),f&&t.errors.push(function FS(){return new d.vHH(3200,Ht)}());const M=e.steps.length;let P=0;a>0&&a<M?t.errors.push(function SE(){return new d.vHH(3202,Ht)}()):0==a&&(P=1/(M-1));const V=M-1,U=t.currentTime,re=t.currentAnimateTimings,De=re.duration;return I.forEach((He,tt)=>{const st=P>0?tt==V?1:P*tt:u[tt],rt=st*De;t.currentTime=U+re.delay+rt,re.duration=rt,this._validateStyleAst(He,t),He.offset=st,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:ws(this,pf(e.animation),t),options:ac(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ac(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ac(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function rT(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(WE,"")),n=n.replace(/@\*/g,hf).replace(/@\w+/g,t=>hf+"-"+t.substr(1)).replace(/:animating/g,Rg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,bs(t.collectedStyles,t.currentQuerySelector,{});const f=ws(this,pf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:ac(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function TE(){return new d.vHH(3013,Ht)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Og(e.timings,t.errors,!0);return{type:12,animation:ws(this,pf(e.animation),t),timings:r,options:null}}}class mf{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uy(n){return!Array.isArray(n)&&"object"==typeof n}function ac(n){return n?(n=oc(n)).params&&(n.params=function Ad(n){return n?oc(n):null}(n.params)):n={},n}function jy(n,e,t){return{duration:n,delay:e,easing:t}}function Hy(n,e,t,r,i,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:f}}class jg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $y=new RegExp(":enter","g"),_f=new RegExp(":leave","g");function Gy(n,e,t,r,i,a={},u={},f,_,w=[]){return(new XE).buildKeyframes(n,e,t,r,i,a,u,f,_,w)}class XE{buildKeyframes(e,t,r,i,a,u,f,_,w,I=[]){w=w||new jg;const M=new zy(e,t,w,i,a,I,[]);M.options=_,M.currentTimeline.setStyles([u],null,M.errors,_),ws(this,r,M);const P=M.timelines.filter(V=>V.containsAnimation());if(Object.keys(f).length){let V;for(let U=P.length-1;U>=0;U--){const re=P[U];if(re.element===t){V=re;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,M.errors,_)}return P.length?P.map(V=>V.buildKeyframes()):[Hy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?sc(r.duration):null,f=null!=r.delay?sc(r.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ws(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yf);const u=sc(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ws(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?sc(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ws(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Og(t.params?Fg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?sc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yf);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(_=M.currentTimeline),ws(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;ws(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const yf={};class zy{constructor(e,t,r,i,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new $g(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=sc(r.duration)),null!=r.delay&&(i.delay=sc(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Fg(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new zy(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=yf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new qy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace($y,"."+this._enterClassName)).replace(_f,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&u.push(function AE(n){return new d.vHH(3014,Ht)}()),f}}class $g{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $g(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pl,this._currentKeyframe[t]=pl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},u=function WO(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=pl})):su(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=Fg(u[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:pl),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=su(f,!0);Object.keys(w).forEach(I=>{const M=w[I];"!"==M?e.add(I):M==pl&&t.add(I)}),r||(w.offset=_/this.duration),i.push(w)});const a=e.size?Ng(e.values()):[],u=t.size?Ng(t.values()):[];if(r){const f=i[0],_=oc(f);f.offset=0,_.offset=1,i=[f,_]}return Hy(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class qy extends $g{constructor(e,t,r,i,a,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,f=t/u,_=su(e[0],!1);_.offset=0,a.push(_);const w=su(e[0],!1);w.offset=e0(f),a.push(w);const I=e.length-1;for(let M=1;M<=I;M++){let P=su(e[M],!1);P.offset=e0((t+P.offset*r)/u),a.push(P)}r=u,t=0,i="",e=a}return Hy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function e0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Wy{}class t0 extends Wy{normalizePropertyName(e,t){return Fy(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(Md[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function RS(n,e){return new d.vHH(3005,Ht)}())}return u+a}}const Md=(()=>function ZO(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ky(n,e,t,r,i,a,u,f,_,w,I,M,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:M,errors:P}}const Zy={};class sT{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function n0(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):u}build(e,t,r,i,a,u,f,_,w,I){const M=[],P=this.ast.options&&this.ast.options.params||Zy,U=this.buildStyles(r,f&&f.params||Zy,M),re=_&&_.params||Zy,De=this.buildStyles(i,re,M),He=new Set,tt=new Map,st=new Map,rt="void"===i,Rt={params:Object.assign(Object.assign({},P),re)},Lt=I?[]:Gy(e,t,this.ast.animation,a,u,U,De,Rt,w,M);let dn=0;if(Lt.forEach(Ec=>{dn=Math.max(Ec.duration+Ec.delay,dn)}),M.length)return Ky(t,this._triggerName,r,i,rt,U,De,[],[],tt,st,dn,M);Lt.forEach(Ec=>{const Cc=Ec.element,aB=bs(tt,Cc,{});Ec.preStyleProps.forEach(ap=>aB[ap]=!0);const zb=bs(st,Cc,{});Ec.postStyleProps.forEach(ap=>zb[ap]=!0),Cc!==t&&He.add(Cc)});const Os=Ng(He.values());return Ky(t,this._triggerName,r,i,rt,U,De,Lt,Os,tt,st,dn)}}class YO{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=oc(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=Fg(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class Yy{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new YO(i.style,i.options&&i.options.params||{},r)}),s0(this.states,"true","1"),s0(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new sT(e,i,this.states))}),this.fallbackTransition=function oT(n,e,t){return new sT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function s0(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const aT=new jg;class lT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=KE(this._driver,t,r,[]);if(r.length)throw function BS(n){return new d.vHH(3503,Ht)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=Ty(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let u;const f=new Map;if(a?(u=Gy(this._driver,t,a,Oy,df,{},{},r,aT,i),u.forEach(I=>{const M=bs(f,I.element,{});I.postStyleProps.forEach(P=>M[P]=null)})):(i.push(function US(){return new d.vHH(3300,Ht)}()),u=[]),i.length)throw function Ig(n){return new d.vHH(3504,Ht)}();f.forEach((I,M)=>{Object.keys(I).forEach(P=>{I[P]=this._driver.computeStyle(M,P,pl)})});const w=ml(u.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,{},M)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function xE(n){return new d.vHH(3301,Ht)}();return t}listen(e,t,r,i){const a=My(t,"","","");return Ay(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const o0="ng-animate-queued",Qy="ng-animate-disabled",bf=[],Jy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Es="__ng_removed";class Gg{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function gT(n){return null!=n?n:null}(r?e.value:e),r){const a=oc(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const xd="void",zg=new Gg(xd);class fT{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,to(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function RE(n,e){return new d.vHH(3302,Ht)}();if(null==r||0==r.length)throw function OE(n){return new d.vHH(3303,Ht)}();if(!function wf(n){return"start"==n||"done"==n}(r))throw function jS(n,e){return new d.vHH(3400,Ht)}();const a=bs(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const f=bs(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(to(e,xg),to(e,xg+"-"+t),f[t]=zg),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function uf(n){return new d.vHH(3401,Ht)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Xy(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(to(e,xg),to(e,xg+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new Gg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=zg),w.value!==xd&&_.value===w.value){if(!function _T(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const re=[],De=a.matchStyles(_.value,_.params,re),He=a.matchStyles(w.value,w.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{ou(e,De),va(e,He)})}return}const P=bs(this._engine.playersByElement,e,[]);P.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let V=a.matchTransition(_.value,w.value,e,w.params),U=!1;if(!V){if(!i)return;V=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:w,player:u,isFallbackTransition:U}),U||(to(e,o0),u.onStart(()=>{_l(e,o0)})),u.onDone(()=>{let re=this.players.indexOf(u);re>=0&&this.players.splice(re,1);const De=this._engine.playersByElement.get(e);if(De){let He=De.indexOf(u);He>=0&&De.splice(He,1)}}),this.players.push(u),P.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,hf,!0);r.forEach(i=>{if(i[Es])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const w=this.trigger(e,_,xd,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&ml(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const _=this._triggers[u].fallbackTransition,w=r[u]||zg,I=new Gg(xd),M=new Xy(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Es];(!a||a===Jy)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){to(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=My(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Ay(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class l0{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new fT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),u=!0;break}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const u=r[i[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(qg(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!qg(t))return;const a=t[Es];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),to(e,Qy)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_l(e,Qy))}removeNode(e,t,r,i){if(qg(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Es]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return qg(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,hf,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Rg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ml(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Es];if(r&&r.setForRemoval){if(e[Es]=Jy,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Qy))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)to(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ml(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function cf(n){return new d.vHH(3402,Ht)}()}_flushAnimations(e,t){const r=new jg,i=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(ct=>{I.add(ct);const Ct=this.driver.query(ct,".ng-animate-queued",!0);for(let Mt=0;Mt<Ct.length;Mt++)I.add(Ct[Mt])});const M=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=No(P,this.collectedEnterElements),U=new Map;let re=0;V.forEach((ct,Ct)=>{const Mt=Oy+re++;U.set(Ct,Mt),ct.forEach(an=>to(an,Mt))});const De=[],He=new Set,tt=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const Ct=this.collectedLeaveElements[ct],Mt=Ct[Es];Mt&&Mt.setForRemoval&&(De.push(Ct),He.add(Ct),Mt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(an=>He.add(an)):tt.add(Ct))}const st=new Map,rt=No(P,Array.from(He));rt.forEach((ct,Ct)=>{const Mt=df+re++;st.set(Ct,Mt),ct.forEach(an=>to(an,Mt))}),e.push(()=>{V.forEach((ct,Ct)=>{const Mt=U.get(Ct);ct.forEach(an=>_l(an,Mt))}),rt.forEach((ct,Ct)=>{const Mt=st.get(Ct);ct.forEach(an=>_l(an,Mt))}),De.forEach(ct=>{this.processLeaveNode(ct)})});const Rt=[],Lt=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(t).forEach(Mt=>{const an=Mt.player,pi=Mt.element;if(Rt.push(an),this.collectedEnterElements.length){const ks=pi[Es];if(ks&&ks.setForMove){if(ks.previousTriggersValues&&ks.previousTriggersValues.has(Mt.triggerName)){const lp=ks.previousTriggersValues.get(Mt.triggerName),rh=this.statesByElement.get(Mt.element);rh&&rh[Mt.triggerName]&&(rh[Mt.triggerName].value=lp)}return void an.destroy()}}const mu=!M||!this.driver.containsElement(M,pi),jo=st.get(pi),nh=U.get(pi),tr=this._buildInstruction(Mt,r,nh,jo,mu);if(tr.errors&&tr.errors.length)return void Lt.push(tr);if(mu)return an.onStart(()=>ou(pi,tr.fromStyles)),an.onDestroy(()=>va(pi,tr.toStyles)),void i.push(an);if(Mt.isFallbackTransition)return an.onStart(()=>ou(pi,tr.fromStyles)),an.onDestroy(()=>va(pi,tr.toStyles)),void i.push(an);const cB=[];tr.timelines.forEach(ks=>{ks.stretchStartingKeyframe=!0,this.disabledNodes.has(ks.element)||cB.push(ks)}),tr.timelines=cB,r.append(pi,tr.timelines),u.push({instruction:tr,player:an,element:pi}),tr.queriedElements.forEach(ks=>bs(f,ks,[]).push(an)),tr.preStyleProps.forEach((ks,lp)=>{const rh=Object.keys(ks);if(rh.length){let up=_.get(lp);up||_.set(lp,up=new Set),rh.forEach(VR=>up.add(VR))}}),tr.postStyleProps.forEach((ks,lp)=>{const rh=Object.keys(ks);let up=w.get(lp);up||w.set(lp,up=new Set),rh.forEach(VR=>up.add(VR))})});if(Lt.length){const ct=[];Lt.forEach(Ct=>{ct.push(function HS(n,e){return new d.vHH(3505,Ht)}())}),Rt.forEach(Ct=>Ct.destroy()),this.reportError(ct)}const dn=new Map,Os=new Map;u.forEach(ct=>{const Ct=ct.element;r.has(Ct)&&(Os.set(Ct,Ct),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,dn))}),i.forEach(ct=>{const Ct=ct.element;this._getPreviousPlayers(Ct,!1,ct.namespaceId,ct.triggerName,null).forEach(an=>{bs(dn,Ct,[]).push(an),an.destroy()})});const Ec=De.filter(ct=>Cf(ct,_,w)),Cc=new Map;Wg(Cc,this.driver,tt,w,pl).forEach(ct=>{Cf(ct,_,w)&&Ec.push(ct)});const zb=new Map;V.forEach((ct,Ct)=>{Wg(zb,this.driver,new Set(ct),_,"!")}),Ec.forEach(ct=>{const Ct=Cc.get(ct),Mt=zb.get(ct);Cc.set(ct,Object.assign(Object.assign({},Ct),Mt))});const ap=[],lB=[],uB={};u.forEach(ct=>{const{element:Ct,player:Mt,instruction:an}=ct;if(r.has(Ct)){if(I.has(Ct))return Mt.onDestroy(()=>va(Ct,an.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(an.totalTime),void i.push(Mt);let pi=uB;if(Os.size>1){let jo=Ct;const nh=[];for(;jo=jo.parentNode;){const tr=Os.get(jo);if(tr){pi=tr;break}nh.push(jo)}nh.forEach(tr=>Os.set(tr,pi))}const mu=this._buildAnimation(Mt.namespaceId,an,dn,a,zb,Cc);if(Mt.setRealPlayer(mu),pi===uB)ap.push(Mt);else{const jo=this.playersByElement.get(pi);jo&&jo.length&&(Mt.parentPlayer=ml(jo)),i.push(Mt)}}else ou(Ct,an.fromStyles),Mt.onDestroy(()=>va(Ct,an.toStyles)),lB.push(Mt),I.has(Ct)&&i.push(Mt)}),lB.forEach(ct=>{const Ct=a.get(ct.element);if(Ct&&Ct.length){const Mt=ml(Ct);ct.setRealPlayer(Mt)}}),i.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<De.length;ct++){const Ct=De[ct],Mt=Ct[Es];if(_l(Ct,df),Mt&&Mt.hasAnimation)continue;let an=[];if(f.size){let mu=f.get(Ct);mu&&mu.length&&an.push(...mu);let jo=this.driver.query(Ct,Rg,!0);for(let nh=0;nh<jo.length;nh++){let tr=f.get(jo[nh]);tr&&tr.length&&an.push(...tr)}}const pi=an.filter(mu=>!mu.destroyed);pi.length?Ef(this,Ct,pi):this.processLeaveNode(Ct)}return De.length=0,ap.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const Ct=this.players.indexOf(ct);this.players.splice(Ct,1)}),ct.play()}),ap}elementContainsData(e,t){let r=!1;const i=t[Es];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==xd;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,M=bs(r,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),M.push(V)})}ou(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,M=new Set,P=t.timelines.map(U=>{const re=U.element;I.add(re);const De=re[Es];if(De&&De.removedBeforeQueried)return new af(U.duration,U.delay);const He=re!==_,tt=function mT(n){const e=[];return c0(n,e),e}((r.get(re)||bf).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===re),st=a.get(re),rt=u.get(re),Rt=Ty(0,this._normalizer,0,U.keyframes,st,rt),Lt=this._buildPlayer(U,Rt,tt);if(U.subTimeline&&i&&M.add(re),He){const dn=new Xy(e,f,re);dn.setRealPlayer(Lt),w.push(dn)}return Lt});w.forEach(U=>{bs(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function pT(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,U.element,U))}),I.forEach(U=>to(U,VE));const V=ml(P);return V.onDestroy(()=>{I.forEach(U=>_l(U,VE)),va(_,t.toStyles)}),M.forEach(U=>{bs(i,U,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new af(e.duration,e.delay)}}class Xy{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new af,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Ay(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){bs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qg(n){return n&&1===n.nodeType}function u0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Wg(n,e,t,r,i){const a=[];t.forEach(_=>a.push(u0(_)));const u=[];r.forEach((_,w)=>{const I={};_.forEach(M=>{const P=I[M]=e.computeStyle(w,M,i);(!P||0==P.length)&&(w[Es]=a0,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>u0(_,a[f++])),u}function No(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function to(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function _l(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Ef(n,e,t){ml(t).onDone(()=>n.processLeaveNode(e))}function c0(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof rc?c0(r.players,e):e.push(r)}}function Cf(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class lc{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new l0(e,t,r),this._timelineEngine=new lT(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],I=KE(this._driver,a,_,[]);if(_.length)throw function lf(n,e){return new d.vHH(3404,Ht)}();f=function r0(n,e,t){return new Yy(n,e,t)}(i,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=GS(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,f]=GS(r);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vT=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&va(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(va(this._element,this._initialStyles),this._endStyles&&(va(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ou(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ou(this._element,this._endStyles),this._endStyles=null),va(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Kg(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];d0(i)&&(e=e||{},e[i]=n[i])}return e}function d0(n){return"display"===n||"position"===n}class Zg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Ny(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class h0{validateStyleProperty(e){return Sd(e)}matchesElement(e,t){return!1}containsElement(e,t){return FE(e,t)}getParentElement(e){return Ag(e)}query(e,t,r){return NE(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w={},I=u.filter(P=>P instanceof Zg);(function GE(n,e){return 0===n||0===e})(r,i)&&I.forEach(P=>{let V=P.currentSnapshot;Object.keys(V).forEach(U=>w[U]=V[U])}),t=function JS(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],u=[];if(r.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(_){f[_]=Ny(n,_)})}}return e}(e,t=t.map(P=>su(P,!1)),w);const M=function yT(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Kg(e[0]),e.length>1&&(r=Kg(e[e.length-1]))):e&&(t=Kg(e)),t||r?new vT(n,t,r):null}(e,t);return new Zg(e,t,_,M)}}let bT=(()=>{class n extends yE{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Dy(t):t;return Yg(this._renderer,null,r,"register",[i]),new wT(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class wT extends class IS{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new QO(this._id,e,t||{},this._renderer)}}class QO{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Yg(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Yg(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const ev="@.disabled";let tv=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new Qg("",a,this.engine),this._rendererCache.set(a,I)),I}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return r.data.animation.forEach(_),new ET(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(lc),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Qg{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ev?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ET extends Qg{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ev?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function CT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function DT(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let IT=(()=>{class n extends lc{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(Mg),d.LFG(Wy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const au=new d.OlP("AnimationModuleType"),rv=[{provide:yE,useClass:bT},{provide:Wy,useFactory:function f0(){return new t0}},{provide:lc,useClass:IT},{provide:d.FYo,useFactory:function nv(n,e,t){return new tv(n,e,t)},deps:[pn,lc,d.R0b]}],iv=[{provide:Mg,useFactory:()=>new h0},{provide:au,useValue:"BrowserAnimations"},...rv],p0=[{provide:Mg,useClass:PE},{provide:au,useValue:"NoopAnimations"},...rv];let ST=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?p0:iv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:iv,imports:[ea]}),n})();function g0(n,e){if(1&n&&d._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=d.oxw();d.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function MT(n,e){if(1&n&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.hij("(",t.group.label,")")}}const Si=["*"],Df=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function tk(){return!0}});let Cs=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!nu()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(DS),d.LFG(Df,8),d.LFG(ne))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gg],gg]}),n})();function _0(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Rr(e)}}}function sv(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Jg(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Rr(e)}}}function y0(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?fg(t):this.defaultTabIndex}}}function ov(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new jt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let uv=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class E0{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cv={enterDuration:225,exitDuration:150},dv=vd({passive:!0}),hv=["mousedown","touchstart"],C0=["mouseup","mouseleave","touchend","touchcancel"];class D0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=cl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},cv),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function S0(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function I0(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const M=new E0(this,I,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const P=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!P||!this._isPointerDown)&&M.fadeOut()},w),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},cv),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=cl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(hv))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(C0),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=vy(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!by(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,dv)})})}_removeTriggerEvents(){this._triggerElement&&(hv.forEach(e=>{this._triggerElement.removeEventListener(e,this,dv)}),this._pointerUpEventsRegistered&&C0.forEach(e=>{this._triggerElement.removeEventListener(e,this,dv)}))}}const T0=new d.OlP("mat-ripple-global-options");let Xg=(()=>{class n{constructor(t,r,i,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new D0(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Fo),d.Y36(T0,8),d.Y36(au,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),A0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Cs],Cs]}),n})(),lk=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(au,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&d.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),M0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Cs]]}),n})();const PT=new d.OlP("MAT_OPTION_PARENT_COMPONENT"),LT=new d.OlP("MatOptgroup");let uk=0;class ck{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let em=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+uk++,this.onSelectionChange=new d.vpe,this._stateChanges=new jt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Rr(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Cd(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ck(this,t))}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),x0=(()=>{class n extends em{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(PT,8),d.Y36(LT,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(d.Ikx("id",r.id),d.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),d.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[d.qOj],ngContentSelectors:Si,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(d.F$t(),d.YNc(0,g0,1,2,"mat-pseudo-checkbox",0),d.TgZ(1,"span",1),d.Hsn(2),d.qZA(),d.YNc(3,MT,2,1,"span",2),d._UZ(4,"div",3)),2&t&&(d.Q6J("ngIf",r.multiple),d.xp6(3),d.Q6J("ngIf",r.group&&r.group._inert),d.xp6(1),d.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[lk,Vn,Xg],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function fv(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let u=0;u<n+1;u++)r[u].group&&r[u].group===i[a]&&a++;return a}return 0}let gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[A0,_i,Cs,M0]]}),n})();var cc=k(6451),dk=k(1144);const mv=["addListener","removeListener"],R0=["addEventListener","removeEventListener"],O0=["on","off"];function If(n,e,t,r){if((0,Qr.m)(t)&&(r=t,t=void 0),r)return If(n,e,t).pipe(Fu(r));const[i,a]=function _v(n){return(0,Qr.m)(n.addEventListener)&&(0,Qr.m)(n.removeEventListener)}(n)?R0.map(u=>f=>n[u](e,f,t)):function k0(n){return(0,Qr.m)(n.addListener)&&(0,Qr.m)(n.removeListener)}(n)?mv.map(VT(n,e)):function BT(n){return(0,Qr.m)(n.on)&&(0,Qr.m)(n.off)}(n)?O0.map(VT(n,e)):[];if(!i&&(0,dk.z)(n))return(0,Sn.z)(u=>If(u,e,t))((0,wi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new gn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function VT(n,e){return t=>r=>n[t](e,r)}const UT=["connectionContainer"],hk=["inputContainer"],fk=["label"];function pk(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15)(3,"div",16)(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15)(7,"div",16)(8,"div",17),d.qZA(),d.BQk())}function jT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function HT(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function $T(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function gk(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function GT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,HT,4,1,"ng-container",12),d.YNc(3,$T,1,0,"ng-content",12),d.YNc(4,gk,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function yv(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function zT(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Po(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function qT(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function vv(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,qT,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const WT=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],KT=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],N0=new d.OlP("MatError"),YT={transitionMessages:Cy("transitionMessages",[rf("enter",gl({opacity:1,transform:"translateY(0%)"})),sf("void => enter",[gl({opacity:0,transform:"translateY(-5px)"}),wg("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const Lo=new d.OlP("MatHint");let tm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),JT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const L0=new d.OlP("MatPrefix"),V0=new d.OlP("MatSuffix");let B0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","matSuffix",""]],features:[d._Bn([{provide:V0,useExisting:n}])]}),n})(),U0=0;const j0=sv(class{constructor(n){this._elementRef=n}},"primary"),XT=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),wv=new d.OlP("MatFormField");let nm=(()=>{class n extends j0{constructor(t,r,i,a,u,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new jt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+U0++,this._labelId="mat-form-field-label-"+U0++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Rr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe($n(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ji(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ji(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,cc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($n(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($n(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ji(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,If(this._label.nativeElement,"transitionend").pipe(or(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=r.querySelectorAll(`${i}, ${a}`);for(let M=0;M<I.length;M++)I[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=r.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(I),P=t.children,V=this._getStartEnd(P[0].getBoundingClientRect());let U=0;for(let re=0;re<P.length;re++)U+=P[re].offsetWidth;u=Math.abs(V-M)-5,f=U>0?.75*U+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${u}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Kh,8),d.Y36(XT,8),d.Y36(Fo),d.Y36(d.R0b),d.Y36(au,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,Sf,5),d.Suo(i,Sf,7),d.Suo(i,tm,5),d.Suo(i,tm,7),d.Suo(i,JT,5),d.Suo(i,N0,5),d.Suo(i,Lo,5),d.Suo(i,L0,5),d.Suo(i,V0,5)),2&t){let a;d.iGM(a=d.CRH())&&(r._controlNonStatic=a.first),d.iGM(a=d.CRH())&&(r._controlStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildNonStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildStatic=a.first),d.iGM(a=d.CRH())&&(r._placeholderChild=a.first),d.iGM(a=d.CRH())&&(r._errorChildren=a),d.iGM(a=d.CRH())&&(r._hintChildren=a),d.iGM(a=d.CRH())&&(r._prefixChildren=a),d.iGM(a=d.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(d.Gf(UT,7),d.Gf(hk,5),d.Gf(fk,5)),2&t){let i;d.iGM(i=d.CRH())&&(r._connectionContainerRef=i.first),d.iGM(i=d.CRH())&&(r._inputContainerRef=i.first),d.iGM(i=d.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:wv,useExisting:n}]),d.qOj],ngContentSelectors:KT,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(WT),d.TgZ(0,"div",0)(1,"div",1,2),d.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),d.YNc(3,pk,9,0,"ng-container",3),d.YNc(4,jT,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,GT,5,16,"label",8),d.qZA()(),d.YNc(10,yv,2,0,"div",9),d.qZA(),d.YNc(11,zT,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,Po,2,1,"div",12),d.YNc(14,vv,5,2,"div",13),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[Vn,iI,_r,Kr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[YT.transitionMessages]},changeDetection:0}),n})(),lu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[_i,Cs,sI],Cs]}),n})();var rm=k(4408);const kd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=kd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Jn.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=kd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=kd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var Ev=k(7565);new class H0 extends Ev.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class eA extends rm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(kd.cancelAnimationFrame(t),e._scheduled=void 0)}});let $0,Ek=1;const Tf={};function G0(n){return n in Tf&&(delete Tf[n],!0)}const nA={setImmediate(n){const e=Ek++;return Tf[e]=!0,$0||($0=Promise.resolve()),$0.then(()=>G0(e)&&n()),e},clearImmediate(n){G0(n)}},{setImmediate:Dk,clearImmediate:Ik}=nA,Cv={setImmediate(...n){const{delegate:e}=Cv;return((null==e?void 0:e.setImmediate)||Dk)(...n)},clearImmediate(n){const{delegate:e}=Cv;return((null==e?void 0:e.clearImmediate)||Ik)(n)},delegate:void 0};new class Tk extends Ev.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Sk extends rm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Cv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Cv.clearImmediate(t),e._scheduled=void 0)}});var sA=k(3532);function Iv(n,e=pg.z){return function iA(n){return(0,In.e)((e,t)=>{let r=!1,i=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const w=i;i=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,mn.x)(t,w=>{r=!0,i=w,a||(0,wi.Xf)(n(w)).subscribe(a=(0,mn.x)(t,f,_))},()=>{u=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function dc(n=0,e,t=pg.P){let r=-1;return null!=e&&((0,sA.K)(e)?t=e:r=e),new gn.y(i=>{let a=function z0(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let xk=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new jt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new gn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Iv(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ze()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(_n(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=cl(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>If(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Fo),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),im=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new jt.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Iv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fo),d.LFG(d.R0b),d.LFG(ne,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gg,sm],gg,sm]}),n})();class Af{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uA extends Af{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Q0 extends Af{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Vk extends Af{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class cA extends class Bk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Q0?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Vk?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const dA=uI();class Gk{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=dr(-this._previousScrollPosition.left),e.style.top=dr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),dA&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dA&&(r.scrollBehavior=a,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class s{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class o{enable(){}disable(){}attach(){}}function l(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function c(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class h{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();l(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let g=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new o,this.close=u=>new s(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Gk(this._viewportRuler,this._document),this.reposition=u=>new h(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xk),d.LFG(im),d.LFG(d.R0b),d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class v{constructor(e){if(this.scrollStrategy=new o,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class A{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class ${constructor(e,t,r,i,a,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new jt.x,this._attachments=new jt.x,this._detachments=new jt.x,this._locationChanges=Jn.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new jt.x,this._outsidePointerEvents=new jt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(or(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=dr(this._config.width),e.height=dr(this._config.height),e.minWidth=dr(this._config.minWidth),e.minHeight=dr(this._config.minHeight),e.maxWidth=dr(this._config.maxWidth),e.maxHeight=dr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=ry(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ji((0,cc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let J=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||nu()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),nu()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(Fo))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ye="cdk-overlay-connected-position-bounding-box",Pe=/([A-Za-z%]+)$/;class Ge{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jt.x,this._resizeSubscription=Jn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(ye),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ye),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?u:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=yt(t);let{x:u,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(u+=_),w&&(f+=w);let P=0-f,V=f+a.height-r.height,U=this._subtractOverflows(a.width,0-u,u+a.width-r.width),re=this._subtractOverflows(a.height,P,V),De=U*re;return{visibleArea:De,isCompletelyWithinViewport:a.width*a.height===De,fitsInViewportVertically:re===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,u=Te(this._overlayRef.getConfig().minHeight),f=Te(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=yt(t),a=this._viewportRect,u=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let I=0,M=0;return I=i.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-r.left-e.x:0,M=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:M},{x:e.x+I,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new A(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,u,f,I,M,P;if("top"===t.overlayY)u=e.y,a=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),U=this._lastBoundingBoxSize.height;a=2*V,u=e.y-V,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-U/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)P=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)M=e.x,I=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),U=this._lastBoundingBoxSize.width;I=2*V,M=e.x-V,I>U&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-U/2)}return{top:u,left:M,bottom:f,right:P,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=dr(r.height),i.top=dr(r.top),i.bottom=dr(r.bottom),i.width=dr(r.width),i.left=dr(r.left),i.right=dr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=dr(a)),u&&(i.maxWidth=dr(u))}this._lastBoundingBoxSize=r,Xe(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Xe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();Xe(r,this._getExactOverlayY(t,e,I)),Xe(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),u.maxHeight&&(i?r.maxHeight=dr(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=dr(u.maxWidth):a&&(r.maxWidth="")),Xe(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=dr(a.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=dr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:c(e,r),isOriginOutsideView:l(e,r),isOverlayClipped:c(t,r),isOverlayOutsideView:l(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ry(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Xe(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Te(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Pe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function yt(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $t="cdk-global-overlay-wrapper";class cn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add($t),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:u,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove($t),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ds=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new cn}flexibleConnectedTo(t){return new Ge(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(im),d.LFG(ne),d.LFG(Fo),d.LFG(J))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uu=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Av=(()=>{class n extends uu{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mv=(()=>{class n extends uu{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ga(a)},this._clickListener=a=>{const u=ga(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const M=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(Fo),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xv=0,Fd=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,M,P){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=M,this._outsideClickDispatcher=P}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),u=new v(t);return u.direction=u.direction||this._directionality.value,new $(a,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+xv++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new cA(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(g),d.LFG(J),d.LFG(d._Vd),d.LFG(Ds),d.LFG(Av),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ne),d.LFG(Kh),d.LFG(_e),d.LFG(Mv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Rv=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],om=new d.OlP("cdk-connected-overlay-scroll-strategy");let am=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),lm=(()=>{class n{constructor(t,r,i,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Jn.w0.EMPTY,this._attachSubscription=Jn.w0.EMPTY,this._detachSubscription=Jn.w0.EMPTY,this._positionSubscription=Jn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new d.vpe,this.positionChange=new d.vpe,this.attach=new d.vpe,this.detach=new d.vpe,this.overlayKeydown=new d.vpe,this.overlayOutsideClick=new d.vpe,this._templatePortal=new Q0(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Rr(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Rr(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Rr(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Rr(t)}get push(){return this._push}set push(t){this._push=Rr(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Rv);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Cd(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new v({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof am?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function $k(n,e=!1){return(0,In.e)((t,r)=>{let i=0;t.subscribe((0,mn.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fd),d.Y36(d.Rgc),d.Y36(d.s_b),d.Y36(om),d.Y36(Kh,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[d.TTD]}),n})();const UB={provide:om,deps:[Fd],useFactory:function Ov(n){return()=>n.scrollStrategies.reposition()}};let jB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Fd,UB],imports:[[gg,jk,Tv],Tv]}),n})();class HB{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new jt.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const $B=["trigger"],GB=["panel"];function zB(n,e){if(1&n&&(d.TgZ(0,"span",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.placeholder)}}function qB(n,e){if(1&n&&(d.TgZ(0,"span",12),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.Oqu(t.triggerValue)}}function WB(n,e){1&n&&d.Hsn(0,0,["*ngSwitchCase","true"])}function KB(n,e){if(1&n&&(d.TgZ(0,"span",9),d.YNc(1,qB,2,1,"span",10),d.YNc(2,WB,1,0,"ng-content",11),d.qZA()),2&n){const t=d.oxw();d.Q6J("ngSwitch",!!t.customTrigger),d.xp6(2),d.Q6J("ngSwitchCase",!0)}}function ZB(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",13)(1,"div",14,15),d.NdJ("@transformPanel.done",function(i){return d.CHM(t),d.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return d.CHM(t),d.oxw()._handleKeydown(i)}),d.Hsn(3,1),d.qZA()()}if(2&n){const t=d.oxw();d.Q6J("@transformPanelWrap",void 0),d.xp6(1),d.Gre("mat-select-panel ",t._getPanelTheme(),""),d.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),d.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),d.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const YB=[[["mat-select-trigger"]],"*"],QB=["mat-select-trigger","*"],zk={transformPanelWrap:Cy("transformPanelWrap",[sf("* => void",wE("@transformPanel",[vE()],{optional:!0}))]),transformPanel:Cy("transformPanel",[rf("void",gl({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),rf("showing",gl({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),rf("showing-multiple",gl({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),sf("void => *",wg("120ms cubic-bezier(0, 0, 0.2, 1)")),sf("* => void",wg("100ms 25ms linear",gl({opacity:0})))])};let qk=0;const Kk=new d.OlP("mat-select-scroll-strategy"),tU=new d.OlP("MAT_SELECT_CONFIG"),nU={provide:Kk,deps:[Fd],useFactory:function eU(n){return()=>n.scrollStrategies.reposition()}};class rU{constructor(e,t){this.source=e,this.value=t}}const iU=Jg(y0(_0(ov(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),sU=new d.OlP("MatSelectTrigger");let oU=(()=>{class n extends iU{constructor(t,r,i,a,u,f,_,w,I,M,P,V,U,re){var De,He,tt;super(u,a,_,w,M),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=I,this._liveAnnouncer=U,this._defaultOptions=re,this._panelOpen=!1,this._compareWith=(st,rt)=>st===rt,this._uid="mat-select-"+qk++,this._triggerAriaLabelledBy=null,this._destroy=new jt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+qk++,this._panelDoneAnimatingStream=new jt.x,this._overlayPanelClass=(null===(De=this._defaultOptions)||void 0===De?void 0:De.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(tt=null===(He=this._defaultOptions)||void 0===He?void 0:He.disableOptionCentering)&&void 0!==tt&&tt,this.ariaLabel="",this.optionSelectionChanges=_o(()=>{const st=this.options;return st?st.changes.pipe($n(st),on(()=>(0,cc.T)(...st.map(rt=>rt.onSelectionChange)))):this._ngZone.onStable.pipe(or(1),on(()=>this.optionSelectionChanges))}),this.openedChange=new d.vpe,this._openedStream=this.openedChange.pipe(_n(st=>st),(0,nt.U)(()=>{})),this._closedStream=this.openedChange.pipe(_n(st=>!st),(0,nt.U)(()=>{})),this.selectionChange=new d.vpe,this.valueChange=new d.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==re?void 0:re.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=re.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(xo.required))&&void 0!==a&&a}set required(t){this._required=Rr(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Rr(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Rr(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=fg(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new HB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(py(),Ji(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ji(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe($n(null),Ji(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,u=this._keyManager;if(!u.isTyping()&&a&&!Cd(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,u=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==i&&32!==i||!r.activeItem||Cd(t))if(!u&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(or(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new aS(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ji(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ji(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,cc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ji(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,cc.T)(...this.options.map(r=>r._stateChanges)).pipe(Ji(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(im),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(uv),d.Y36(d.SBq),d.Y36(Kh,8),d.Y36(ag,8),d.Y36(tu,8),d.Y36(wv,8),d.Y36(Js,10),d.$8M("tabindex"),d.Y36(Kk),d.Y36(ES),d.Y36(tU,8))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&(d.Gf($B,5),d.Gf(GB,5),d.Gf(lm,5)),2&t){let i;d.iGM(i=d.CRH())&&(r.trigger=i.first),d.iGM(i=d.CRH())&&(r.panel=i.first),d.iGM(i=d.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[d.qOj,d.TTD]}),n})(),Zk=(()=>{class n extends oU{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ji(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(or(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=fv(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function pv(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new rU(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let w=this._selectionModel.selected[0]||this.options.first;u=w&&w.group?32:16}i||(u*=-1);const f=0-(t.left+u-(i?a:0)),_=t.right+u-r.width+(i?0:a);f>0?u+=f+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;w>u?this._adjustPanelUp(w,u):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),u=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=fv(f,this.options,this.optionGroups);const _=i/2;this._scrollTop=this._calculateOverlayScroll(f,_,u),this._offsetY=this._calculateOverlayOffsetY(f,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,sU,5),d.Suo(i,x0,5),d.Suo(i,LT,5)),2&t){let a;d.iGM(a=d.CRH())&&(r.customTrigger=a.first),d.iGM(a=d.CRH())&&(r.options=a),d.iGM(a=d.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&d.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(d.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),d.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[d._Bn([{provide:Sf,useExisting:n},{provide:PT,useExisting:n}]),d.qOj],ngContentSelectors:QB,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(d.F$t(YB),d.TgZ(0,"div",0,1),d.NdJ("click",function(){return r.toggle()}),d.TgZ(3,"div",2),d.YNc(4,zB,2,1,"span",3),d.YNc(5,KB,3,2,"span",4),d.qZA(),d.TgZ(6,"div",5),d._UZ(7,"div",6),d.qZA()(),d.YNc(8,ZB,4,14,"ng-template",7),d.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=d.MAs(1);d.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),d.xp6(3),d.Q6J("ngSwitch",r.empty),d.uIk("id",r._valueId),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1),d.xp6(3),d.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[am,_r,Kr,Ia,lm,is],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[zk.transformPanelWrap,zk.transformPanel]},changeDetection:0}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nU],imports:[[_i,jB,gv,Cs],sm,lu,gv,Cs]}),n})();const Qk=vd({passive:!0});let aU=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return cs.E;const r=cl(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new jt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,Qk),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,Qk)}}),a}stopMonitoring(t){const r=cl(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const lU=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),uU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cU=0;const dU=ov(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let hA=(()=>{class n extends dU{constructor(t,r,i,a,u,f,_,w,I,M){super(f,a,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=M,this._uid="mat-input-"+cU++,this.focused=!1,this.stateChanges=new jt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>Gw().has(U)),this._iOSKeyupListener=U=>{const re=U.target;!re.value&&0===re.selectionStart&&0===re.selectionEnd&&(re.setSelectionRange(1,1),re.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,V=P.nodeName.toLowerCase();this._inputValueAccessor=_||P,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Rr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(xo.required))&&void 0!==a&&a}set required(t){this._required=Rr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Gw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Rr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){uU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Fo),d.Y36(Js,10),d.Y36(ag,8),d.Y36(tu,8),d.Y36(uv),d.Y36(lU,10),d.Y36(aU),d.Y36(d.R0b),d.Y36(wv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:Sf,useExisting:n}]),d.qOj,d.TTD]}),n})(),fA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[uv],imports:[[Jk,lu,Cs],Jk,lu]}),n})();const Xk=["mat-button",""],eF=["*"],pU=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],gU=sv(_0(Jg(class{constructor(n){this._elementRef=n}})));let X0=(()=>{class n extends gU{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of pU)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(gE),d.Y36(au,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(Xg,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:Xk,ngContentSelectors:eF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Xg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tF=(()=>{class n extends X0{constructor(t,r,i,a){super(r,t,i),this._ngZone=a,this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(gE),d.Y36(d.SBq),d.Y36(au,8),d.Y36(d.R0b,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:Xk,ngContentSelectors:eF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Xg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[A0,Cs],Cs]}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[_i,ny,lu,Yk,fA,Fv]]}),n})();var Ti=k(5813);function pA(){return(0,In.e)((n,e)=>{let t,r=!1;n.subscribe((0,mn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var it,yl=k(2011),_U=(k(1451),k(3942)),we=k(5861),Mf=k(9681),eC=k(4859),Nd=k(1877),Kt=k(2090),yU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hc={},gA=gA||{},xt=yU||self;function tC(){}function mA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _A="closure_uid_"+(1e9*Math.random()>>>0),bU=0;function wU(n,e,t){return n.call.apply(n.bind,arguments)}function EU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ai(n,e,t){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wU:EU).apply(null,arguments)}function nC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Pd(){this.s=this.s,this.o=this.o}var DU={};Pd.prototype.s=!1,Pd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function vU(n){return Object.prototype.hasOwnProperty.call(n,_A)&&n[_A]||(n[_A]=++bU)}(this);delete DU[n]}},Pd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},rF=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function iF(n){return Array.prototype.concat.apply([],arguments)}function yA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function rC(n){return/^[\s\xa0]*$/.test(n)}var Ss,sF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Is(n,e){return-1!=n.indexOf(e)}function vA(n,e){return n<e?-1:n>e?1:0}e:{var oF=xt.navigator;if(oF){var aF=oF.userAgent;if(aF){Ss=aF;break e}}Ss=""}function bA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function lF(n){const e={};for(const t in n)e[t]=n[t];return e}var uF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<uF.length;a++)t=uF[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wA(n){return wA[" "](n),n}wA[" "]=tC;var iC,n,TU=Is(Ss,"Opera"),cm=Is(Ss,"Trident")||Is(Ss,"MSIE"),dF=Is(Ss,"Edge"),EA=dF||cm,hF=Is(Ss,"Gecko")&&!(Is(Ss.toLowerCase(),"webkit")&&!Is(Ss,"Edge"))&&!(Is(Ss,"Trident")||Is(Ss,"MSIE"))&&!Is(Ss,"Edge"),AU=Is(Ss.toLowerCase(),"webkit")&&!Is(Ss,"Edge");function fF(){var n=xt.document;return n?n.documentMode:void 0}e:{var CA="",DA=(n=Ss,hF?/rv:([^\);]+)(\)|;)/.exec(n):dF?/Edge\/([\d\.]+)/.exec(n):cm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AU?/WebKit\/(\S+)/.exec(n):TU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DA&&(CA=DA?DA[1]:""),cm){var IA=fF();if(null!=IA&&IA>parseFloat(CA)){iC=String(IA);break e}}iC=CA}var MU={};var RU=xt.document&&cm&&(fF()||parseInt(iC,10))||void 0,OU=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",tC,e),xt.removeEventListener("test",tC,e)}catch(t){}return n}();function Xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Pv(n,e){if(Xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hF){e:{try{wA(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:kU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pv.Z.h.call(this)}}Xi.prototype.h=function(){this.defaultPrevented=!0},Mi(Pv,Xi);var kU={2:"touch",3:"pen",4:"mouse"};Pv.prototype.h=function(){Pv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lv="closure_listenable_"+(1e6*Math.random()|0),FU=0;function NU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++FU,this.ca=this.fa=!1}function sC(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function oC(n){this.src=n,this.g={},this.h=0}function TA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=nF(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(sC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function AA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}oC.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=AA(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new NU(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var MA="closure_lm_"+(1e6*Math.random()|0),xA={};function gF(n,e,t,r,i){if(r&&r.once)return _F(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)gF(n,e[a],t,r,i);return null}return t=FA(t),n&&n[Lv]?n.N(e,t,Nv(r)?!!r.capture:!!r,i):mF(n,e,t,!1,r,i)}function mF(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Nv(i)?!!i.capture:!!i,f=OA(n);if(f||(n[MA]=f=new oC(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function PU(){var e=LU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)OU||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(vF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _F(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)_F(n,e[a],t,r,i);return null}return t=FA(t),n&&n[Lv]?n.O(e,t,Nv(r)?!!r.capture:!!r,i):mF(n,e,t,!0,r,i)}function yF(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)yF(n,e[a],t,r,i);else r=Nv(r)?!!r.capture:!!r,t=FA(t),n&&n[Lv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=AA(a=n.g[e],t,r,i))&&(sC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=OA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=AA(e,t,r,i)),(t=-1<n?e[n]:null)&&RA(t))}function RA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Lv])TA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=OA(e))?(TA(t,n),0==t.h&&(t.src=null,e[MA]=null)):sC(n)}}}function vF(n){return n in xA?xA[n]:xA[n]="on"+n}function LU(n,e){if(n.ca)n=!0;else{e=new Pv(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&RA(n),n=t.call(r,e)}return n}function OA(n){return(n=n[MA])instanceof oC?n:null}var kA="__closure_events_fn_"+(1e9*Math.random()>>>0);function FA(n){return"function"==typeof n?n:(n[kA]||(n[kA]=function(e){return n.handleEvent(e)}),n[kA])}function ai(){Pd.call(this),this.i=new oC(this),this.P=this,this.I=null}function xi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xi(e,n);else if(e instanceof Xi)e.target=e.target||n;else{var i=e;cF(e=new Xi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=aC(u,r,!0,e)&&i}if(i=aC(u=e.g=n,r,!0,e)&&i,i=aC(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=aC(u=e.g=t[a],r,!1,e)&&i}function aC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&TA(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Mi(ai,Pd),ai.prototype[Lv]=!0,ai.prototype.removeEventListener=function(n,e,t,r){yF(this,n,e,t,r)},ai.prototype.M=function(){if(ai.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sC(t[r]);delete n.g[e],n.h--}}this.I=null},ai.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var NA=xt.JSON.stringify;function VU(){var n=wF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LA,bF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UU,n=>n.reset());class UU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jU(n){xt.setTimeout(()=>{throw n},0)}function PA(n,e){LA||function HU(){var n=xt.Promise.resolve(void 0);LA=function(){n.then($U)}}(),VA||(LA(),VA=!0),wF.add(n,e)}var VA=!1,wF=new class BU{constructor(){this.h=this.g=null}add(e,t){const r=bF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $U(){for(var n;n=VU();){try{n.h.call(n.g)}catch(t){jU(t)}var e=bF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}VA=!1}function lC(n,e){ai.call(this),this.h=n||1,this.g=e||xt,this.j=Ai(this.kb,this),this.l=Date.now()}function BA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function UA(n,e,t){if("function"==typeof n)t&&(n=Ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function EF(n){n.g=UA(()=>{n.g=null,n.i&&(n.i=!1,EF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(lC,ai),(it=lC.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xi(this,"tick"),this.da&&(BA(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){lC.Z.M.call(this),BA(this),delete this.g};class GU extends Pd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EF(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vv(n){Pd.call(this),this.h=n,this.g={}}Mi(Vv,Pd);var CF=[];function DF(n,e,t,r){Array.isArray(t)||(t&&(CF[0]=t.toString()),t=CF);for(var i=0;i<t.length;i++){var a=gF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function IF(n){bA(n.g,function(e,t){this.g.hasOwnProperty(t)&&RA(e)},n),n.g={}}function uC(){this.g=!0}function dm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function KU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return NA(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Vv.prototype.M=function(){Vv.Z.M.call(this),IF(this)},Vv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uC.prototype.Aa=function(){this.g=!1},uC.prototype.info=function(){};var xf={},SF=null;function cC(){return SF=SF||new ai}function TF(n){Xi.call(this,xf.Ma,n)}function Bv(n){const e=cC();xi(e,new TF(e,n))}function AF(n,e){Xi.call(this,xf.STAT_EVENT,n),this.stat=e}function Ts(n){const e=cC();xi(e,new AF(e,n))}function MF(n,e){Xi.call(this,xf.Na,n),this.size=e}function Uv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}xf.Ma="serverreachability",Mi(TF,Xi),xf.STAT_EVENT="statevent",Mi(AF,Xi),xf.Na="timingevent",Mi(MF,Xi);var dC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jA(){}function OF(){}jA.prototype.h=null;var GA,jv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function HA(){Xi.call(this,"d")}function $A(){Xi.call(this,"c")}function hC(){}function Hv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Vv(this),this.P=ZU,this.W=new lC(n=EA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kF}function kF(){this.i=null,this.g="",this.h=!1}Mi(HA,Xi),Mi($A,Xi),Mi(hC,jA),hC.prototype.g=function(){return new XMLHttpRequest},hC.prototype.i=function(){return{}},GA=new hC;var ZU=45e3,zA={},fC={};function qA(n,e,t){n.K=1,n.v=yC(fc(e)),n.s=t,n.U=!0,FF(n,null)}function FF(n,e){n.F=Date.now(),$v(n),n.A=fc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),$F(t.h,"t",r),n.C=0,t=n.l.H,n.h=new kF,n.g=hN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new GU(Ai(n.Ia,n,n.g),n.O)),DF(n.V,n.g,"readystatechange",n.gb),e=n.H?lF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Bv(1),function zU(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var M=I.split("_");u=2<=M.length&&"type"==M[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function NF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function PF(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=YU(n,t),i==fC){4==e&&(n.o=4,Ts(14),r=!1),dm(n.j,n.m,null,"[Incomplete Response]");break}if(i==zA){n.o=4,Ts(15),dm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dm(n.j,n.m,i,null),WA(n,i)}NF(n)&&i!=fC&&i!=zA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),iM(e),e.L=!0,Ts(11))):(dm(n.j,n.m,t,"[Invalid Chunked Response]"),Rf(n),Gv(n))}function YU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fC:(t=Number(e.substring(t,r)),isNaN(t)?zA:(r+=1)+t>e.length?fC:(e=e.substr(r,t),n.C=r+t,e))}function $v(n){n.Y=Date.now()+n.P,LF(n,n.P)}function LF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uv(Ai(n.eb,n),e)}function pC(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function Gv(n){0==n.l.G||n.I||lN(n.l,n)}function Rf(n){pC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,BA(n.W),IF(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function WA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||YA(t.i,n)))if(t.I=n.N,!n.J&&YA(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Uv(Ai(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;DC(t),EC(t)}rM(t),Ts(18)}if(1>=qF(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Ff(t,11)}else if((n.J||t.g==n)&&DC(t),!rC(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const M=w[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.K=r=1.5*P,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=r.i;!a.g&&(Is(U,"spdy")||Is(U,"quic")||Is(U,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(QA(a,a.h),a.h=null))}if(r.D){const re=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.sa=re,zn(r.F,r.D,re))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=dN(r,r.H?r.la:null,r.W),u.J){WF(r.i,u);var f=u,_=r.K;_&&f.setTimeout(_),f.B&&(pC(f),$v(f)),r.g=u}else oN(r);0<t.l.length&&CC(t)}else"stop"!=w[0]&&"close"!=w[0]||Ff(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ff(t,7):tM(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}Bv(4)}catch(w){}}function KA(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mA(n)||"string"==typeof n)rF(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(mA(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function QU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(mA(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function hm(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof hm)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ZA(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Of(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Of(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Of(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(it=Hv.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const e=this.L;e&&3==pc(n)?e.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const I=pc(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>I)&&(3!=I||EA||this.g&&(this.h.h||this.g.ga()||tN(this.g)))){this.I||4!=I||7==e||Bv(8==e||0>=M?3:2),pC(this);var t=this.g.ba();this.N=t;t:if(NF(this)){var r=tN(this.g);n="";var i=r.length,a=4==pc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rf(this),Gv(this);var u="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function qU(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rC(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ts(12),Rf(this),Gv(this);break e}dm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,WA(this,t)}this.U?(PF(this,I,u),EA&&this.i&&3==I&&(DF(this.V,this.W,"tick",this.fb),this.W.start())):(dm(this.j,this.m,u,null),WA(this,u)),4==I&&Rf(this),this.i&&!this.I&&(4==I?lN(this.l,this):(this.i=!1,$v(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ts(12)):(this.o=0,Ts(13)),Rf(this),Gv(this)}}}catch(I){}},it.fb=function(){if(this.g){var n=pc(this.g),e=this.g.ga();this.C<e.length&&(pC(this),PF(this,n,e),this.i&&4!=n&&$v(this))}},it.cancel=function(){this.I=!0,Rf(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function WU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bv(3),Ts(17)),Rf(this),this.o=2,Gv(this)):LF(this,this.Y-n)},(it=hm.prototype).R=function(){ZA(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},it.T=function(){return ZA(this),this.g.concat()},it.get=function(n,e){return Of(this.h,n)?this.h[n]:e},it.set=function(n,e){Of(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},it.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var VF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof kf){this.g=void 0!==e?e:n.g,gC(this,n.j),this.s=n.s,mC(this,n.i),_C(this,n.m),this.l=n.l,e=n.h;var t=new Wv;t.i=e.i,e.g&&(t.g=new hm(e.g),t.h=e.h),BF(this,t),this.o=n.o}else n&&(t=String(n).match(VF))?(this.g=!!e,gC(this,t[1]||"",!0),this.s=zv(t[2]||""),mC(this,t[3]||"",!0),_C(this,t[4]),this.l=zv(t[5]||"",!0),BF(this,t[6]||"",!0),this.o=zv(t[7]||"")):(this.g=!!e,this.h=new Wv(null,this.g))}function fc(n){return new kf(n)}function gC(n,e,t){n.j=t?zv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mC(n,e,t){n.i=t?zv(e,!0):e}function _C(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BF(n,e,t){e instanceof Wv?(n.h=e,function a2(n,e){e&&!n.j&&(Ld(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(jF(this,r),$F(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=qv(e,s2)),n.h=new Wv(e,n.g))}function zn(n,e,t){n.h.set(e,t)}function yC(n){return zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,t2),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function t2(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qv(e,UF,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qv(e,UF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(qv(t,"/"==t.charAt(0)?r2:n2,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qv(t,o2)),n.join("")};var UF=/[#\/\?@]/g,n2=/[#\?:]/g,r2=/[#\?]/g,s2=/[#\?@]/g,o2=/#/g;function Wv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ld(n){n.g||(n.g=new hm,n.h=0,n.i&&function JU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jF(n,e){Ld(n),e=fm(n,e),Of(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Of((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ZA(n)))}function HF(n,e){return Ld(n),e=fm(n,e),Of(n.g.h,e)}function $F(n,e,t){jF(n,e),0<t.length&&(n.i=null,n.g.set(fm(n,e),yA(t)),n.h+=t.length)}function fm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function GF(n){this.l=n||u2,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Wv.prototype).add=function(n,e){Ld(this),this.i=null,n=fm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Ld(this),this.g.forEach(function(t,r){rF(t,function(i){n.call(e,i,r,this)},this)},this)},it.T=function(){Ld(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},it.R=function(n){Ld(this);var e=[];if("string"==typeof n)HF(this,n)&&(e=iF(e,this.g.get(fm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=iF(e,n[t])}return e},it.set=function(n,e){return Ld(this),this.i=null,HF(this,n=fm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var u2=10;function zF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qF(n){return n.h?1:n.g?n.g.size:0}function YA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QA(n,e){n.g?n.g.add(e):n.h=e}function WF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function KF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yA(n.i)}function JA(){}function c2(){this.g=new JA}function d2(n,e,t){const r=t||"";try{KA(n,function(i,a){let u=i;Nv(i)&&(u=NA(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Kv(n){this.l=n.$b||null,this.j=n.ib||!1}function bC(n,e){ai.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=XA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GF.prototype.cancel=function(){if(this.i=KF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JA.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},JA.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},Mi(Kv,jA),Kv.prototype.g=function(){return new bC(this.l,this.j)},Kv.prototype.i=function(n){return function(){return n}}({}),Mi(bC,ai);var XA=0;function ZF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Zv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yv(n)}function Yv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=bC.prototype).open=function(n,e){if(this.readyState!=XA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yv(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zv(this)),this.readyState=XA},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yv(this)),this.g&&(this.readyState=3,Yv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zv(this):Yv(this),3==this.readyState&&ZF(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,Zv(this))},it.Ta=function(n){this.g&&(this.response=n,Zv(this))},it.ha=function(){this.g&&Zv(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var f2=xt.JSON.parse;function Or(n){ai.call(this),this.headers=new hm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YF,this.K=this.L=!1}Mi(Or,ai);var YF="",p2=/^https?$/i,g2=["POST","PUT"];function _2(n){return"content-type"==n.toLowerCase()}function QF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,JF(n),wC(n)}function JF(n){n.D||(n.D=!0,xi(n,"complete"),xi(n,"error"))}function XF(n){if(n.h&&void 0!==gA&&(!n.C[1]||4!=pc(n)||2!=n.ba()))if(n.v&&4==pc(n))UA(n.Fa,0,n);else if(xi(n,"readystatechange"),4==pc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(VF)[1]||null;if(!i&&xt.self&&xt.self.location){var a=xt.self.location.protocol;i=a.substr(0,a.length-1)}r=!p2.test(i?i.toLowerCase():"")}t=r}if(t)xi(n,"complete"),xi(n,"success");else{n.m=6;try{var u=2<pc(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",JF(n)}}finally{wC(n)}}}function wC(n,e){if(n.g){eN(n);const t=n.g,r=n.C[0]?tC:null;n.g=null,n.C=null,e||xi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function eN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function pc(n){return n.g?n.g.readyState:0}function tN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function eM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function y2(n){let e="";return bA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zn(n,e,t))}function Qv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nN(n){this.za=0,this.l=[],this.h=new uC,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qv("baseRetryDelayMs",5e3,n),this.$a=Qv("retryDelaySeedMs",1e4,n),this.Ya=Qv("forwardChannelMaxRetries",2,n),this.ra=Qv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new GF(n&&n.concurrentRequestLimit),this.Ca=new c2,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function tM(n){if(rN(n),3==n.G){var e=n.V++,t=fc(n.F);zn(t,"SID",n.J),zn(t,"RID",e),zn(t,"TYPE","terminate"),Jv(n,t),(e=new Hv(n,n.h,e,void 0)).K=2,e.v=yC(fc(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$v(e)}cN(n)}function EC(n){n.g&&(iM(n),n.g.cancel(),n.g=null)}function rN(n){EC(n),n.u&&(xt.clearTimeout(n.u),n.u=null),DC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function nM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&CC(n)}function CC(n){zF(n.i)||n.m||(n.m=!0,PA(n.Ha,n),n.C=0)}function iN(n,e){var t;t=e?e.m:n.V++;const r=fc(n.F);zn(r,"SID",n.J),zn(r,"RID",t),zn(r,"AID",n.U),Jv(n,r),n.o&&n.s&&eM(r,n.o,n.s),t=new Hv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=sN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),QA(n.i,t),qA(t,r,e)}function Jv(n,e){n.j&&KA({},function(t,r){zn(e,r,t)})}function sN(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ai(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{d2(I,u,"req"+w+"_")}catch(M){r&&r(I)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function oN(n){n.g||n.u||(n.Y=1,PA(n.Ga,n),n.A=0)}function rM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Uv(Ai(n.Ga,n),uN(n,n.A)),n.A++,0))}function iM(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function aN(n){n.g=new Hv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=fc(n.oa);zn(e,"RID","rpc"),zn(e,"SID",n.J),zn(e,"CI",n.N?"0":"1"),zn(e,"AID",n.U),Jv(n,e),zn(e,"TYPE","xmlhttp"),n.o&&n.s&&eM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=yC(fc(e)),t.s=null,t.U=!0,FF(t,n)}function DC(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function lN(n,e){var t=null;if(n.g==e){DC(n),iM(n),n.g=null;var r=2}else{if(!YA(n.i,e))return;t=e.D,WF(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;xi(r=cC(),new MF(r,t,e,i)),CC(n)}else oN(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function v2(n,e){return!(qF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Uv(Ai(n.Ha,n,e),uN(n,n.C)),n.C++,0)))}(n,e)||2==r&&rM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ff(n,5);break;case 4:Ff(n,10);break;case 3:Ff(n,6);break;default:Ff(n,2)}}function uN(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ff(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ai(n.jb,n);t||(t=new kf("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||gC(t,"https"),yC(t)),function h2(n,e){const t=new uC;if(xt.Image){const r=new Image;r.onload=nC(vC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=nC(vC,t,r,"TestLoadImage: error",!1,e),r.onabort=nC(vC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=nC(vC,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ts(2);n.G=0,n.j&&n.j.va(e),cN(n),rN(n)}function cN(n){n.G=0,n.I=-1,n.j&&((0!=KF(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yA(n.l),n.l.length=0),n.j.ua())}function dN(n,e,t){let r=function XU(n){return n instanceof kf?fc(n):new kf(n,void 0)}(t);if(""!=r.i)e&&mC(r,e+"."+r.i),_C(r,r.m);else{const i=xt.location;r=function e2(n,e,t,r){var i=new kf(null,void 0);return n&&gC(i,n),e&&mC(i,e),t&&_C(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&bA(n.aa,function(i,a){zn(r,a,i)}),t=n.sa,(e=n.D)&&t&&zn(r,e,t),zn(r,"VER",n.ma),Jv(n,r),r}function hN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t&&n.Ba&&!n.qa?new Kv({ib:!0}):n.qa)).L=n.H,e}function fN(){}function IC(){if(cm&&!(10<=Number(RU)))throw Error("Environmental error: no available transport.")}function Vo(n,e){ai.call(this),this.g=new nN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!rC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pm(this)}function pN(n){HA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gN(){$A.call(this),this.status=1}function pm(n){this.g=n}(it=Or.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():GA.g(),this.C=function RF(n){return n.h||(n.h=n.i())}(this.u?this.u:GA),this.g.onreadystatechange=Ai(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void QF(this,a)}n=t||"";const i=new hm(this.headers);r&&KA(r,function(a,u){i.set(u,a)}),r=function IU(n){e:{var e=_2;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=nF(g2,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eN(this),0<this.B&&((this.K=function m2(n){return cm&&function xU(){return function SU(n){var e=MU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=sF(String(iC)).split("."),t=sF("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=vA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||vA(0==i[2].length,0==a[2].length)||vA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.pa,this)):this.A=UA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){QF(this,a)}},it.pa=function(){void 0!==gA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xi(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xi(this,"complete"),xi(this,"abort"),wC(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wC(this,!0)),Or.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?XF(this):this.cb())},it.cb=function(){XF(this)},it.ba=function(){try{return 2<pc(this)?this.g.status:-1}catch(n){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},it.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),f2(e)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=nN.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Hv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=lF(a),cF(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sN(this,i,e),zn(t=fc(this.F),"RID",n),zn(t,"CVER",22),this.D&&zn(t,"X-HTTP-Session-Id",this.D),Jv(this,t),this.o&&a&&eM(t,this.o,a),QA(this.i,i),this.Ra&&zn(t,"TYPE","init"),this.ja?(zn(t,"$req",e),zn(t,"SID","null"),i.$=!0,qA(i,t,null)):qA(i,t,e),this.G=2}}else 3==this.G&&(n?iN(this,n):0==this.l.length||zF(this.i)||iN(this))},it.Ga=function(){if(this.u=null,aN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Uv(Ai(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ts(10),EC(this),aN(this))},it.ab=function(){null!=this.v&&(this.v=null,EC(this),rM(this),Ts(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ts(2)):(this.h.info("Failed to ping google.com"),Ts(1))},(it=fN.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},IC.prototype.g=function(n,e){return new Vo(n,e)},Mi(Vo,ai),Vo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),PA(Ai(n.hb,n,e))),Ts(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=dN(n,null,n.W),CC(n)},Vo.prototype.close=function(){tM(this.g)},Vo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,nM(this.g,e)}else this.v?((e={}).__data__=NA(n),nM(this.g,e)):nM(this.g,n)},Vo.prototype.M=function(){this.g.j=null,delete this.j,tM(this.g),delete this.g,Vo.Z.M.call(this)},Mi(pN,HA),Mi(gN,$A),Mi(pm,fN),pm.prototype.xa=function(){xi(this.g,"a")},pm.prototype.wa=function(n){xi(this.g,new pN(n))},pm.prototype.va=function(n){xi(this.g,new gN(n))},pm.prototype.ua=function(){xi(this.g,"b")},IC.prototype.createWebChannel=IC.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,dC.NO_ERROR=0,dC.TIMEOUT=8,dC.HTTP_ERROR=6,xF.COMPLETE="complete",OF.EventType=jv,jv.OPEN="a",jv.CLOSE="b",jv.ERROR="c",jv.MESSAGE="d",ai.prototype.listen=ai.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.La,Or.prototype.getLastErrorCode=Or.prototype.Da,Or.prototype.getStatus=Or.prototype.ba,Or.prototype.getResponseJson=Or.prototype.Qa,Or.prototype.getResponseText=Or.prototype.ga,Or.prototype.send=Or.prototype.ea;var b2=hc.createWebChannelTransport=function(){return new IC},w2=hc.getStatEventTarget=function(){return cC()},sM=hc.ErrorCode=dC,E2=hc.EventType=xF,C2=hc.Event=xf,mN=hc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},D2=hc.FetchXmlHttpFactory=Kv,SC=hc.WebChannel=OF,I2=hc.XhrIo=Or;const _N="@firebase/firestore";class li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");let gm="9.9.0";const Vd=new Nd.Yd("@firebase/firestore");function oM(){return Vd.logLevel}function Fe(n,...e){if(Vd.logLevel<=Nd.in.DEBUG){const t=e.map(aM);Vd.debug(`Firestore (${gm}): ${n}`,...t)}}function kr(n,...e){if(Vd.logLevel<=Nd.in.ERROR){const t=e.map(aM);Vd.error(`Firestore (${gm}): ${n}`,...t)}}function Xv(n,...e){if(Vd.logLevel<=Nd.in.WARN){const t=e.map(aM);Vd.warn(`Firestore (${gm}): ${n}`,...t)}}function aM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${gm}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function At(n,e){n||ot()}function Qe(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(li.UNAUTHENTICATED))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new yN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new li(e)}}class R2{constructor(e,t,r){this.type="FirstParty",this.user=li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class O2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new R2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.p=t.token,new vN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function F2(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class bN{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=F2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function mm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function wN(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new qn(0,0))}static max(){return new St(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eb{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends eb{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new en(t)}static emptyPath(){return new en([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends eb{construct(e,t,r){return new Dr(e,t,r)}static isValidIdentifier(e){return N2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(t)}static emptyPath(){return new Dr([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(en.fromString(e))}static fromName(e){return new Ke(en.fromString(e).popFirst(5))}static empty(){return new Ke(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new en(e.slice()))}}class TC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function lM(n){return n.fields.find(e=>2===e.kind)}function Nf(n){return n.fields.filter(e=>2!==e.kind)}TC.UNKNOWN_ID=-1;class AC{constructor(e,t){this.fieldPath=e,this.kind=t}}class tb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tb(0,Bo.min())}}function EN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=St.fromTimestamp(1e9===r?new qn(t+1,0):new qn(t,r));return new Bo(i,Ke.empty(),e)}function CN(n){return new Bo(n.readTime,n.key,-1)}class Bo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bo(St.min(),Ke.empty(),-1)}static max(){return new Bo(St.max(),Ke.empty(),-1)}}function uM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bd(n){return cM.apply(this,arguments)}function cM(){return cM=(0,we.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==DN)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),cM.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},_=>r(_))}),u=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&r(u)},I=>i(I))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class MC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ui,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new nb(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=dM(r.target.error);this.T.reject(new nb(e,i))}}static open(e,t,r,i){try{return new MC(t,e.transaction(i,r))}catch(a){throw new nb(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new L2(t)}}class vl{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===vl.v((0,Kt.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Pf(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Kt.hl)())return!1;if(vl.S())return!0;const e=(0,Kt.z$)(),t=vl.v(e),r=0<t&&t<10,i=vl.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,we.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new nb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new nb(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.P.O(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(e);const _=MC.open(a.db,e,u?"readonly":"readwrite",r),w=i(_).next(I=>(_.R(),I)).catch(I=>(_.abort(I),ae.reject(I))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class P2{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Pf(this.$.delete())}}class nb extends Re{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ud(n){return"IndexedDbTransactionError"===n.name}class L2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pf(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Pf(this.store.add(e))}get(e){return Pf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Pf(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Pf(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.G(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ae((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}W(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(a,u,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=a=>{const u=dM(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}G(e,t){const r=[];return new ae((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new P2(f),w=t(f.primaryKey,f.value,_);if(w instanceof ae){const I=w.catch(M=>(_.done(),ae.reject(M)));r.push(I)}_.isDone?i():null===_.U?f.continue():f.continue(_.U)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pf(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=dM(r.target.error);t(i)}})}let SN=!1;function dM(n){const e=vl.v((0,Kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SN||(SN=!0,setTimeout(()=>{throw r},0)),r}}return n}class V2{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Ud(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Bd(r)}yield t.Z(1)}))}}class B2{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,a=!0;return ae.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.nt(e,u,i).next(f=>{i-=f,r.add(u)});a=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.st(i,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}st(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=CN(a);uM(u,r)>0&&(r=u)}),new Bo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class no{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function TN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}no.ot=-1;class hr{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xC(this.root,e,this.comparator,!1)}getReverseIterator(){return new xC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xC(this.root,e,this.comparator,!0)}}class xC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Ri.RED,this.left=null!=i?i:Ri.EMPTY,this.right=null!=a?a:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MN(this.data.getIterator())}getIteratorFrom(e){return new MN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class MN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _m(n){return n.hasNext()?n.getNext():void 0}class Uo{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new Uo([])}unionWith(e){let t=new Cn(Dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jd(n){if(At(!!n),"string"==typeof n){let e=0;const t=j2.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fr(n.seconds),nanos:fr(n.nanos)}}function fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vf(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function hM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xN(n){const e=n.mapValue.fields.__previous_value__;return hM(e)?xN(e):e}function rb(n){const e=jd(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class H2{constructor(e,t,r,i,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}function ib(n){return null==n}function sb(n){return 0===n&&1/n==-1/0}function RN(n){return"number"==typeof n&&Number.isInteger(n)&&!sb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},RC={nullValue:"NULL_VALUE"};function Bf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hM(n)?4:NN(n)?9007199254740991:10:ot()}function cu(n,e){if(n===e)return!0;const t=Bf(n);if(t!==Bf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rb(n).isEqual(rb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=jd(r.timestampValue),u=jd(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Vf(n.bytesValue).isEqual(Vf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return fr(r.geoPointValue.latitude)===fr(i.geoPointValue.latitude)&&fr(r.geoPointValue.longitude)===fr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return fr(r.integerValue)===fr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=fr(r.doubleValue),u=fr(i.doubleValue);return a===u?sb(a)===sb(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return mm(n.arrayValue.values||[],e.arrayValue.values||[],cu);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(TN(a)!==TN(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!cu(a[f],u[f])))return!1;return!0}(n,e);default:return ot()}var i}function ob(n,e){return void 0!==(n.values||[]).find(t=>cu(t,e))}function $d(n,e){if(n===e)return 0;const t=Bf(n),r=Bf(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=fr(i.integerValue||i.doubleValue),f=fr(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return ON(n.timestampValue,e.timestampValue);case 4:return ON(rb(n),rb(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Vf(i),f=Vf(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Pt(u[_],f[_]);if(0!==w)return w}return Pt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Pt(fr(i.latitude),fr(a.latitude));return 0!==u?u:Pt(fr(i.longitude),fr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=$d(u[_],f[_]);if(w)return w}return Pt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Hd.mapValue&&a===Hd.mapValue)return 0;if(i===Hd.mapValue)return 1;if(a===Hd.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const M=Pt(f[I],w[I]);if(0!==M)return M;const P=$d(u[f[I]],_[w[I]]);if(0!==P)return P}return Pt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ot()}}function ON(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=jd(n),r=jd(e),i=Pt(t.seconds,r.seconds);return 0!==i?i:Pt(t.nanos,r.nanos)}function ym(n){return fM(n)}function fM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=jd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vf(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=fM(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${fM(r.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function Uf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pM(n){return!!n&&"integerValue"in n}function ab(n){return!!n&&"arrayValue"in n}function kN(n){return!!n&&"nullValue"in n}function FN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OC(n){return!!n&&"mapValue"in n}function lb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function $2(n){return"nullValue"in n?RC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uf(gc.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function G2(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uf(gc.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Hd:ot()}function PN(n,e){const t=$d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function LN(n,e){const t=$d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!OC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lb(t)}setAll(e){let t=Dr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=lb(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());OC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];OC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Lf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Oi(lb(this.value))}}function VN(n){const e=[];return Lf(n.fields,(t,r)=>{const i=new Dr([t]);if(OC(r)){const a=VN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Uo(e)}class Nn{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Nn(e,0,St.min(),St.min(),Oi.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new Nn(e,2,t,St.min(),Oi.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,St.min(),Oi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class z2{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.ut=null}}function BN(n,e=null,t=[],r=[],i=null,a=null,u=null){return new z2(n,e,t,r,i,a,u)}function jf(n){const e=Qe(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ym(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ib(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ym(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ym(r)).join(",")),e.ut=t}return e.ut}function ub(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!ej(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!cu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GN(n.startAt,e.startAt)&&GN(n.endAt,e.endAt)}function kC(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function FC(n,e){return n.filters.filter(t=>t instanceof ki&&t.field.isEqual(e))}function UN(n,e,t){let r=RC,i=!0;for(const a of FC(n,e)){let u=RC,f=!0;switch(a.op){case"<":case"<=":u=$2(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=RC}PN({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];PN({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function jN(n,e,t){let r=Hd,i=!0;for(const a of FC(n,e)){let u=Hd,f=!0;switch(a.op){case">=":case">":u=G2(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Hd}LN({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];LN({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class ki extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new W2(e,t,r):"array-contains"===t?new Y2(e,r):"in"===t?new Q2(e,r):"not-in"===t?new J2(e,r):"array-contains-any"===t?new X2(e,r):new ki(e,t,r)}static ct(e,t,r){return"in"===t?new K2(e,r):new Z2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at($d(t,this.value)):null!==t&&Bf(this.value)===Bf(t)&&this.at($d(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class W2 extends ki{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.at(t)}}class K2 extends ki{constructor(e,t){super(e,"in",t),this.keys=HN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Z2 extends ki{constructor(e,t){super(e,"not-in",t),this.keys=HN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class Y2 extends ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ab(t)&&ob(t.arrayValue,this.value)}}class Q2 extends ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ob(this.value.arrayValue,t)}}class J2 extends ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(ob(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ob(this.value.arrayValue,t)}}class X2 extends ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ab(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ob(this.value.arrayValue,r))}}class Gd{constructor(e,t){this.position=e,this.inclusive=t}}class vm{constructor(e,t="asc"){this.field=e,this.dir=t}}function ej(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function $N(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ke.comparator(Ke.fromName(u.referenceValue),t.key):$d(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function GN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cu(n.position[t],e.position[t]))return!1;return!0}class mc{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.lt=null,this.ft=null}}function zN(n,e,t,r,i,a,u,f){return new mc(n,e,t,r,i,a,u,f)}function bm(n){return new mc(n)}function gM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mM(n){for(const e of n.filters)if(e.ht())return e.field;return null}function _M(n){return null!==n.collectionGroup}function wm(n){const e=Qe(n);if(null===e.lt){e.lt=[];const t=mM(e),r=gM(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new vm(t)),e.lt.push(new vm(Dr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new vm(Dr.keyField(),a))}}}return e.lt}function ba(n){const e=Qe(n);if(!e.ft)if("F"===e.limitType)e.ft=BN(e.path,e.collectionGroup,wm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of wm(e))t.push(new vm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Gd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gd(e.startAt.position,e.startAt.inclusive):null;e.ft=BN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function qN(n,e,t){return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cb(n,e){return ub(ba(n),ba(e))&&n.limitType===e.limitType}function WN(n){return`${jf(ba(n))}|lt:${n.limitType}`}function yM(n){return`Query(target=${function q2(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ym(r.value)}`;var r}).join(", ")}]`),ib(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ym(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ym(t)).join(",")),`Target(${e})`}(ba(n))}; limitType=${n.limitType})`}function vM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ke.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=$N(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,wm(t),r)||t.endAt&&!function(i,a,u){const f=$N(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,wm(t),r)));var t,r}function KN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZN(n){return(e,t)=>{let r=!1;for(const i of wm(n)){const a=nj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function nj(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),_=u.data.field(i);return null!==f&&null!==_?$d(f,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function YN(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sb(e)?"-0":e}}function QN(n){return{integerValue:""+n}}function JN(n,e){return RN(e)?QN(e):YN(n,e)}class NC{constructor(){this._=void 0}}function rj(n,e,t){return n instanceof Em?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Hf?eP(n,e):n instanceof $f?tP(n,e):function(r,i){const a=XN(r,i),u=nP(a)+nP(r._t);return pM(a)&&pM(r._t)?QN(u):YN(r.wt,u)}(n,e)}function ij(n,e,t){return n instanceof Hf?eP(n,e):n instanceof $f?tP(n,e):t}function XN(n,e){return n instanceof Cm?pM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Em extends NC{}class Hf extends NC{constructor(e){super(),this.elements=e}}function eP(n,e){const t=rP(e);for(const r of n.elements)t.some(i=>cu(i,r))||t.push(r);return{arrayValue:{values:t}}}class $f extends NC{constructor(e){super(),this.elements=e}}function tP(n,e){let t=rP(e);for(const r of n.elements)t=t.filter(i=>!cu(i,r));return{arrayValue:{values:t}}}class Cm extends NC{constructor(e,t){super(),this.wt=e,this._t=t}}function nP(n){return fr(n.integerValue||n.doubleValue)}function rP(n){return ab(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class db{constructor(e,t){this.field=e,this.transform=t}}class oj{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function PC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class LC{}function iP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Im(n.key,er.none()):new Dm(n.key,n.data,er.none());{const t=n.data,r=Oi.empty();let i=new Cn(Dr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new _c(n.key,r,new Uo(i.toArray()),er.none())}}function aj(n,e,t){n instanceof Dm?function(r,i,a){const u=r.value.clone(),f=aP(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof _c?function(r,i,a){if(!PC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=aP(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(oP(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hb(n,e,t,r){return n instanceof Dm?function(i,a,u,f){if(!PC(i.precondition,a))return u;const _=i.value.clone(),w=lP(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof _c?function(i,a,u,f){if(!PC(i.precondition,a))return u;const _=lP(i.fieldTransforms,f,a),w=a.data;return w.setAll(oP(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(u=t,PC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function lj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=XN(r.transform,i||null);null!=a&&(null===t&&(t=Oi.empty()),t.set(r.field,a))}return t||null}function sP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&mm(t,r,(i,a)=>function sj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hf&&r instanceof Hf||t instanceof $f&&r instanceof $f?mm(t.elements,r.elements,cu):t instanceof Cm&&r instanceof Cm?cu(t._t,r._t):t instanceof Em&&r instanceof Em);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Dm extends LC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _c extends LC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function aP(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,ij(u,f,t[i]))}return r}function lP(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,rj(a,u,e))}return r}class Im extends LC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bM extends LC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uj{constructor(e){this.count=e}}var Fr,tn;function uP(n){switch(n){default:return ot();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function cP(n){if(void 0===n)return kr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Fr.OK:return fe.OK;case Fr.CANCELLED:return fe.CANCELLED;case Fr.UNKNOWN:return fe.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return fe.INTERNAL;case Fr.UNAVAILABLE:return fe.UNAVAILABLE;case Fr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Fr.NOT_FOUND:return fe.NOT_FOUND;case Fr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Fr.ABORTED:return fe.ABORTED;case Fr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Fr.DATA_LOSS:return fe.DATA_LOSS;default:return ot()}}(tn=Fr||(Fr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class zd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return AN(this.inner)}size(){return this.innerSize}}const cj=new hr(Ke.comparator);function ro(){return cj}const dP=new hr(Ke.comparator);function fb(...n){let e=dP;for(const t of n)e=e.insert(t.key,t);return e}function hP(n){let e=dP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function du(){return pb()}function fP(){return pb()}function pb(){return new zd(n=>n.toString(),(n,e)=>n.isEqual(e))}const dj=new hr(Ke.comparator),hj=new Cn(Ke.comparator);function Ut(...n){let e=hj;for(const t of n)e=e.add(t);return e}const fj=new Cn(Pt);function VC(){return fj}class gb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mb.createSynthesizedTargetChangeForCurrentChange(e,t)),new gb(St.min(),r,VC(),ro(),Ut())}}class mb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mb(Gr.EMPTY_BYTE_STRING,t,Ut(),Ut(),Ut())}}class BC{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class pP{constructor(e,t){this.targetId=e,this.It=t}}class gP{constructor(e,t,r=Gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mP{constructor(){this.Tt=0,this.Et=yP(),this.At=Gr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Ut(),t=Ut(),r=Ut();return this.Et.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new mb(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=yP()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class pj{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ro(),this.Bt=_P(),this.Lt=new Cn(Pt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const a=i.target;if(kC(a))if(0===r){const u=new Ke(a.path);this.Kt(t,u,Nn.newNoDocument(u,St.min()))}else At(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,u)=>{const f=this.Ht(u);if(f){if(a.current&&kC(f.target)){const _=new Ke(f.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,Nn.newNoDocument(_,e))}a.vt&&(t.set(u,a.St()),a.Dt())}});let r=Ut();this.Bt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(e));const i=new gb(e,t,this.Lt,this.$t,r);return this.$t=ro(),this.Bt=_P(),this.Lt=new Cn(Pt),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new mP,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Cn(Pt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new mP),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function _P(){return new hr(Ke.comparator)}function yP(){return new hr(Ke.comparator)}const gj={asc:"ASCENDING",desc:"DESCENDING"},mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _j{constructor(e,t){this.databaseId=e,this.dt=t}}function _b(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vP(n,e){return n.dt?e.toBase64():e.toUint8Array()}function yj(n,e){return _b(n,e.toTimestamp())}function ci(n){return At(!!n),St.fromTimestamp(function(e){const t=jd(e);return new qn(t.seconds,t.nanos)}(n))}function wM(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bP(n){const e=en.fromString(n);return At(MP(e)),e}function yb(n,e){return wM(n.databaseId,e.path)}function hu(n,e){const t=bP(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(EP(t))}function EM(n,e){return wM(n.databaseId,e)}function wP(n){const e=bP(n);return 4===e.length?en.emptyPath():EP(e)}function vb(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EP(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CP(n,e,t){return{name:yb(n,e),fields:t.value.mapValue.fields}}function DP(n,e,t){const r=hu(n,e.name),i=ci(e.updateTime),a=new Oi({mapValue:{fields:e.fields}}),u=Nn.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function bb(n,e){let t;if(e instanceof Dm)t={update:CP(n,e.key,e.value)};else if(e instanceof Im)t={delete:yb(n,e.key)};else if(e instanceof _c)t={update:CP(n,e.key,e.data),updateMask:Tj(e.fieldMask)};else{if(!(e instanceof bM))return ot();t={verify:yb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof Em)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $f)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cm)return{fieldPath:a.field.canonicalString(),increment:u._t};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:yj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function CM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?er.updateTime(ci(i.updateTime)):void 0!==i.exists?er.exists(i.exists):er.none():er.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(At("REQUEST_TIME"===u.setToServerValue),f=new Em):"appendMissingElements"in u?f=new Hf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new $f(u.removeAllFromArray.values||[]):"increment"in u?f=new Cm(a,u.increment):ot();const _=Dr.fromServerFormat(u.fieldPath);return new db(_,f)}(n,i)):[];var i;if(e.update){const i=hu(n,e.update.name),a=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Uo((e.updateMask.fieldPaths||[]).map(w=>Dr.fromServerFormat(w)));return new _c(i,a,u,t,r)}return new Dm(i,a,t,r)}if(e.delete){const i=hu(n,e.delete);return new Im(i,t)}if(e.verify){const i=hu(n,e.verify);return new bM(i,t)}return ot()}function IP(n,e){return{documents:[EM(n,e.path)]}}function SP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=EM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=EM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(M){if("=="===M.op){if(FN(M.value))return{unaryFilter:{field:Sm(M.field),op:"IS_NAN"}};if(kN(M.value))return{unaryFilter:{field:Sm(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(FN(M.value))return{unaryFilter:{field:Sm(M.field),op:"IS_NOT_NAN"}};if(kN(M.value))return{unaryFilter:{field:Sm(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sm(M.field),op:Dj(M.op),value:M.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Sm((I=w).field),direction:Cj(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(w=e.limit,n.dt||ib(w)?w:{value:w});var w,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function TP(n){let e=wP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=AP(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new vm(Tm((M=I).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,ib(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new Gd((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new Gd(I.values||[],!I.before)}(t.endAt)),zN(e,i,u,a,f,"F",_,w)}function AP(n){return n?void 0!==n.unaryFilter?[Sj(n)]:void 0!==n.fieldFilter?[Ij(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>AP(e)).reduce((e,t)=>e.concat(t)):ot():[]}function Cj(n){return gj[n]}function Dj(n){return mj[n]}function Sm(n){return{fieldPath:n.canonicalString()}}function Tm(n){return Dr.fromServerFormat(n.fieldPath)}function Ij(n){return ki.create(Tm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function Sj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tm(n.unaryFilter.field);return ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tm(n.unaryFilter.field);return ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tm(n.unaryFilter.field);return ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tm(n.unaryFilter.field);return ki.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function Tj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function As(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xP(e)),e=Aj(n.get(t),e);return xP(e)}function Aj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function xP(n){return n+"\x01\x01"}function fu(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ot(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:ot()}a=u+2}return new en(r)}const RP=["userId","batchId"];function UC(n,e){return[n,As(e)]}function OP(n,e,t){return[n,As(e),t]}const Mj={},xj=["prefixPath","collectionGroup","readTime","documentId"],Rj=["prefixPath","collectionGroup","documentId"],Oj=["collectionGroup","readTime","prefixPath","documentId"],kj=["canonicalId","targetId"],Fj=["targetId","path"],Nj=["path","targetId"],Pj=["collectionId","parent"],Lj=["indexId","uid"],Vj=["uid","sequenceNumber"],Bj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Uj=["indexId","uid","orderedDocumentKey"],jj=["userId","collectionPath","documentId"],Hj=["userId","collectionPath","largestBatchId"],$j=["userId","collectionGroup","largestBatchId"],kP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gj=[...kP,"documentOverlays"],FP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NP=FP,zj=[...NP,"indexConfiguration","indexState","indexEntries"];class DM extends IN{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function di(n,e){const t=Qe(n);return vl.N(t.ee,e)}class IM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&aj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fP();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(i.key)?null:f;const _=iP(u,f);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&mm(this.mutations,e.mutations,(t,r)=>sP(t,r))&&mm(this.baseMutations,e.baseMutations,(t,r)=>sP(t,r))}}class SM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=dj;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new SM(e,t,r,i)}}class TM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qd{constructor(e,t,r,i,a=St.min(),u=St.min(),f=Gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class PP{constructor(e){this.ne=e}}function LP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yb(i=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:_b(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gf(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Gf(e.version)}}var i,a;return r}function jC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zf(n){const e=new qn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function qf(n,e){const t=(e.baseMutations||[]).map(a=>CM(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>CM(n.ne,a)),i=qn.fromMillis(e.localWriteTimeMs);return new IM(e.batchId,i,t,r)}function wb(n){const e=zf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?zf(n.lastLimboFreeSnapshotVersion):St.min();let r;var i;return void 0!==n.query.documents?(At(1===(i=n.query).documents.length),r=ba(bm(wP(i.documents[0])))):r=ba(TP(n.query)),new qd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Gr.fromBase64String(n.resumeToken))}function VP(n,e){const t=Gf(e.snapshotVersion),r=Gf(e.lastLimboFreeSnapshotVersion);let i;i=kC(e.target)?IP(n.ne,e.target):SP(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function AM(n){const e=TP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qN(e,e.limit,"L"):e}function MM(n,e){return new TM(e.largestBatchId,CM(n.ne,e.overlayMutation))}function BP(n,e){const t=e.path.lastSegment();return[n,As(e.path.popLast()),t]}function UP(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gf(r.readTime),documentKey:As(r.documentKey.path),largestBatchId:r.largestBatchId}}class Wj{getBundleMetadata(e,t){return jP(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:zf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return jP(e).put({bundleId:(r=t).id,createTime:Gf(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return HP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:AM(i.bundledQuery),readTime:zf(i.readTime)};var i})}saveNamedQuery(e,t){return HP(e).put({name:(r=t).name,readTime:Gf(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function jP(n){return di(n,"bundles")}function HP(n){return di(n,"namedQueries")}class HC{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new HC(e,t.uid||"")}getOverlay(e,t){return Eb(e).get(BP(this.userId,t)).next(r=>r?MM(this.wt,r):null)}getOverlays(e,t){const r=du();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new TM(t,u);i.push(this.ie(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(As(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(Eb(e).W("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,r){const i=du(),a=As(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Eb(e).K("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=MM(this.wt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=du();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eb(e).J({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const M=MM(this.wt,w);a.size()<i||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):I.done()}).next(()=>a)}ie(e,t){return Eb(e).put(function(r,i,a){const[u,f,_]=BP(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:bb(r.ne,a.mutation)}}(this.wt,this.userId,t))}}function Eb(n){return di(n,"documentOverlays")}class Wf{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(fr(e.integerValue));else if("doubleValue"in e){const r=fr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),sb(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Vf(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?NN(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ot()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),Ke.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Kj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $P(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Kj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Wf.ye=new Wf;class Zj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=$P(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=$P(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Yj{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Qj{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Cb{constructor(){this.Me=new Zj,this.Fe=new Yj(this.Me),this.$e=new Qj(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Kf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Kf(this.indexId,this.documentKey,this.arrayValue,r)}}function Zf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=GP(n.arrayValue,e.arrayValue),0!==t?t:(t=GP(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function GP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Jj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=lM(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Nf(e);let i=0,a=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const u=r[i];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Xj{constructor(){this.ze=new xM}addToCollectionParentIndex(e,t){return this.ze.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Bo.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class xM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Cn(en.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(en.comparator)).toArray()}}const $C=new Uint8Array(0);class eH{constructor(e,t){this.user=e,this.databaseId=t,this.He=new xM,this.Je=new zd(r=>jf(r),(r,i)=>ub(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:r,parent:As(i)};return zP(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[wN(t),""],!1,!0);return zP(e).K(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(fu(u.parent))}return r})}addFieldIndex(e,t){const r=GC(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=Ib(e);return a.next(f=>{u.put(UP(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=GC(e),i=Ib(e),a=Db(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Db(e);let i=!0;const a=new Map;return ae.forEach(this.Ye(t),u=>this.Xe(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=Ut();const f=[];return ae.forEach(a,(_,w)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${jf(t)}`);const M=function(st,rt){const Rt=lM(rt);if(void 0===Rt)return null;for(const Lt of FC(st,Rt.fieldPath))switch(Lt.op){case"array-contains-any":return Lt.value.arrayValue.values||[];case"array-contains":return[Lt.value]}return null}(w,_),P=function(st,rt){const Rt=new Map;for(const Lt of Nf(rt))for(const dn of FC(st,Lt.fieldPath))switch(dn.op){case"==":case"in":Rt.set(Lt.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Rt.set(Lt.fieldPath.canonicalString(),dn.value),Array.from(Rt.values())}return null}(w,_),V=function(st,rt){const Rt=[];let Lt=!0;for(const dn of Nf(rt)){const Os=0===dn.kind?UN(st,dn.fieldPath,st.startAt):jN(st,dn.fieldPath,st.startAt);Rt.push(Os.value),Lt&&(Lt=Os.inclusive)}return new Gd(Rt,Lt)}(w,_),U=function(st,rt){const Rt=[];let Lt=!0;for(const dn of Nf(rt)){const Os=0===dn.kind?jN(st,dn.fieldPath,st.endAt):UN(st,dn.fieldPath,st.endAt);Rt.push(Os.value),Lt&&(Lt=Os.inclusive)}return new Gd(Rt,Lt)}(w,_),re=this.Ze(_,w,V),De=this.Ze(_,w,U),He=this.tn(_,w,P),tt=this.en(_.indexId,M,re,V.inclusive,De,U.inclusive,He);return ae.forEach(tt,st=>r.j(st,t.limit).next(rt=>{rt.forEach(Rt=>{const Lt=Ke.fromSegments(Rt.documentKey);u.has(Lt)||(u=u.add(Lt),f.push(Lt))})}))}).next(()=>f)}return ae.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,a,u,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const P=t?this.nn(t[M/w]):$C,V=this.sn(e,P,r[M%w],i),U=this.rn(e,P,a[M%w],u),re=f.map(De=>this.sn(e,P,De,!0));I.push(...this.createRange(V,U,re))}return I}sn(e,t,r,i){const a=new Kf(e,Ke.empty(),t,r);return i?a:a.Le()}rn(e,t,r,i){const a=new Kf(e,Ke.empty(),t,r);return i?a.Le():a}Xe(e,t){const r=new Jj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const f of a)r.Ge(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;return ae.forEach(this.Ye(t),i=>this.Xe(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let f=new Cn(Dr.comparator),_=!1;for(const w of u.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of u.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Cb;for(const i of Nf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.Be(i.kind);Wf.ye.re(a,u)}return r.Oe()}nn(e){const t=new Cb;return Wf.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Cb;return Wf.ye.re(Uf(this.databaseId,t),r.Be(function(i){const a=Nf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new Cb);let a=0;for(const u of Nf(e)){const f=r[a++];for(const _ of i)if(this.cn(t,u.fieldPath)&&ab(f))i=this.an(i,u,f);else{const w=_.Be(u.kind);Wf.ye.re(f,w)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new Cb;_.seed(f.Oe()),Wf.ye.re(u,_.Be(t.kind)),a.push(_)}return a}cn(e,t){return!!e.filters.find(r=>r instanceof ki&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=GC(e),i=Ib(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(a=>{const u=[];return ae.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const M=I?new tb(I.sequenceNumber,new Bo(zf(I.readTime),new Ke(fu(I.documentKey)),I.largestBatchId)):tb.empty(),P=w.fields.map(([V,U])=>new AC(Dr.fromServerFormat(V),U));return new TC(w.indexId,w.collectionGroup,P,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=GC(e),a=Ib(e);return this.ln(e).next(u=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,_=>a.put(UP(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,_=>this.fn(e,i,_).next(w=>{const I=this.dn(a,_);return w.isEqual(I)?ae.resolve():this._n(e,a,_,w,I)}))))})}wn(e,t,r,i){return Db(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return Db(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=Db(e);let a=new Cn(Zf);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(u,f)=>{a=a.add(new Kf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(e,t){let r=new Cn(Zf);const i=this.on(t,e);if(null==i)return r;const a=lM(t);if(null!=a){const u=e.data.field(a.fieldPath);if(ab(u))for(const f of u.arrayValue.values||[])r=r.add(new Kf(t.indexId,e.key,this.nn(f),i))}else r=r.add(new Kf(t.indexId,e.key,$C,i));return r}_n(e,t,r,i,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,M){const P=f.getIterator(),V=_.getIterator();let U=_m(P),re=_m(V);for(;U||re;){let De=!1,He=!1;if(U&&re){const tt=w(U,re);tt<0?He=!0:tt>0&&(De=!0)}else null!=U?He=!0:De=!0;De?(I(re),re=_m(V)):He?(M(U),U=_m(P)):(U=_m(P),re=_m(V))}}(i,a,Zf,f=>{u.push(this.wn(e,t,r,f))},f=>{u.push(this.mn(e,t,r,f))}),ae.waitFor(u)}ln(e){let t=1;return Ib(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Zf(u,f)).filter((u,f,_)=>!f||0!==Zf(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=Zf(u,e),_=Zf(u,t);if(0===f)i[0]=e.Le();else if(f>0&&_<0)i.push(u),i.push(u.Le());else if(_>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,$C,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,$C,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(qP)}getMinOffset(e,t){return ae.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||ot())).next(qP)}}function zP(n){return di(n,"collectionParents")}function Db(n){return di(n,"indexEntries")}function GC(n){return di(n,"indexConfiguration")}function Ib(n){return di(n,"indexState")}function qP(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;uM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Bo(e.readTime,e.documentKey,t)}const WP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class io{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new io(e,io.DEFAULT_COLLECTION_PERCENTILE,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function KP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.J({range:u},(I,M,P)=>(f++,P.delete()));a.push(_.next(()=>{At(1===f)}));const w=[];for(const I of t.mutations){const M=OP(e,I.key.path,t.batchId);a.push(i.delete(M)),w.push(I.key)}return ae.waitFor(a).next(()=>w)}function zC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}io.DEFAULT_COLLECTION_PERCENTILE=10,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,io.DEFAULT=new io(41943040,io.DEFAULT_COLLECTION_PERCENTILE,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),io.DISABLED=new io(-1,0,0);class qC{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){At(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new qC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).J({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Am(e),u=Wd(e);return u.add({}).next(f=>{At("number"==typeof f);const _=new IM(f,t,r,i),w=function(P,V,U){const re=U.baseMutations.map(He=>bb(P.ne,He)),De=U.mutations.map(He=>bb(P.ne,He));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:re,mutations:De}}(this.wt,this.userId,_),I=[];let M=new Cn((P,V)=>Pt(P.canonicalString(),V.canonicalString()));for(const P of i){const V=OP(this.userId,P.key.path,f);M=M.add(P.key.path.popLast()),I.push(u.put(w)),I.push(a.put(V,Mj))}return M.forEach(P=>{I.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.gn[f]=_.keys()}),ae.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Wd(e).get(t).next(r=>r?(At(r.userId===this.userId),qf(this.wt,r)):null)}yn(e,t){return this.gn[t]?ae.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Wd(e).J({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(At(f.batchId>=r),a=qf(this.wt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wd(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).K("userMutationsIndex",t).next(r=>r.map(i=>qf(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=UC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Am(e).J({range:i},(u,f,_)=>{const[w,I,M]=u,P=fu(I);if(w===this.userId&&t.path.isEqual(P))return Wd(e).get(M).next(V=>{if(!V)throw ot();At(V.userId===this.userId),a.push(qf(this.wt,V))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Pt);const i=[];return t.forEach(a=>{const u=UC(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Am(e).J({range:f},(w,I,M)=>{const[P,V,U]=w,re=fu(V);P===this.userId&&a.path.isEqual(re)?r=r.add(U):M.done()});i.push(_)}),ae.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=UC(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new Cn(Pt);return Am(e).J({range:u},(_,w,I)=>{const[M,P,V]=_,U=fu(P);M===this.userId&&r.isPrefixOf(U)?U.length===i&&(f=f.add(V)):I.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Wd(e).get(a).next(u=>{if(null===u)throw ot();At(u.userId===this.userId),r.push(qf(this.wt,u))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return KP(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Am(e).J({range:r},(a,u,f)=>{if(a[0]===this.userId){const _=fu(a[1]);i.push(_)}else f.done()}).next(()=>{At(0===i.length)})})}containsKey(e,t){return ZP(e,this.userId,t)}Tn(e){return YP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZP(n,e,t){const r=UC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Am(n).J({range:a,H:!0},(f,_,w)=>{const[I,M,P]=f;I===e&&M===i&&(u=!0),w.done()}).next(()=>u)}function Wd(n){return di(n,"mutations")}function Am(n){return di(n,"documentMutations")}function YP(n){return di(n,"mutationQueues")}class Yf{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Yf(0)}static Rn(){return new Yf(-1)}}class tH{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Yf(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>St.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Mm(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Mm(e).J((u,f)=>{const _=wb(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Mm(e).J((r,i)=>{const a=wb(i);t(a)})}bn(e){return QP(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}Pn(e,t){return QP(e).put("targetGlobalKey",t)}vn(e,t){return Mm(e).put(VP(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Mm(e).J({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const w=wb(f);ub(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Kd(e);return t.forEach(u=>{const f=As(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=Kd(e);return ae.forEach(t,a=>{const u=As(a.path);return ae.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Kd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Kd(e);let a=Ut();return i.J({range:r,H:!0},(u,f,_)=>{const w=fu(u[1]),I=new Ke(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=As(t.path),i=IDBKeyRange.bound([r],[wN(r)],!1,!0);let a=0;return Kd(e).J({index:"documentTargetsIndex",H:!0,range:i},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}te(e,t){return Mm(e).get(t).next(r=>r?wb(r):null)}}function Mm(n){return di(n,"targets")}function QP(n){return di(n,"targetGlobal")}function Kd(n){return di(n,"targetDocuments")}function JP([n,e],[t,r]){const i=Pt(n,t);return 0===i?Pt(e,r):i}class nH{constructor(e){this.Sn=e,this.buffer=new Cn(JP),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();JP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ud(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Bd(r)}yield t.kn(3e5)}))}}class iH{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(no.ot);const r=new nH(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(WP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WP):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,u=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),oM()<=Nd.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class sH{constructor(e,t){this.db=e,this.garbageCollector=new iH(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return WC(e,r)}removeReference(e,t,r){return WC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return WC(e,t)}Un(e,t){return function(r,i){let a=!1;return YP(r).Y(u=>ZP(r,u,i).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ln(e,(u,f)=>{if(f<=t){const _=this.Un(e,u).next(w=>{if(!w)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,St.min()),Kd(e).delete([0,As(u.path)])))});i.push(_)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return WC(e,t)}Ln(e,t){const r=Kd(e);let i,a=no.ot;return r.J({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==no.ot&&t(new Ke(fu(i)),a),a=w,i=_):a=no.ot}).next(()=>{a!==no.ot&&t(new Ke(fu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function WC(n,e){return Kd(n).put((r=n.currentSequenceNumber,{targetId:0,path:As(e.path),sequenceNumber:r}));var r}class XP{constructor(){this.changes=new zd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oH{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qf(e).put(r)}removeEntry(e,t,r){return Qf(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jC(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return Qf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Sb(t))},(i,a)=>{r=this.Kn(t,a)}).next(()=>r)}Gn(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return Qf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Sb(t))},(i,a)=>{r={document:this.Kn(t,a),size:zC(a)}}).next(()=>r)}getEntries(e,t){let r=ro();return this.Qn(e,t,(i,a)=>{const u=this.Kn(i,a);r=r.insert(i,u)}).next(()=>r)}jn(e,t){let r=ro(),i=new hr(Ke.comparator);return this.Qn(e,t,(a,u)=>{const f=this.Kn(a,u);r=r.insert(a,f),i=i.insert(a,zC(u))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return ae.resolve();let i=new Cn(r1);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Sb(i.first()),Sb(i.last())),u=i.getIterator();let f=u.getNext();return Qf(e).J({index:"documentKeyIndex",range:a},(_,w,I)=>{const M=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&r1(f,M)<0;)r(f,null),f=u.getNext();f&&f.isEqual(M)&&(r(f,w),f=u.hasNext()?u.getNext():null),f?I.q(Sb(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qf(e).K(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=ro();for(const _ of u){const w=this.Kn(Ke.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=ro();const u=n1(t,r),f=n1(t,Bo.max());return Qf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const M=this.Kn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new aH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return t1(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}qn(e,t){return t1(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function qj(n,e){let t;if(e.document)t=DP(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),i=zf(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ke.fromSegments(e.unknownDocument.path),i=zf(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new qn(r[0],r[1]);return St.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return Nn.newInvalidDocument(e)}}function e1(n){return new oH(n)}class aH extends XP{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new zd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Cn((a,u)=>Pt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=LP(this.zn.wt,u);i=i.add(a.path.popLast()),r+=zC(_)-f.size,t.push(this.zn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=LP(this.zn.wt,u.convertToNoDocument(St.min()));t.push(this.zn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function t1(n){return di(n,"remoteDocumentGlobal")}function Qf(n){return di(n,"remoteDocumentsV14")}function Sb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function n1(n,e){const t=e.documentKey.path.toArray();return[n,jC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function r1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Pt(t[a],r[a]),i)return i;return i=Pt(t.length,r.length),i||(i=Pt(t[t.length-2],r[r.length-2]),i||Pt(t[t.length-1],r[r.length-1]))}class lH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&hb(r.mutation,i,Uo.empty(),qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ut()){const i=du();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=fb();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=du();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let a=ro();const u=pb(),f=pb();return t.forEach((_,w)=>{const I=r.get(w.key);i.has(w.key)&&(void 0===I||I.mutation instanceof _c)?a=a.insert(w.key,w):void 0!==I&&(u.set(w.key,I.mutation.getFieldMask()),hb(I.mutation,w,I.mutation.getFieldMask(),qn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var M;return f.set(w,new lH(I,null!==(M=u.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=pb();let i=new hr((u,f)=>u-f),a=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=r.get(_)||Uo.empty();I=f.applyToLocalView(w,I),r.set(_,I);const M=(i.get(f.batchId)||Ut()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,M=fP();I.forEach(P=>{if(!a.has(P)){const V=iP(t.get(P),r.get(P));null!==V&&M.set(P,V),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,M))}return ae.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_M(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(du());let f=-1,_=a;return u.next(w=>ae.forEach(w,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?ae.resolve():this.getBaseDocument(e,I,M).next(P=>{_=_.insert(I,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Ut())).next(I=>({batchId:f,changes:hP(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let i=fb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=fb();return this.indexManager.getCollectionParents(e,i).next(u=>ae.forEach(u,f=>{const _=(w=t,I=f.child(i),new mc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,Nn.newInvalidDocument(w)))});let u=fb();return i.forEach((f,_)=>{const w=a.get(f);void 0!==w&&hb(w.mutation,_,Uo.empty(),qn.now()),vM(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(Nn.newInvalidDocument(t))}}class uH{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ae.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:AM(r.bundledQuery),readTime:ci(r.readTime)}),ae.resolve();var r}}class cH{constructor(){this.overlays=new hr(Ke.comparator),this.Xn=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=du();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ie(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=du(),a=t.length+1,u=new Ke(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new hr((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=du(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=du(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return ae.resolve(f)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new TM(t,r));let a=this.Xn.get(t);void 0===a&&(a=Ut(),this.Xn.set(t,a)),this.Xn.set(t,a.add(r.key))}}class RM{constructor(){this.Zn=new Cn(hi.ts),this.es=new Cn(hi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new hi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new hi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Ke(new en([])),r=new hi(t,e),i=new hi(t,e+1),a=[];return this.es.forEachInRange([r,i],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Ke(new en([])),r=new hi(t,e),i=new hi(t,e+1);let a=Ut();return this.es.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new hi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ke.comparator(e.key,t.key)||Pt(e.ls,t.ls)}static ns(e,t){return Pt(e.ls,t.ls)||Ke.comparator(e.key,t.key)}}class dH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Cn(hi.ts)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.fs;this.fs++;const u=new IM(a,t,r,i);this.mutationQueue.push(u);for(const f of i)this.ds=this.ds.add(new hi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),i=new hi(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],u=>{const f=this._s(u.ls);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Pt);return t.forEach(i=>{const a=new hi(i,0),u=new hi(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],f=>{r=r.add(f.ls)})}),ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ke.isDocumentKey(a)||(a=a.child(""));const u=new hi(new Ke(a),0);let f=new Cn(Pt);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.ls)),!0)},u),ae.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ae.forEach(t.mutations,i=>{const a=new hi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new hi(t,0),i=this.ds.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hH{constructor(e){this.ps=e,this.docs=new hr(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=ro();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))}),ae.resolve(r)}getAllFromCollection(e,t,r){let i=ro();const a=new Ke(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||uM(CN(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ot()}Is(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fH(this)}getSize(e){return ae.resolve(this.size)}}class fH extends XP{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class pH{constructor(e){this.persistence=e,this.Ts=new zd(t=>jf(t),ub),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new RM,this.targetCount=0,this.Rs=Yf.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ae.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Yf(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.vn(t),ae.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Ts.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.As.containsKey(t))}}class o1{constructor(e,t){this.bs={},this.overlays={},this.Ps=new no(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new pH(this),this.indexManager=new Xj,this.remoteDocumentCache=new hH(r=>this.referenceDelegate.Ss(r)),this.wt=new PP(t),this.Ds=new uH(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new dH(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new gH(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(a=>this.referenceDelegate.xs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ns(e,t){return ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class gH extends IN{constructor(e){super(),this.currentSequenceNumber=e}}class KC{constructor(e){this.persistence=e,this.ks=new RM,this.Os=null}static Ms(e){return new KC(e)}get Fs(){if(this.Os)return this.Os;throw ot()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ae.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Fs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Fs,r=>{const i=Ke.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i,St.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ae.or([()=>ae.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class mH{constructor(e){this.wt=e}O(e,t,r,i){const a=new MC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RP,{unique:!0}),f.createObjectStore("documentMutations"),a1(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),a1(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").K().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RP,{unique:!0});const I=_.store("mutations"),M=w.map(P=>I.put(P));return ae.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Bs(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),r<7&&i>=7&&(u=u.next(()=>this.Us(a))),r<8&&i>=8&&(u=u.next(()=>this.qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.Ks(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:jj});_.createIndex("collectionPathOverlayIndex",Hj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",$j,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:xj});_.createIndex("documentKeyIndex",Rj),_.createIndex("collectionGroupIndex",Oj)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.Qs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Lj}).createIndex("sequenceNumberIndex",Vj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Bj}).createIndex("documentKeyIndex",Uj,{unique:!1})}(e))),u}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=zC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>ae.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",u).next(f=>ae.forEach(f,_=>{At(_.userId===a.userId);const w=qf(this.wt,_);return KP(e,a.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((u,f)=>{const _=new en(u),w=[0,As(_)];a.push(t.get(w).next(I=>I?ae.resolve():t.put({targetId:0,path:As(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Pj});const r=t.store("collectionParents"),i=new xM,a=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:As(_)})}};return t.store("remoteDocuments").J({H:!0},(u,f)=>{const _=new en(u);return a(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([u,f,_],w)=>{const I=fu(f);return a(I.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const a=wb(i),u=VP(this.wt,a);return t.put(u)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ke(en.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):ot()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(I))}).next(()=>ae.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=e1(this.wt),a=new o1(KC.Ms,this.wt.ne);return r.K().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Ut();qf(this.wt,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),ae.forEach(f,(_,w)=>{const I=new li(w),M=HC.se(this.wt,I),P=a.getIndexManager(I),V=qC.se(I,this.wt,P,a.referenceDelegate);return new s1(i,V,M,P).recalculateAndSaveOverlaysForDocumentKeys(new DM(t,no.ot),_).next()})})}}function a1(n){n.createObjectStore("targetDocuments",{keyPath:Fj}).createIndex("documentTargetsIndex",Nj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kj,{unique:!0}),n.createObjectStore("targetGlobal")}const OM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kM{constructor(e,t,r,i,a,u,f,_,w,I,M=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=a,this.window=u,this.document=f,this.Ws=w,this.zs=I,this.Hs=M,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=P=>Promise.resolve(),!kM.V())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sH(this,i),this.ei=t+"main",this.wt=new PP(_),this.ni=new vl(this.ei,this.Hs,new mH(this.wt)),this.Vs=new tH(this.referenceDelegate,this.wt),this.remoteDocumentCache=e1(this.wt),this.Ds=new Wj,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,OM);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new no(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ZC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Ud(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Tb(e).get("owner").next(t=>ae.resolve(this.di(t)))}_i(e){return ZC(e).delete(this.clientId)}wi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=di(r,"clientMetadata");return i.K().next(a=>{const u=e.gi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return ae.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ae.resolve(!0):Tb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,OM);return!1}}return!(!this.networkEnabled||!this.inForeground)||ZC(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new DM(t,no.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>ZC(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return qC.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eH(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return HC.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Hs)?zj:14===u?NP:13===u?FP:12===u?Gj:11===u?kP:void ot();var u;let f;return this.ni.runTransaction(e,i,a,_=>(f=new DM(_,this.Ps?this.Ps.next():no.ot),"readwrite-primary"===t?this.ai(f).next(w=>!!w||this.hi(f)).next(w=>{if(!w)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Re(fe.FAILED_PRECONDITION,DN);return r(f)}).next(w=>this.fi(f).next(()=>w)):this.bi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}bi(e){return Tb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,OM)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tb(e).put("owner",t)}static V(){return vl.V()}li(e){const t=Tb(e);return t.get("owner").next(r=>this.di(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tb(n){return di(n,"owner")}function ZC(n){return di(n,"clientMetadata")}function FM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class NM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Ut(),i=Ut();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new NM(e,t.fromCache,r,i)}}class l1{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(a=>a||this.xi(e,t,i,r)).next(a=>a||this.Ni(e,t))}Ci(e,t){return ae.resolve(null)}xi(e,t,r,i){return function tj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(St.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(a=>{const u=this.ki(t,a);return this.Oi(t,u,r,i)?this.Ni(e,t):(oM()<=Nd.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yM(t)),this.Mi(e,u,t,EN(i,-1)))})}ki(e,t){let r=new Cn(ZN(e));return t.forEach((i,a)=>{vM(e,a)&&(r=r.add(a))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ni(e,t){return oM()<=Nd.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",yM(t)),this.Di.getDocumentsMatchingQuery(e,t,Bo.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class _H{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new hr(Pt),this.Bi=new zd(a=>jf(a),ub),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s1(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function u1(n,e,t,r){return new _H(n,e,t,r)}function c1(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,we.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let _=Ut();for(const w of i){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:f}))})})}),PM.apply(this,arguments)}function yH(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,M=I.keys();let P=ae.resolve();return M.forEach(V=>{P=P.next(()=>w.getEntry(f,V)).next(U=>{const re=_.docVersions.get(V);At(null!==re),U.version.compareTo(re)<0&&(I.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),w.addEntry(U)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Ut();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function d1(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function vH(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];e.targetChanges.forEach((I,M)=>{const P=i.get(M);if(!P)return;f.push(t.Vs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Vs.addMatchingKeys(a,I.addedDocuments,M)));let V=P.withSequenceNumber(a.currentSequenceNumber);var U,re,De;e.targetMismatches.has(M)?V=V.withResumeToken(Gr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):I.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(I.resumeToken,r)),i=i.insert(M,V),re=V,De=I,(0===(U=P).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,V))});let _=ro(),w=Ut();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(h1(a,u,e.documentUpdates).next(I=>{_=I.Gi,w=I.Qi})),!r.isEqual(St.min())){const I=t.Vs.getLastRemoteSnapshotVersion(a).next(M=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return ae.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.$i=i,a))}function h1(n,e,t){let r=Ut(),i=Ut();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ro();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(St.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:i}})}function bH(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xm(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Vs.allocateTargetId(r).next(u=>(i=new qd(e,u,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Rm(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,we.Z)(function*(n,e,t){const r=Qe(n),i=r.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Ud(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),LM.apply(this,arguments)}function YC(n,e,t){const r=Qe(n);let i=St.min(),a=Ut();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=Qe(f),M=I.Bi.get(w);return void 0!==M?ae.resolve(I.$i.get(M)):I.Vs.getTargetData(_,w)}(r,u,ba(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>r.Fi.getDocumentsMatchingQuery(u,e,t?i:St.min(),t?a:Ut())).next(f=>(g1(r,KN(e),f),{documents:f,ji:a})))}function f1(n,e){const t=Qe(n),r=Qe(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.te(a,e).next(u=>u?u.target:null))}function p1(n,e){const t=Qe(n),r=t.Li.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,EN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(g1(t,e,i),i))}function g1(n,e,t){let r=St.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Li.set(e,r)}function VM(){return VM=(0,we.Z)(function*(n,e,t,r){const i=Qe(n);let a=Ut(),u=ro();for(const w of t){const I=e.Wi(w.metadata.name);w.document&&(a=a.add(I));const M=e.zi(w);M.setReadTime(e.Hi(w.metadata.readTime)),u=u.insert(I,M)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),_=yield xm(i,(w=r,ba(bm(en.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>h1(w,f,u).next(I=>(f.apply(w),I)).next(I=>i.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,I.Gi,I.Qi)).next(()=>I.Gi)))}),VM.apply(this,arguments)}function EH(n,e){return BM.apply(this,arguments)}function BM(){return BM=(0,we.Z)(function*(n,e,t=Ut()){const r=yield xm(n,ba(AM(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=ci(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ds.saveNamedQuery(a,e);const f=r.withResumeToken(Gr.EMPTY_BYTE_STRING,u);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(a,f).next(()=>i.Vs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Vs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(a,e))})}),BM.apply(this,arguments)}function m1(n,e){return`firestore_clients_${n}_${e}`}function _1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function UM(n,e){return`firestore_targets_${n}_${e}`}class QC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Re(i.error.code,i.error.message))),u?new QC(e,t,i.state,a):(kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ab{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Re(r.error.code,r.error.message))),a?new Ab(e,r.state,i):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class JC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=VC();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=RN(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new JC(e,a):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jM{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jM(t.clientId,t.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HM{constructor(){this.activeTargetIds=VC()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $M{constructor(e,t,r,i,a){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new hr(Pt),this.started=!1,this.ir=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=m1(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new HM),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const a=e.getItem(m1(e.persistenceKey,i));if(a){const u=JC.Ji(i,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(UM(this.persistenceKey,e));if(r){const i=Ab.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(UM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let u=no.ot;if(null!=a)try{const f=JSON.parse(a);At("number"==typeof f),u=f}catch(f){kr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==no.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new QC(this.currentUser,e,t,r),a=_1(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=_1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=UM(this.persistenceKey,e),a=new Ab(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return JC.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return QC.Ji(new li(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Ab.Ji(i,t)}wr(e){return jM.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),u=[],f=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Mr(u,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=VC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class y1{constructor(){this.Fr=new HM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new HM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CH{Br(e){}shutdown(){}}class v1{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const DH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class IH{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class SH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const u=this.oo(e,t);Fe("RestConnection","Sending: ",u,r);const f={};return this.uo(f,i,a),this.co(e,u,f,r).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw Xv("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}ao(e,t,r,i,a,u){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${DH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,u)=>{const f=new I2;f.listenOnce(E2.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sM.NO_ERROR:const w=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),a(w);break;case sM.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),u(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case sM.HTTP_ERROR:const I=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const P=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(U)>=0?U:fe.UNKNOWN}(M.status);u(new Re(P,M.message))}else u(new Re(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=b2(),u=w2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new D2({})),this.uo(f.initMessageHeaders,t,r),(0,Kt.uI)()||(0,Kt.b$)()||(0,Kt.d)()||(0,Kt.w1)()||(0,Kt.Mn)()||(0,Kt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Fe("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,M=!1;const P=new IH({jr:U=>{M?Fe("Connection","Not sending because WebChannel is closed:",U):(I||(Fe("Connection","Opening WebChannel transport."),w.open(),I=!0),Fe("Connection","WebChannel sending:",U),w.send(U))},Wr:()=>w.close()}),V=(U,re,De)=>{U.listen(re,He=>{try{De(He)}catch(tt){setTimeout(()=>{throw tt},0)}})};return V(w,SC.EventType.OPEN,()=>{M||Fe("Connection","WebChannel transport opened.")}),V(w,SC.EventType.CLOSE,()=>{M||(M=!0,Fe("Connection","WebChannel transport closed"),P.eo())}),V(w,SC.EventType.ERROR,U=>{M||(M=!0,Xv("Connection","WebChannel transport errored:",U),P.eo(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),V(w,SC.EventType.MESSAGE,U=>{var re;if(!M){const De=U.data[0];At(!!De);const He=De,tt=He.error||(null===(re=He[0])||void 0===re?void 0:re.error);if(tt){Fe("Connection","WebChannel received error:",tt);const st=tt.status;let rt=function(Lt){const dn=Fr[Lt];if(void 0!==dn)return cP(dn)}(st),Rt=tt.message;void 0===rt&&(rt=fe.INTERNAL,Rt="Unknown error status: "+st+" with message "+tt.message),M=!0,P.eo(new Re(rt,Rt)),w.close()}else Fe("Connection","WebChannel received:",De),P.no(De)}}),V(u,C2.STAT_EVENT,U=>{U.stat===mN.PROXY?Fe("Connection","Detected buffering proxy"):U.stat===mN.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.Zr()},0),P}}function b1(){return"undefined"!=typeof window?window:null}function XC(){return"undefined"!=typeof document?document:null}function Mb(n){return new _j(n,!0)}class GM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class w1{constructor(e,t,r,i,a,u,f,_){this.js=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new GM(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Re(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TH extends w1{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function bj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),i=e.targetChange.targetIds||[],a=function(_,w){return _.dt?(At(void 0===w||"string"==typeof w),Gr.fromBase64String(w||"")):(At(void 0===w||w instanceof Uint8Array),Gr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?fe.UNKNOWN:cP(_.code);return new Re(w,_.message||"")}(u);t=new gP(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=hu(n,r.document.name),a=ci(r.document.updateTime),u=new Oi({mapValue:{fields:r.document.fields}}),f=Nn.newFoundDocument(i,a,u);t=new BC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=hu(n,r.document),a=r.readTime?ci(r.readTime):St.min(),u=Nn.newNoDocument(i,a);t=new BC([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=hu(n,r.document);t=new BC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,a=new uj(r.count||0);t=new pP(r.targetId,a)}}var _;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return St.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?ci(a.readTime):St.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=vb(this.wt),t.addTarget=function(i,a){let u;const f=a.target;return u=kC(f)?{documents:IP(i,f)}:{query:SP(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=vP(i,a.resumeToken):a.snapshotVersion.compareTo(St.min())>0&&(u.readTime=_b(i,a.snapshotVersion.toTimestamp())),u}(this.wt,e);const r=function Ej(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=vb(this.wt),t.removeTarget=e,this.Mo(t)}}class AH extends w1{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function wj(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let a=ci(r.updateTime?r.updateTime:i);return a.isEqual(St.min())&&(a=ci(i)),new oj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.Jo(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=vb(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bb(this.wt,r))};this.Mo(t)}}class MH extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(fe.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.bo.ao(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(fe.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class xH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(kr(t),this.su=!1):Fe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class RH{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var _;Zd(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const I=Qe(w);I.lu.add(4),yield Om(I),I._u.set("Unknown"),I.lu.delete(4),yield xb(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new xH(r,i)}}function xb(n){return zM.apply(this,arguments)}function zM(){return zM=(0,we.Z)(function*(n){if(Zd(n))for(const e of n.fu)yield e(!0)}),zM.apply(this,arguments)}function Om(n){return qM.apply(this,arguments)}function qM(){return qM=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),qM.apply(this,arguments)}function eD(n,e){const t=Qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ZM(t)?KM(t):Fm(t).Co()&&WM(t,e))}function Rb(n,e){const t=Qe(n),r=Fm(t);t.hu.delete(e),r.Co()&&E1(t,e),0===t.hu.size&&(r.Co()?r.ko():Zd(t)&&t._u.set("Unknown"))}function WM(n,e){n.wu.Nt(e.targetId),Fm(n).Qo(e)}function E1(n,e){n.wu.Nt(e),Fm(n).jo(e)}function KM(n){n.wu=new pj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Fm(n).start(),n._u.iu()}function ZM(n){return Zd(n)&&!Fm(n).Do()&&n.hu.size>0}function Zd(n){return 0===Qe(n).lu.size}function C1(n){n.wu=void 0}function OH(n){return YM.apply(this,arguments)}function YM(){return YM=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{WM(n,e)})}),YM.apply(this,arguments)}function kH(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,we.Z)(function*(n,e){C1(n),ZM(n)?(n._u.uu(e),KM(n)):n._u.set("Unknown")}),QM.apply(this,arguments)}function FH(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof gP&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tD(n,r)}else if(e instanceof BC?n.wu.Ut(e):e instanceof pP?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(St.min()))try{const r=yield d1(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.wu.Yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.hu.get(_);w&&i.hu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(Gr.EMPTY_BYTE_STRING,_.snapshotVersion)),E1(i,f);const w=new qd(_.target,f,1,_.sequenceNumber);WM(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield tD(n,r)}var r}),JM.apply(this,arguments)}function tD(n,e,t){return XM.apply(this,arguments)}function XM(){return XM=(0,we.Z)(function*(n,e,t){if(!Ud(e))throw e;n.lu.add(1),yield Om(n),n._u.set("Offline"),t||(t=()=>d1(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield xb(n)}))}),XM.apply(this,arguments)}function D1(n,e){return e().catch(t=>tD(n,t,e))}function km(n){return ex.apply(this,arguments)}function ex(){return ex=(0,we.Z)(function*(n){const e=Qe(n),t=Yd(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;NH(e);)try{const i=yield bH(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,PH(e,i)}catch(i){yield tD(e,i)}I1(e)&&S1(e)}),ex.apply(this,arguments)}function NH(n){return Zd(n)&&n.au.length<10}function PH(n,e){n.au.push(e);const t=Yd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function I1(n){return Zd(n)&&!Yd(n).Do()&&n.au.length>0}function S1(n){Yd(n).start()}function LH(n){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n){Yd(n).Xo()}),tx.apply(this,arguments)}function VH(n){return nx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(n){const e=Yd(n);for(const t of n.au)e.Ho(t.mutations)}),nx.apply(this,arguments)}function BH(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,we.Z)(function*(n,e,t){const r=n.au.shift(),i=SM.from(r,e,t);yield D1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield km(n)}),rx.apply(this,arguments)}function UH(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(n,e){var t;e&&Yd(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(uP(a=i.code)&&a!==fe.ABORTED){const u=r.au.shift();Yd(r).No(),yield D1(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield km(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),I1(n)&&S1(n)}),ix.apply(this,arguments)}function T1(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,we.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Zd(t);t.lu.add(3),yield Om(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield xb(t)}),sx.apply(this,arguments)}function ox(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,we.Z)(function*(n,e){const t=Qe(n);e?(t.lu.delete(2),yield xb(t)):e||(t.lu.add(2),yield Om(t),t._u.set("Unknown"))}),ax.apply(this,arguments)}function Fm(n){return n.mu||(n.mu=function(e,t,r){const i=Qe(e);return i.tu(),new TH(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:OH.bind(null,n),Jr:kH.bind(null,n),Go:FH.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),ZM(n)?KM(n):n._u.set("Unknown")):(yield n.mu.stop(),C1(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Yd(n){return n.gu||(n.gu=function(e,t,r){const i=Qe(e);return i.tu(),new AH(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:LH.bind(null,n),Jr:UH.bind(null,n),Yo:VH.bind(null,n),Jo:BH.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield km(n)):(yield n.gu.stop(),n.au.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class lx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new lx(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(n,e){if(kr("AsyncQueue",`${e}: ${n}`),Ud(n))return new Re(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Pm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=fb(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Pm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class A1{constructor(){this.yu=new hr(Ke.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ot():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lm{constructor(e,t,r,i,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Lm(e,t,Pm.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class jH{constructor(){this.Iu=void 0,this.listeners=[]}}class HH{constructor(){this.queries=new zd(e=>WN(e),cb),this.onlineState="Unknown",this.Tu=new Set}}function ux(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new jH),i)try{a.Iu=yield t.onListen(r)}catch(u){const f=Nm(u,`Initialization of query '${yM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&fx(t)}),cx.apply(this,arguments)}function dx(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,we.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),hx.apply(this,arguments)}function $H(n,e){const t=Qe(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Au(i)&&(r=!0);u.Iu=i}}r&&fx(t)}function GH(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function fx(n){n.Tu.forEach(e=>{e.next()})}class px{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Lm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Lm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class zH{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class M1{constructor(e){this.wt=e}Wi(e){return hu(this.wt,e)}zi(e){return e.metadata.exists?DP(this.wt,e.document,!1):Nn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return ci(e)}}class qH{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=x1(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=en.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new M1(this.wt);for(const i of e)if(i.metadata.queries){const a=r.Wi(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Ut()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function wH(n,e,t,r){return VM.apply(this,arguments)}(e.localStore,new M1(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield EH(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function x1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class R1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class k1{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Ut(),this.mutatedKeys=Ut(),this.Lu=ZN(e),this.Uu=new Pm(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new A1,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const P=i.get(I),V=vM(this.query,M)?M:null,U=!!P&&this.mutatedKeys.has(P.key),re=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let De=!1;P&&V?P.data.isEqual(V.data)?U!==re&&(r.track({type:3,doc:V}),De=!0):this.Qu(P,V)||(r.track({type:2,doc:V}),De=!0,(_&&this.Lu(V,_)>0||w&&this.Lu(V,w)<0)&&(f=!0)):!P&&V?(r.track({type:0,doc:V}),De=!0):P&&!V&&(r.track({type:1,doc:P}),De=!0,(_||w)&&(f=!0)),De&&(V?(u=u.add(V),a=re?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Uu:u,Gu:r,Oi:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((w,I)=>function(M,P){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return V(M)-V(P)}(w.type,I.type)||this.Lu(w.doc,I.doc)),this.ju(r);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new Lm(this.query,e.Uu,i,a,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new A1,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Ut(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new O1(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new R1(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Ut();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Lm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class WH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KH{constructor(e){this.key=e,this.Xu=!1}}class ZH{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new zd(f=>WN(f),cb),this.ec=new Map,this.nc=new Set,this.sc=new hr(Ke.comparator),this.ic=new Map,this.rc=new RM,this.oc={},this.uc=new Map,this.cc=Yf.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function YH(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,we.Z)(function*(n,e){const t=Vx(n);let r,i;const a=t.tc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const u=yield xm(t.localStore,ba(e));t.isPrimaryClient&&eD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield mx(t,e,r,"current"===f)}return i}),gx.apply(this,arguments)}function mx(n,e,t,r){return _x.apply(this,arguments)}function _x(){return _x=(0,we.Z)(function*(n,e,t,r){n.hc=(I,M,P)=>{return(V=(0,we.Z)(function*(U,re,De,He){let tt=re.view.Ku(De);tt.Oi&&(tt=yield YC(U.localStore,re.query,!1).then(({documents:Rt})=>re.view.Ku(Rt,tt)));const st=He&&He.targetChanges.get(re.targetId),rt=re.view.applyChanges(tt,U.isPrimaryClient,st);return Tx(U,re.targetId,rt.zu),rt.snapshot}),function(U,re,De,He){return V.apply(this,arguments)})(n,I,M,P);var V};const i=yield YC(n.localStore,e,!0),a=new k1(e,i.ji),u=a.Ku(i.documents),f=mb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);Tx(n,t,_.zu);const w=new WH(e,t,a);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),_x.apply(this,arguments)}function QH(n,e){return yx.apply(this,arguments)}function yx(){return yx=(0,we.Z)(function*(n,e){const t=Qe(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(a=>!cb(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Rm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rb(t.remoteStore,r.targetId),Vm(t,r.targetId)}).catch(Bd))):(Vm(t,r.targetId),yield Rm(t.localStore,r.targetId,!0))}),yx.apply(this,arguments)}function vx(){return vx=(0,we.Z)(function*(n,e,t){const r=Bx(n);try{const i=yield function(a,u){const f=Qe(a),_=qn.now(),w=u.reduce((P,V)=>P.add(V.key),Ut());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=ro(),U=Ut();return f.Ui.getEntries(P,w).next(re=>{V=re,V.forEach((De,He)=>{He.isValidDocument()||(U=U.add(De))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,V)).next(re=>{I=re;const De=[];for(const He of u){const tt=lj(He,I.get(He.key).overlayedDocument);null!=tt&&De.push(new _c(He.key,tt,VN(tt.value.mapValue),er.exists(!0)))}return f.mutationQueue.addMutationBatch(P,_,De,u)}).next(re=>{M=re;const De=re.applyToLocalDocumentSet(I,U);return f.documentOverlayCache.saveOverlays(P,re.batchId,De)})}).then(()=>({batchId:M.batchId,changes:hP(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let _=a.oc[a.currentUser.toKey()];_||(_=new hr(Pt)),_=_.insert(u,f),a.oc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield yc(r,i.changes),yield km(r.remoteStore)}catch(i){const a=Nm(i,"Failed to persist write");t.reject(a)}}),vx.apply(this,arguments)}function F1(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n,e){const t=Qe(n);try{const r=yield vH(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.ic.get(a);u&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Xu=!0:i.modifiedDocuments.size>0?At(u.Xu):i.removedDocuments.size>0&&(At(u.Xu),u.Xu=!1))}),yield yc(t,r,e)}catch(r){yield Bd(r)}}),bx.apply(this,arguments)}function N1(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=Qe(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const M of I.listeners)M.Eu(u)&&(_=!0)}),_&&fx(f)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XH(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,we.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),a=i&&i.key;if(a){let u=new hr(Ke.comparator);u=u.insert(a,Nn.newNoDocument(a,St.min()));const f=Ut().add(a),_=new gb(St.min(),new Map,new Cn(Pt),u,f);yield F1(r,_),r.sc=r.sc.remove(a),r.ic.delete(e),Ax(r)}else yield Rm(r.localStore,e,!1).then(()=>Vm(r,e,t)).catch(Bd)}),wx.apply(this,arguments)}function e$(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,we.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield yH(t.localStore,e);Sx(t,r,null),Ix(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yc(t,i)}catch(i){yield Bd(i)}}),Ex.apply(this,arguments)}function t$(n,e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,we.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(a,u){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(At(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);Sx(r,e,t),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yc(r,i)}catch(i){yield Bd(i)}}),Cx.apply(this,arguments)}function Dx(){return Dx=(0,we.Z)(function*(n,e){const t=Qe(n);Zd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=Qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Nm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Dx.apply(this,arguments)}function Ix(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Sx(n,e,t){const r=Qe(n);let i=r.oc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Vm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||P1(n,r)})}function P1(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Rb(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Ax(n))}function Tx(n,e,t){for(const r of t)r instanceof R1?(n.rc.addReference(r.key,e),r$(n,r)):r instanceof O1?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||P1(n,r.key)):ot()}function r$(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.nc.add(r),Ax(n))}function Ax(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new Ke(en.fromString(e)),r=n.cc.next();n.ic.set(r,new KH(t)),n.sc=n.sc.insert(t,r),eD(n.remoteStore,new qd(ba(bm(t.path)),r,2,no.ot))}}function yc(n,e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,we.Z)(function*(n,e,t){const r=Qe(n),i=[],a=[],u=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,_)=>{u.push(r.hc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=NM.Vi(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),r.Zu.Go(i),yield(f=(0,we.Z)(function*(_,w){const I=Qe(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ae.forEach(w,P=>ae.forEach(P.Pi,V=>I.persistence.referenceDelegate.addReference(M,P.targetId,V)).next(()=>ae.forEach(P.vi,V=>I.persistence.referenceDelegate.removeReference(M,P.targetId,V)))))}catch(M){if(!Ud(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const P=M.targetId;if(!M.fromCache){const V=I.$i.get(P),re=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);I.$i=I.$i.insert(P,re)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),Mx.apply(this,arguments)}function i$(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield c1(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(u=>{u.forEach(f=>{f.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yc(t,r.Ki)}var i}),xx.apply(this,arguments)}function s$(n,e){const t=Qe(n),r=t.ic.get(e);if(r&&r.Xu)return Ut().add(r.key);{let i=Ut();const a=t.ec.get(e);if(!a)return i;for(const u of a){const f=t.tc.get(u);i=i.unionWith(f.view.qu)}return i}}function o$(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,we.Z)(function*(n,e){const t=Qe(n),r=yield YC(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&Tx(t,e.targetId,i.zu),i}),Rx.apply(this,arguments)}function a$(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e){const t=Qe(n);return p1(t.localStore,e).then(r=>yc(t,r))}),Ox.apply(this,arguments)}function l$(n,e,t,r){return kx.apply(this,arguments)}function kx(){return kx=(0,we.Z)(function*(n,e,t,r){const i=Qe(n),a=yield function(u,f){const _=Qe(u),w=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.yn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):ae.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield km(i.remoteStore):"acknowledged"===t||"rejected"===t?(Sx(i,e,r||null),Ix(i,e),f=e,Qe(Qe(i.localStore).mutationQueue).In(f)):ot(),yield yc(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),kx.apply(this,arguments)}function Fx(){return Fx=(0,we.Z)(function*(n,e){const t=Qe(n);if(Vx(t),Bx(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield L1(t,r.toArray());t.ac=!0,yield ox(t.remoteStore,!0);for(const a of i)eD(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Vm(t,u),Rm(t.localStore,u,!0))),Rb(t.remoteStore,u)}),yield i,yield L1(t,r),function(a){const u=Qe(a);u.ic.forEach((f,_)=>{Rb(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new hr(Ke.comparator)}(t),t.ac=!1,yield ox(t.remoteStore,!1)}}),Fx.apply(this,arguments)}function L1(n,e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,we.Z)(function*(n,e,t){const r=Qe(n),i=[],a=[];for(const u of e){let f;const _=r.ec.get(u);if(_&&0!==_.length){f=yield xm(r.localStore,ba(_[0]));for(const w of _){const I=r.tc.get(w),M=yield o$(r,I);M.snapshot&&a.push(M.snapshot)}}else{const w=yield f1(r.localStore,u);f=yield xm(r.localStore,w),yield mx(r,V1(w),u,!1)}i.push(f)}return r.Zu.Go(a),i}),Nx.apply(this,arguments)}function V1(n){return zN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function c$(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Ri()}function d$(n,e,t,r){return Px.apply(this,arguments)}function Px(){return Px=(0,we.Z)(function*(n,e,t,r){const i=Qe(n);if(i.ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=i.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield p1(i.localStore,KN(a[0])),f=gb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield yc(i,u,f);break}case"rejected":yield Rm(i.localStore,e,!0),Vm(i,e,r);break;default:ot()}}),Px.apply(this,arguments)}function h$(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,we.Z)(function*(n,e,t){const r=Vx(n);if(r.ac){for(const i of e){if(r.ec.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield f1(r.localStore,i),u=yield xm(r.localStore,a);yield mx(r,V1(a),u.targetId,!1),eD(r.remoteStore,u)}for(const i of t)r.ec.has(i)&&(yield Rm(r.localStore,i,!1).then(()=>{Rb(r.remoteStore,i),Vm(r,i)}).catch(Bd))}}),Lx.apply(this,arguments)}function Vx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XH.bind(null,e),e.Zu.Go=$H.bind(null,e.eventManager),e.Zu.lc=GH.bind(null,e.eventManager),e}function Bx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t$.bind(null,e),e}class B1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.wt=Mb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return u1(this.persistence,new l1,e.initialUser,this.wt)}_c(e){return new o1(KC.Ms,this.wt)}dc(e){return new y1}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class U1 extends B1{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield Bx(r.yc.syncEngine),yield km(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return u1(this.persistence,new l1,e.initialUser,this.wt)}mc(e,t){return new rH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new B2(t,this.persistence);return new V2(e.asyncQueue,r)}_c(e){const t=FM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?io.withCacheSize(this.cacheSizeBytes):io.DEFAULT;return new kM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,b1(),XC(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new y1}}class p$ extends U1{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof $M&&(r.sharedClientState.syncEngine={kr:l$.bind(null,i),Or:d$.bind(null,i),Mr:h$.bind(null,i),Ri:c$.bind(null,i),Nr:a$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var a=(0,we.Z)(function*(u){yield function u$(n,e){return Fx.apply(this,arguments)}(r.yc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(e){const t=b1();if(!$M.V(t))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $M(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ux{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>N1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=i$.bind(null,r.syncEngine),yield ox(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new HH}createDatastore(e){const t=Mb(e.databaseInfo.databaseId),r=new SH(e.databaseInfo);return new MH(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>N1(this.syncEngine,f,0),u=v1.V()?new v1:new CH,new RH(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,_,w){const I=new ZH(r,i,a,u,f,_);return w&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Qe(t);Fe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Om(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function j1(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class g${constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ui,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,we.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const a=yield e.vc(i);return new zH(JSON.parse(a),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,we.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class m${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,u){const f=Qe(a),_=vb(f.wt)+"/documents",w={documents:u.map(V=>yb(f.wt,V))},I=yield f.ao("BatchGetDocuments",_,w,u.length),M=new Map;I.forEach(V=>{const U=function vj(n,e){return"found"in e?function(t,r){At(!!r.found);const i=hu(t,r.found.name),a=ci(r.found.updateTime),u=new Oi({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){At(!!r.missing),At(!!r.readTime);const i=hu(t,r.missing),a=ci(r.readTime);return Nn.newNoDocument(i,a)}(n,e):ot()}(f.wt,V);M.set(U.key.toString(),U)});const P=[];return u.forEach(V=>{const U=M.get(V.toString());At(!!U),P.push(U)}),P}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Im(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ke.fromPath(i);e.mutations.push(new bM(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const u=Qe(i),f=vb(u.wt)+"/documents",_={writes:a.map(w=>bb(u.wt,w))};yield u.ro("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _${constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new GM(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new m$(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Nc(a)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!ib(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!uP(t)}return!1}}class y${constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=li.UNAUTHENTICATED,this.clientId=bN.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,we.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Nm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function H1(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield c1(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),jx.apply(this,arguments)}function $1(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $x(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>T1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>T1(e.remoteStore,a)),n.onlineComponents=e}),Hx.apply(this,arguments)}function $x(n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,we.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield H1(n,new B1)),n.offlineComponents}),Gx.apply(this,arguments)}function rD(n){return zx.apply(this,arguments)}function zx(){return zx=(0,we.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield $1(n,new Ux)),n.onlineComponents}),zx.apply(this,arguments)}function G1(n){return $x(n).then(e=>e.persistence)}function qx(n){return $x(n).then(e=>e.localStore)}function z1(n){return rD(n).then(e=>e.remoteStore)}function Wx(n){return rD(n).then(e=>e.syncEngine)}function Bm(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,we.Z)(function*(n){const e=yield rD(n),t=e.eventManager;return t.onListen=YH.bind(null,e.syncEngine),t.onUnlisten=QH.bind(null,e.syncEngine),t}),Kx.apply(this,arguments)}function q1(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,_){const w=new nD({next:M=>{a.enqueueAndForget(()=>dx(i,I));const P=M.docs.has(u);!P&&M.fromCache?_.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&f&&"server"===f.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new px(bm(u.path),w,{includeMetadataChanges:!0,Du:!0});return ux(i,I)}(yield Bm(n),n.asyncQueue,e,t,r)})),r.promise}function W1(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,_){const w=new nD({next:M=>{a.enqueueAndForget(()=>dx(i,I)),M.fromCache&&"server"===f.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new px(u,w,{includeMetadataChanges:!0,Du:!0});return ux(i,I)}(yield Bm(n),n.asyncQueue,e,t,r)})),r.promise}const K1=new Map;function Zx(n,e,t){if(!t)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z1(n,e,t,r){if(!0===e&&!0===r)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Y1(n){if(!Ke.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q1(n){if(Ke.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iD(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function J1(n,e){if(e<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class X1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ob{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X1({}),this._settingsFrozen=!1,e instanceof gc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(i.options.projectId)}(e))}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new A2;switch(t.type){case"gapi":const r=t.client;return At(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new O2(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=K1.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),K1.delete(e),t.terminate())}(this),Promise.resolve()}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class pu extends es{constructor(e,t,r){super(e,t,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Ke(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function eL(n,e,...t){if(n=(0,Kt.m9)(n),Zx("collection","path",e),n instanceof Ob){const r=en.fromString(e,...t);return Q1(r),new pu(n,null,r)}{if(!(n instanceof Bn||n instanceof pu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return Q1(r),new pu(n.firestore,null,r)}}function sD(n,e,...t){if(n=(0,Kt.m9)(n),1===arguments.length&&(e=bN.I()),Zx("doc","path",e),n instanceof Ob){const r=en.fromString(e,...t);return Y1(r),new Bn(n,null,new Ke(r))}{if(!(n instanceof Bn||n instanceof pu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return Y1(r),new Bn(n.firestore,n instanceof pu?n.converter:null,new Ke(r))}}function tL(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),(n instanceof Bn||n instanceof pu)&&(e instanceof Bn||e instanceof pu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nL(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&cb(n._query,e._query)&&n.converter===e.converter}class M${constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new GM(this,"async_queue_retry"),this.Kc=()=>{const t=XC();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=XC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=XC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ui;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Ud(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=lx.createAndSchedule(this,e,t,r,a=>this.Wc(a));return this.$c.push(i),i}Gc(){this.Bc&&ot()}verifyOperationInProgress(){}zc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Yx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class x${constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends Ob{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new M$,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rL(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||rL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new H2(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new y$(n._authCredentials,n._appCheckCredentials,n._queue,r)}function iL(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield H1(n,t),yield $1(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===fe.FAILED_PRECONDITION||u.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function sL(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu(Gr.fromBase64String(e))}catch(t){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gu(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jf{constructor(e){this._methodName=e}}class oD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const U$=/^__.*__$/;class j${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dm(e,this.data,t,this.fieldTransforms)}}class oL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class aD{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new aD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return cD(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(aL(this.Zc)&&U$.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class H${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Mb(e)}aa(e,t,r,i=!1){return new aD({Zc:e,methodName:t,ca:r,path:Dr.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Xf(n){const e=n._freezeSettings(),t=Mb(n._databaseId);return new H$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lD(n,e,t,r,i,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,e,t,i);eR("Data must be an object, but it was:",u,r);const f=cL(r,u);let _,w;if(a.merge)_=new Uo(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const P=tR(e,M,t);if(!u.contains(P))throw new Re(fe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);hL(I,P)||I.push(P)}_=new Uo(I),w=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=u.fieldTransforms;return new j$(new Oi(f),_,w)}class kb extends Jf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kb}}function lL(n,e,t){return new aD({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Qx extends Jf{_toFieldTransform(e){return new db(e.path,new Em)}isEqual(e){return e instanceof Qx}}class $$ extends Jf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=lL(this,e,!0),r=this.ha.map(a=>ep(a,t)),i=new Hf(r);return new db(e.path,i)}isEqual(e){return this===e}}class G$ extends Jf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=lL(this,e,!0),r=this.ha.map(a=>ep(a,t)),i=new $f(r);return new db(e.path,i)}isEqual(e){return this===e}}class z$ extends Jf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Cm(e.wt,JN(e.wt,this.la));return new db(e.path,t)}isEqual(e){return this===e}}function Jx(n,e,t,r){const i=n.aa(1,e,t);eR("Data must be an object, but it was:",i,r);const a=[],u=Oi.empty();Lf(r,(_,w)=>{const I=uD(e,_,t);w=(0,Kt.m9)(w);const M=i.ia(I);if(w instanceof kb)a.push(I);else{const P=ep(w,M);null!=P&&(a.push(I),u.set(I,P))}});const f=new Uo(a);return new oL(u,f,i.fieldTransforms)}function Xx(n,e,t,r,i,a){const u=n.aa(1,e,t),f=[tR(e,r,t)],_=[i];if(a.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(tR(e,a[P])),_.push(a[P+1]);const w=[],I=Oi.empty();for(let P=f.length-1;P>=0;--P)if(!hL(w,f[P])){const V=f[P];let U=_[P];U=(0,Kt.m9)(U);const re=u.ia(V);if(U instanceof kb)w.push(V);else{const De=ep(U,re);null!=De&&(w.push(V),I.set(V,De))}}const M=new Uo(w);return new oL(I,M,u.fieldTransforms)}function uL(n,e,t,r=!1){return ep(t,n.aa(r?4:3,e))}function ep(n,e){if(dL(n=(0,Kt.m9)(n)))return eR("Unsupported field value:",e,n),cL(n,e);if(n instanceof Jf)return function(t,r){if(!aL(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=ep(u,r.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return JN(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qn.fromDate(t);return{timestampValue:_b(r.wt,i)}}if(t instanceof qn){const i=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_b(r.wt,i)}}if(t instanceof oD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gu)return{bytesValue:vP(r.wt,t._byteString)};if(t instanceof Bn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${iD(t)}`)}(n,e)}function cL(n,e){const t={};return AN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lf(n,(r,i)=>{const a=ep(i,e.ea(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function dL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof oD||n instanceof gu||n instanceof Bn||n instanceof Jf)}function eR(n,e,t){if(!dL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=iD(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function tR(n,e,t){if((e=(0,Kt.m9)(e))instanceof vc)return e._internalPath;if("string"==typeof e)return uD(n,e);throw cD("Field path arguments must be of type string or ",n,!1,void 0,t)}const q$=new RegExp("[~\\*/\\[\\]]");function uD(n,e,t){if(e.search(q$)>=0)throw cD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vc(...e.split("."))._internalPath}catch(r){throw cD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cD(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Re(fe.INVALID_ARGUMENT,f+n+_)}function hL(n,e){return n.some(t=>t.isEqual(e))}class Fb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new W$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class W$ extends Fb{data(){return super.data()}}function dD(n,e){return"string"==typeof e?uD(n,e):e instanceof vc?e._internalPath:e._delegate._internalPath}class tp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bc extends Fb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nb extends bc{data(e={}){return super.data(e)}}class Qd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nb(this._firestore,this._userDataWriter,r.key,r,new tp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Nb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new tp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Nb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new tp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:K$(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function K$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function fL(n,e){return n instanceof bc&&e instanceof bc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qd&&e instanceof Qd&&n._firestore===e._firestore&&nL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pb{}function Jd(n,...e){for(const t of e)n=t._apply(n);return n}class Z$ extends Pb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Xf(e.firestore),r=function(i,a,u,f,_,w,I){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){bL(I,w);const V=[];for(const U of I)V.push(vL(f,i,U));M={arrayValue:{values:V}}}else M=vL(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||bL(I,w),M=uL(u,"where",I,"in"===w||"not-in"===w);const P=ki.create(_,w,M);return function(V,U){if(U.ht()){const De=mM(V);if(null!==De&&!De.isEqual(U.field))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${U.field.toString()}'`);const He=gM(V);null!==He&&wL(0,U.field,He)}const re=function(De,He){for(const tt of De.filters)if(He.indexOf(tt.op)>=0)return tt.op;return null}(V,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==re)throw new Re(fe.INVALID_ARGUMENT,re===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${re.toString()}' filters.`)}(i,P),P}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new es(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new mc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Q$ extends Pb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new vm(i,a);return function(f,_){if(null===gM(f)){const w=mM(f);null!==w&&wL(0,w,_.field)}}(r,u),u}(e._query,this.fa,this.wa);return new es(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new mc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gL extends Pb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new es(e.firestore,e.converter,qN(e._query,this.ma,this.ga))}}class mL extends Pb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=yL(e,this.type,this.ya,this.pa);return new es(e.firestore,e.converter,(i=t,new mc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _L extends Pb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=yL(e,this.type,this.ya,this.pa);return new es(e.firestore,e.converter,(i=t,new mc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function yL(n,e,t,r){if(t[0]=(0,Kt.m9)(t[0]),t[0]instanceof Fb)return function(i,a,u,f,_){if(!f)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of wm(i))if(I.field.isKeyField())w.push(Uf(a,f.key));else{const M=f.data.field(I.field);if(hM(M))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const P=I.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(M)}return new Gd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xf(n.firestore);return function(a,u,f,_,w,I){const M=a.explicitOrderBy;if(w.length>M.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<w.length;V++){const U=w[V];if(M[V].field.isKeyField()){if("string"!=typeof U)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!_M(a)&&-1!==U.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const re=a.path.child(en.fromString(U));if(!Ke.isDocumentKey(re))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const De=new Ke(re);P.push(Uf(u,De))}else{const re=uL(f,_,U);P.push(re)}}return new Gd(P,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function vL(n,e,t){if("string"==typeof(t=(0,Kt.m9)(t))){if(""===t)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_M(e)&&-1!==t.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!Ke.isDocumentKey(r))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uf(n,new Ke(r))}if(t instanceof Bn)return Uf(n,t._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iD(t)}.`)}function bL(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wL(n,e,t){if(!t.isEqual(e))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const sG={maxAttempts:5};class nR{convertValue(e,t="none"){switch(Bf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return Lf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new oD(fr(e.latitude),fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rb(e));default:return null}}convertTimestamp(e){const t=jd(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);At(MP(r));const i=new gc(r.get(1),r.get(3)),a=new Ke(r.popFirst(5));return i.isEqual(t)||kr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function hD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class oG extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}class EL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xf(e)}set(e,t,r){this._verifyNotCommitted();const i=Xd(e,this._firestore),a=hD(i.converter,t,r),u=lD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,er.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Xd(e,this._firestore);let u;return u="string"==typeof(t=(0,Kt.m9)(t))||t instanceof vc?Xx(this._dataReader,"WriteBatch.update",a._key,t,r,i):Jx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xd(e,this._firestore);return this._mutations=this._mutations.concat(new Im(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(n,e){if((n=(0,Kt.m9)(n)).firestore!==e)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class np extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function CL(n,e,t){n=Jt(n,Bn);const r=Jt(n.firestore,Wn),i=hD(n.converter,e,t);return Um(r,[lD(Xf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,er.none())])}function DL(n,e,t,...r){n=Jt(n,Bn);const i=Jt(n.firestore,Wn),a=Xf(i);let u;return u="string"==typeof(e=(0,Kt.m9)(e))||e instanceof vc?Xx(a,"updateDoc",n._key,e,t,r):Jx(a,"updateDoc",n._key,e),Um(i,[u.toMutation(n._key,er.exists(!0))])}function IL(n,...e){var t,r,i;n=(0,Kt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Yx(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Yx(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[u+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,w,I;if(n instanceof Bn)w=Jt(n.firestore,Wn),I=bm(n._key.path),_={next:M=>{e[u]&&e[u](rR(w,n,M))},error:e[u+1],complete:e[u+2]};else{const M=Jt(n,es);w=Jt(M.firestore,Wn),I=M._query;const P=new np(w);_={next:V=>{e[u]&&e[u](new Qd(w,P,M,V))},error:e[u+1],complete:e[u+2]},pL(n._query)}return function(M,P,V,U){const re=new nD(U),De=new px(P,re,V);return M.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return ux(yield Bm(M),De)})),()=>{re.Tc(),M.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return dx(yield Bm(M),De)}))}}(Nr(w),I,f,_)}function Um(n,e){return function(t,r){const i=new ui;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function JH(n,e,t){return vx.apply(this,arguments)}(yield Wx(t),r,i)})),i.promise}(Nr(n),e)}function rR(n,e,t){const r=t.docs.get(e._key),i=new np(n);return new bc(n,i,e._key,r,new tp(t.hasPendingWrites,t.fromCache),e.converter)}class mG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xf(e)}get(e){const t=Xd(e,this._firestore),r=new oG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const a=i[0];if(a.isFoundDocument())return new Fb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Fb(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=Xd(e,this._firestore),a=hD(i.converter,t,r),u=lD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Xd(e,this._firestore);let u;return u="string"==typeof(t=(0,Kt.m9)(t))||t instanceof vc?Xx(this._dataReader,"Transaction.update",a._key,t,r,i):Jx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Xd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xd(e,this._firestore),r=new np(this._firestore);return super.get(e).then(i=>new bc(this._firestore,r,t._key,i._document,new tp(!1,!1),t.converter))}}function iR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function TL(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function AL(){if(!function U2(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){gm=Mf.SDK_VERSION,(0,Mf._registerComponent)(new eC.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Wn(i,new x2(t.getProvider("auth-internal")),new k2(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Mf.registerVersion)(_N,"3.4.12",n),(0,Mf.registerVersion)(_N,"3.4.12","esm2017")}();class Lb{constructor(e){this._delegate=e}static fromBase64String(e){return AL(),new Lb(gu.fromBase64String(e))}static fromUint8Array(e){return TL(),new Lb(gu.fromUint8Array(e))}toBase64(){return AL(),this._delegate.toBase64()}toUint8Array(){return TL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sR(n){return function IG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class SG{enableIndexedDbPersistence(e,t){return function O$(n,e){sL(n=Jt(n,Wn));const t=Nr(n),r=n._freezeSettings(),i=new Ux;return iL(t,i,new U1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function k$(n){sL(n=Jt(n,Wn));const e=Nr(n),t=n._freezeSettings(),r=new Ux;return iL(e,r,new p$(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function F$(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!vl.V())return Promise.resolve();const i=r+"main";yield vl.delete(i)}),function(r){return t.apply(this,arguments)})(FM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ML{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof gc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function T$(n,e,t,r={}){var i;const a=(n=Jt(n,Ob))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Xv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=li.MOCK_USER;else{u=(0,Kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new li(_)}n._authCredentials=new M2(new yN(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function P$(n){return function v$(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield G1(n),t=yield z1(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i.lu.delete(0),xb(i)}(t)}))}(Nr(n=Jt(n,Wn)))}(this._delegate)}disableNetwork(){return function L$(n){return function b$(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield G1(n),t=yield z1(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=Qe(i);a.lu.add(0),yield Om(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Nr(n=Jt(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Z1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function N$(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function n$(n,e){return Dx.apply(this,arguments)}(yield Wx(e),t)})),t.promise}(Nr(n=Jt(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function gG(n,e){return function C$(n,e){const t=new nD(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Bm(n),i=t,Qe(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Bm(n),i=t,void Qe(r).Tu.delete(i);var r,i}))}}(Nr(n=Jt(n,Wn)),Yx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jm(this,eL(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,sD(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function A$(n,e){if(n=Jt(n,Ob),Zx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new mc(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _G(n,e,t){n=Jt(n,Wn);const r=Object.assign(Object.assign({},sG),t);return function(i){if(i.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function D$(n,e,t){const r=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(a=n,rD(a).then(u=>u.datastore));var a;new _$(n.asyncQueue,i,t,e,r).run()})),r.promise}(Nr(n),i=>e(new mG(n,i)),r)}(this._delegate,t=>e(new xL(this,t)))}batch(){return Nr(this._delegate),new RL(new EL(this._delegate,e=>Um(this._delegate,e)))}loadBundle(e){return function V$(n,e){const t=Nr(n=Jt(n,Wn)),r=new x$;return function I$(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return j1(_,w);if(_ instanceof ArrayBuffer)return j1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new g$(_,u);var _}(t,Mb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function f$(n,e,t){const r=Qe(n);var i;(i=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(P,V){const U=Qe(P),re=ci(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",De=>U.Ds.getBundleMetadata(De,V.id)).then(De=>!!De&&De.createTime.compareTo(re)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(x1(_));const w=new qH(_,a.localStore,u.wt);let I=yield u.fc();for(;I;){const P=yield w.Nu(I);P&&f._updateProgress(P),I=yield u.fc()}const M=yield w.complete();return yield yc(a,M.Mu,void 0),yield function(P,V){const U=Qe(P);return U.persistence.runTransaction("Save bundle","readwrite",re=>U.Ds.saveBundleMetadata(re,V))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Ou)}catch(_){return Xv("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Wx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function B$(n,e){return function S$(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ds.getNamedQuery(a,r))}(yield qx(n),e)}))}(Nr(n=Jt(n,Wn)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class fD extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lb(new gu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class xL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fD(e)}get(e){const t=ip(e);return this._delegate.get(t).then(r=>new Vb(this._firestore,new bc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ip(e);return r?(iR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ip(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ip(e);return this._delegate.delete(t),this}}class RL{constructor(e){this._delegate=e}set(e,t,r){const i=ip(e);return r?(iR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ip(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ip(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Nb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new rp(e,new fD(e),t),i.set(t,a)),a}}rp.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new Bn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new wa(t,new Bn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jm(this.firestore,eL(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Kt.m9)(e))instanceof Bn&&tL(this._delegate,e)}set(e,t){t=iR("DocumentReference.set",t);try{return t?CL(this._delegate,e,t):CL(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?DL(this._delegate,e):DL(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function fG(n){return Um(Jt(n.firestore,Wn),[new Im(n._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=OL(e),r=kL(e,i=>new Vb(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return IL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lG(n){n=Jt(n,Bn);const e=Jt(n.firestore,Wn),t=Nr(e),r=new np(e);return function w$(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield function(_,w){const I=Qe(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,w))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Nm(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield qx(n),e,t);var r})),t.promise}(t,n._key).then(i=>new bc(e,r,n._key,i,new tp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uG(n){n=Jt(n,Bn);const e=Jt(n.firestore,Wn);return q1(Nr(e),n._key,{source:"server"}).then(t=>rR(e,n,t))}(this._delegate):function aG(n){n=Jt(n,Bn);const e=Jt(n.firestore,Wn);return q1(Nr(e),n._key).then(t=>rR(e,n,t))}(this._delegate),t.then(r=>new Vb(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?rp.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function OL(n){for(const e of n)if("object"==typeof e&&!sR(e))return e;return{}}function kL(n,e){var t,r;let i;return i=sR(n[0])?n[0]:sR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Vb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fL(this._delegate,e._delegate)}}class Bb extends Vb{data(e){const t=this._delegate.data(e);return function T2(n,e){n||ot()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fD(e)}where(e,t,r){try{return new xs(this.firestore,Jd(this._delegate,function Y$(n,e,t){const r=e,i=dD("where",n);return new Z$(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Jd(this._delegate,function J$(n,e="asc"){const t=e,r=dD("orderBy",n);return new Q$(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Jd(this._delegate,function X$(n){return J1("limit",n),new gL("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Jd(this._delegate,function eG(n){return J1("limitToLast",n),new gL("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Jd(this._delegate,function tG(...n){return new mL("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Jd(this._delegate,function nG(...n){return new mL("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Jd(this._delegate,function rG(...n){return new _L("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Jd(this._delegate,function iG(...n){return new _L("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return nL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dG(n){n=Jt(n,es);const e=Jt(n.firestore,Wn),t=Nr(e),r=new np(e);return function E$(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield YC(i,a,!0),_=new k1(a,f.ji),w=_.Ku(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=Nm(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield qx(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Qd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function hG(n){n=Jt(n,es);const e=Jt(n.firestore,Wn),t=Nr(e),r=new np(e);return W1(t,n._query,{source:"server"}).then(i=>new Qd(e,r,n,i))}(this._delegate):function cG(n){n=Jt(n,es);const e=Jt(n.firestore,Wn),t=Nr(e),r=new np(e);return pL(n._query),W1(t,n._query).then(i=>new Qd(e,r,n,i))}(this._delegate),t.then(r=>new oR(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=OL(e),r=kL(e,i=>new oR(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return IL(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?rp.getInstance(this.firestore,e):null))}}class AG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bb(this._firestore,r))})}isEqual(e){return fL(this._delegate,e._delegate)}}class jm extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?sD(this._delegate):sD(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function pG(n,e){const t=Jt(n.firestore,Wn),r=sD(n),i=hD(n.converter,e);return Um(t,[lD(Xf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return tL(this._delegate,e._delegate)}withConverter(e){return new jm(this.firestore,this._delegate.withConverter(e?rp.getInstance(this.firestore,e):null))}}function ip(n){return Jt(n,Bn)}class aR{constructor(...e){this._delegate=new vc(...e)}static documentId(){return new aR(Dr.keyField().canonicalString())}isEqual(e){return(e=(0,Kt.m9)(e))instanceof vc&&this._delegate._internalPath.isEqual(e._internalPath)}}class sp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vG(){return new Qx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sp(e)}static delete(){const e=function yG(){return new kb("deleteField")}();return e._methodName="FieldValue.delete",new sp(e)}static arrayUnion(...e){const t=function bG(...n){return new $$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sp(t)}static arrayRemove(...e){const t=function wG(...n){return new G$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sp(t)}static increment(e){const t=function EG(n){return new z$("increment",n)}(e);return t._methodName="FieldValue.increment",new sp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const MG={Firestore:ML,GeoPoint:oD,Timestamp:qn,Blob:Lb,Transaction:xL,WriteBatch:RL,DocumentReference:wa,DocumentSnapshot:Vb,Query:xs,QueryDocumentSnapshot:Bb,QuerySnapshot:oR,CollectionReference:jm,FieldPath:aR,FieldValue:sp,setLogLevel:function TG(n){!function S2(n){Vd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function RG(n){(function xG(n,e){n.INTERNAL.registerComponent(new eC.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},MG)))})(n,(e,t)=>new ML(e,t,new SG)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(_U.Z);var pD=k(5363),OG=k(6063);class kG extends jt.x{constructor(e=1/0,t=1/0,r=OG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var FL=k(3099);function NL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,FL.B)({connector:()=>new kG(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function PL(n,e){return(0,Qr.m)(e)?on(()=>n,e):on(()=>n)}var lR=k(9468);k(5867);const VL=new Map,VG={activated:!1,tokenObservers:[]},BG={initialized:!1,enabled:!1};function fi(n){return VL.get(n)||VG}function bl(n,e){VL.set(n,e)}function mD(){return BG}class GG{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Kt.BH,yield function zG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Rs=new Kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function UL(n){if(!fi(n).activated)throw Rs.create("use-before-activation",{appName:n.name})}function hR(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,we.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const V=yield u.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,f)}catch(V){throw Rs.create("fetch-network-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}if(200!==_.status)throw Rs.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(V){throw Rs.create("fetch-parse-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}const I=w.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const M=1e3*Number(I[1]),P=Date.now();return{token:w.token,expireTimeMillis:P+M,issuedAtTimeMillis:P}}),fR.apply(this,arguments)}function ZG(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ub="firebase-app-check-store";let vD=null;function HL(){return vD||(vD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Rs.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ub,{keyPath:"compositeKey"})}}catch(r){e(Rs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),vD)}function pR(){return pR=(0,we.Z)(function*(n,e){const r=(yield HL()).transaction(Ub,"readwrite"),a=r.objectStore(Ub).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var w;f(Rs.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),pR.apply(this,arguments)}const jb=new Nd.Yd("@firebase/app-check");function qL(n,e){return(0,Kt.hl)()?function XG(n,e){return function $L(n,e){return pR.apply(this,arguments)}(function zL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{jb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function WL(){return mD().enabled}function KL(){return yR.apply(this,arguments)}function yR(){return yR=(0,we.Z)(function*(){const n=mD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),yR.apply(this,arguments)}const sz={error:"UNKNOWN_ERROR"};function oz(n){return Kt.US.encodeString(JSON.stringify(n),!1)}function bD(n){return vR.apply(this,arguments)}function vR(){return vR=(0,we.Z)(function*(n,e=!1){const t=n.app;UL(t);const r=fi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&wD(_)&&(i=_)}if(!e&&i&&wD(i))return{token:i.token};let f,u=!1;if(WL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hR(ZG(t,yield KL()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),u=!0);const _=yield r.exchangeTokenPromise;return yield qL(t,_),bl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?jb.warn(_.message):jb.error(_),a=_}return i?(f={token:i.token},bl(t,Object.assign(Object.assign({},r),{token:i})),yield qL(t,i)):f=lz(a),u&&YL(t,f),f}),vR.apply(this,arguments)}function wR(n,e){const t=fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),bl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ZL(n){const{app:e}=n,t=fi(e);let r=t.tokenRefresher;r||(r=function az(n){const{app:e}=n;return new GG((0,we.Z)(function*(){let r;if(r=fi(e).token?yield bD(n,!0):yield bD(n),r.error)throw r.error}),()=>!0,()=>{const t=fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),bl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function YL(n,e){const t=fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function wD(n){return n.expireTimeMillis-Date.now()>0}function lz(n){return{token:oz(sz),error:n}}class uz{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fi(this.app);for(const t of e)wR(this.app,t.next);return Promise.resolve()}}const iV="app-check-internal";!function Cz(){(0,Mf._registerComponent)(new eC.wA("app-check",n=>function cz(n,e){return new uz(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(iV).initialize()})),(0,Mf._registerComponent)(new eC.wA(iV,n=>function dz(n){return{getToken:e=>bD(n,e),addTokenListener:e=>function bR(n,e,t,r){const{app:i}=n,a=fi(i),u={next:t,error:r,type:e};if(bl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&wD(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),ZL(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>ZL(n))}(n,"INTERNAL",e),removeTokenListener:e=>wR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mf.registerVersion)("@firebase/app-check","0.5.11")}();class IR{constructor(){return(0,Ti.vb)("app-check")}}"undefined"!=typeof window&&window;var Az=k(127);const oV=new d.OlP("angularfire2.auth.use-emulator"),aV=new d.OlP("angularfire2.auth.settings"),lV=new d.OlP("angularfire2.auth.tenant-id"),uV=new d.OlP("angularfire2.auth.langugage-code"),cV=new d.OlP("angularfire2.auth.use-device-language"),dV=new d.OlP("angularfire.auth.persistence"),hV=(n,e,t,r,i,a,u,f)=>(0,yl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,u,f]);let fV=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,M,P,V){const U=new jt.x,re=ze(void 0).pipe((0,pD.Q)(u.outsideAngular),on(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1451)))),(0,nt.U)(()=>(0,yl.on)(t,a,r)),(0,nt.U)(De=>hV(De,a,f,w,I,M,_,P)),NL({bufferSize:1,refCount:!1}));if(Zo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ze(null);else{re.pipe(Wa()).subscribe();const He=re.pipe(on(rt=>rt.getRedirectResult().then(Rt=>Rt,()=>null)),Ti.iC,NL({bufferSize:1,refCount:!1})),tt=re.pipe(on(rt=>new gn.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>rt.onAuthStateChanged(Lt=>Rt.next(Lt),Lt=>Rt.error(Lt),()=>Rt.complete()))})))),st=re.pipe(on(rt=>new gn.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>rt.onIdTokenChanged(Lt=>Rt.next(Lt),Lt=>Rt.error(Lt),()=>Rt.complete()))}))));this.authState=He.pipe(PL(tt),(0,lR.R)(u.outsideAngular),(0,pD.Q)(u.insideAngular)),this.user=He.pipe(PL(st),(0,lR.R)(u.outsideAngular),(0,pD.Q)(u.insideAngular)),this.idToken=this.user.pipe(on(rt=>rt?(0,vn.D)(rt.getIdToken()):ze(null))),this.idTokenResult=this.user.pipe(on(rt=>rt?(0,vn.D)(rt.getIdTokenResult()):ze(null))),this.credential=(0,cc.T)(He,U,this.authState.pipe(_n(rt=>!rt))).pipe((0,nt.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,lR.R)(u.outsideAngular),(0,pD.Q)(u.insideAngular))}return(0,yl.pX)(this,re,a,{spy:{apply:(De,He,tt)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&tt.then(st=>U.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yl.Dh),d.LFG(yl.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ti.HU),d.LFG(oV,8),d.LFG(aV,8),d.LFG(lV,8),d.LFG(uV,8),d.LFG(cV,8),d.LFG(dV,8),d.LFG(IR,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function pV(n,e){return function xz(n,e=pg.z){return new gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function TR(n,e){return pV(n,e).pipe((0,nt.U)(t=>({payload:t,type:"query"})))}function CD(n,e){return TR(n,e).pipe($n(void 0),pA(),(0,nt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(I=>I.doc.ref.isEqual(u.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function gV(n,e,t){return CD(n,t).pipe(Ei((r,i)=>function Oz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return AR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return AR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return AR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),py(),(0,nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function AR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function mV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _V{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe($n(void 0),pA(),_n(([r,i])=>i.length>0||!r),(0,nt.U)(([r,i])=>i),Ti.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ei((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=mV(e);return gV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}valueChanges(e={}){return TR(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ti.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Ti.iC)}add(e){return this.ref.add(e)}doc(e){return new yV(this.ref.doc(e),this.afs)}}class yV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=wV(r,t);return new _V(i,a,this.afs)}snapshotChanges(){return function Rz(n,e){return pV(n,e).pipe($n(void 0),pA(),(0,nt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,vn.D)(this.ref.get(e)).pipe(Ti.iC)}}class Fz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CD(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),_n(t=>t.length>0),Ti.iC):CD(this.query,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ei((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=mV(e);return gV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ti.iC)}valueChanges(e={}){return TR(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ti.iC)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Ti.iC)}}const vV=new d.OlP("angularfire2.enableFirestorePersistence"),bV=new d.OlP("angularfire2.firestore.persistenceSettings"),Nz=new d.OlP("angularfire2.firestore.settings"),Pz=new d.OlP("angularfire2.firestore.use-emulator");function wV(n,e=(t=>t)){return{query:e(n),ref:n}}let EV=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,M,P,V,U,re,De,He,tt){this.schedulers=_;const st=(0,yl.on)(t,f,r),rt=I;M&&hV(st,f,P,U,re,De,V,He),[this.firestore,this.persistenceEnabled$]=(0,yl.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Rt=f.runOutsideAngular(()=>st.firestore());if(a&&Rt.settings(a),rt&&Rt.useEmulator(...rt),i&&!Zo(u)){const Lt=()=>{try{return(0,vn.D)(Rt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(dn){return"undefined"!=typeof console&&console.warn(dn),ze(!1)}};return[Rt,f.runOutsideAngular(Lt)]}return[Rt,ze(!1)]},[a,rt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=wV(i,r),f=this.schedulers.ngZone.run(()=>a);return new _V(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new Fz(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new yV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yl.Dh),d.LFG(yl.xv,8),d.LFG(vV,8),d.LFG(Nz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ti.HU),d.LFG(bV,8),d.LFG(Pz,8),d.LFG(fV,8),d.LFG(oV,8),d.LFG(aV,8),d.LFG(lV,8),d.LFG(uV,8),d.LFG(cV,8),d.LFG(dV,8),d.LFG(IR,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Lz=(()=>{class n{constructor(){Az.Z.registerVersion("angularfire",Ti.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vV,useValue:!0},{provide:bV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[EV]}),n})(),Hb=(()=>{class n{constructor(t){this._client=t}add(t){return(0,vn.D)(this._client.collection("features").add(t)).pipe((0,nt.U)(()=>{}))}getAll(){return this._client.collection("features").valueChanges({idField:"id"})}getOne(t){return this._client.doc("features/"+t).valueChanges({idField:"id"}).pipe(on(r=>r?ze(r):us(new Error("Item does not exist in firebase"))))}set(t){return(0,vn.D)(this._client.doc("features/"+t.id).update(t)).pipe((0,nt.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(EV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const CV=new d.OlP("ADDS_FEATURE_DTO"),DV=new d.OlP("GETS_ALL_FEATURE_DTO"),IV=new d.OlP("GETS_ONE_FEATURE_DTO"),SV=new d.OlP("SETS_FEATURE_DTO");let Vz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Hb,{provide:CV,useExisting:Hb},{provide:DV,useExisting:Hb},{provide:IV,useExisting:Hb},{provide:SV,useExisting:Hb}],imports:[[Lz]]}),n})(),MR=(()=>{class n{constructor(){this._subject=new sr({})}setState(t){return ze(this._subject.next(t)).pipe((0,nt.U)(()=>{}))}select(){return this._subject.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const TV=new d.OlP("SETS_STATE_FEATURE_CONTEXT"),AV=new d.OlP("SELECTS_FEATURE_CONTEXT");let Bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[MR,{provide:TV,useExisting:MR},{provide:AV,useExisting:MR}],imports:[[]]}),n})();const MV=new d.OlP("SETS_STATE_FEATURE_ID_CONTEXT"),xV=new d.OlP("SELECTS_FEATURE_ID_CONTEXT");class Uz{constructor(e){this.selectedId=e}}class jz{constructor(e,t,r,i){this.id=e,this.title=t,this.type=r,this.description=i}}class Hz{constructor(e,t,r,i){this.title=e,this.description=t,this.type=r,this.id=i}}class $z{constructor(e){this.items=e}}let eh=(()=>{class n{constructor(t,r,i,a,u,f,_,w){this._addsFeatureDto=t,this._selectsFeatureContext=r,this._setsStateFeatureContext=i,this._getsAllFeatureDto=a,this._setsFeatureDto=u,this._setsStateFeatureIdContext=f,this._selectsFeatureIdContext=_,this._getsOneFeatureDto=w}loadFeatures(t){return this._getsAllFeatureDto.getAll().pipe(or(1),on(r=>this._setsStateFeatureContext.setState({all:r})))}createFeature(t){return Ha([this._addsFeatureDto.add({title:t.title,description:t.description,type:t.type,status:"pending",creator:"test creator id"}),this._selectsFeatureContext.select().pipe(or(1))]).pipe((0,nt.U)(([r,i])=>Object.assign(Object.assign({},i),{all:[...i.all,r]})),on(r=>this._setsStateFeatureContext.setState(r)))}getCurrentFeatureListQuery(){return this._selectsFeatureContext.select().pipe((0,nt.U)(t=>(n=>new $z((n.all||[]).map(e=>new Hz(e.title,e.description,e.type,e.id))))(t)))}editFeature(t){return this._setsFeatureDto.set({id:t.id,title:t.title,description:t.description,type:t.type})}setFeatureId(t){return this._setsStateFeatureIdContext.setFeatureId(t.selectedFeatureId)}getCurrentSelectedFeatureIdQuery(){return this._selectsFeatureIdContext.select().pipe((0,nt.U)(t=>new Uz(t.selectedFeatureId||"")))}getCurrentSelectedFeatureEditionQuery(t){return this._getsOneFeatureDto.getOne(t).pipe((0,nt.U)(r=>new jz(r.id,r.title,r.type,r.description)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(CV),d.LFG(AV),d.LFG(TV),d.LFG(DV),d.LFG(SV),d.LFG(MV),d.LFG(xV),d.LFG(IV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const RV=new d.OlP("CREATE_FEATURE_COMMAND"),OV=new d.OlP("LOAD_FEATURES_COMMAND"),kV=new d.OlP("GETS_CURRENT_FEATURE_LIST_QUERY"),FV=new d.OlP("EDIT_FEATURE_COMMAND"),NV=new d.OlP("SET_FEATURE_ID_COMMAND"),PV=new d.OlP("GETS_CURRENT_SELECTED_FEATURE_ID_QUERY"),LV=new d.OlP("GETS_CURRENT_SELECTED_FEATURE_EDITION_QUERY");let zz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[eh,{provide:RV,useExisting:eh},{provide:OV,useExisting:eh},{provide:kV,useExisting:eh},{provide:FV,useExisting:eh},{provide:NV,useExisting:eh},{provide:PV,useExisting:eh},{provide:LV,useExisting:eh}],imports:[[]]}),n})();class qz{}let VV=(()=>{class n{constructor(t){this._loadFeaturesCommand=t}resolve(t,r){return this._loadFeaturesCommand.loadFeatures(new qz)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(OV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[VV],imports:[[]]}),n})(),Kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[_i,Fv,da]]}),n})(),Zz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[_i,lu,Yk,fA,Fv,da,ny]]}),n})(),BV=(()=>{class n{constructor(t){this._setFeatureIdCommand=t}resolve(t,r){return this._setFeatureIdCommand.setFeatureId({selectedFeatureId:t.params.featureId})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(NV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Yz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[BV],imports:[[]]}),n})(),xR=(()=>{class n{constructor(){this._subject=new sr({})}setFeatureId(t){return ze(this._subject.next({selectedFeatureId:t})).pipe((0,nt.U)(()=>{}))}select(){return this._subject.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Qz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[xR,{provide:MV,useExisting:xR},{provide:xV,useExisting:xR}],imports:[[]]}),n})();function Jz(n,e){if(1&n&&(d.TgZ(0,"li",3)(1,"div",4)(2,"div",5)(3,"p",6),d._uU(4),d.qZA(),d.TgZ(5,"a",7),d._uU(6,"EDIT"),d.qZA()(),d.TgZ(7,"p",8),d._uU(8),d.qZA()(),d.TgZ(9,"p"),d._uU(10),d.qZA()()),2&n){const t=e.$implicit;d.xp6(4),d.Oqu(t.title),d.xp6(1),d.Q6J("routerLink","/edit-feature/"+t.id),d.xp6(3),d.Oqu(t.type),d.xp6(2),d.Oqu(t.description)}}function Xz(n,e){if(1&n&&(d.TgZ(0,"ul",1),d.YNc(1,Jz,11,4,"li",2),d.qZA()),2&n){const t=e.ngIf;d.xp6(1),d.Q6J("ngForOf",t.items)}}let e3=(()=>{class n{constructor(t){this._getsCurrentFeatureListQuery=t,this.featureListQuery$=this._getsCurrentFeatureListQuery.getCurrentFeatureListQuery()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["lib-feature-list"]],decls:2,vars:3,consts:[["class","my-10",4,"ngIf"],[1,"my-10"],["class","flex flex-col bg-indigo-50 w-[50rem] p-5 rounded-md my-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-indigo-50","w-[50rem]","p-5","rounded-md","my-3"],[1,"flex","justify-between"],[1,"flex","justify-between","w-10/12"],[1,"text-lg","font-semibold"],["mat-raised-button","",1,"text-lg",3,"routerLink"],[1,"text-pink-500","font-medium"]],template:function(t,r){1&t&&(d.YNc(0,Xz,2,1,"ul",0),d.ALo(1,"async")),2&t&&d.Q6J("ngIf",d.lcZ(1,1,r.featureListQuery$))},directives:[Vn,Zn,tF,ol],pipes:[Ac],encapsulation:2,changeDetection:0}),n})(),t3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home-page"]],decls:4,vars:0,consts:[[1,"flex","flex-col","justify-center","items-center","h-full"],["mat-raised-button","","routerLink","new-feature","color","primary",1,"text-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"a",1),d._uU(2,"+ NEW FEATURE"),d.qZA(),d._UZ(3,"lib-feature-list"),d.qZA())},directives:[tF,ol,e3],encapsulation:2,changeDetection:0}),n})();class n3{constructor(e,t,r){this.title=e,this.description=t,this.type=r}}let r3=(()=>{class n{constructor(t,r){this._createFeatureCommand=t,this.router=r,this.newFeatureForm=new hd({title:new ko("",xo.required),description:new ko("",xo.required),type:new ko("",xo.required)})}onNewFeatureFormSubmited(t){var r,i,a;t.invalid||this._createFeatureCommand.createFeature(new n3(null===(r=t.get("title"))||void 0===r?void 0:r.value,null===(i=t.get("description"))||void 0===i?void 0:i.value,null===(a=t.get("type"))||void 0===a?void 0:a.value)).pipe(or(1)).subscribe(()=>{this.newFeatureForm.reset(),this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(RV),d.Y36(cr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["lib-create-feature"]],decls:23,vars:1,consts:[[1,"flex"],[1,"mx-auto","mb-5","text-white","text-2xl"],[1,"flex","flex-col","items-center",3,"formGroup","ngSubmit"],[1,"flex","flex-col","items-center","bg-indigo-50","w-fit","p-10","rounded-md","mb-5"],[1,"w-96"],["matInput","","formControlName","title"],["formControlName","type"],["value","bug"],["value","feature"],["matInput","","formControlName","description"],["type","submit","mat-raised-button","","color","primary",1,"w-min","my-5","text-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"p",1),d._uU(2,"Create feature"),d.qZA()(),d.TgZ(3,"form",2),d.NdJ("ngSubmit",function(){return r.onNewFeatureFormSubmited(r.newFeatureForm)}),d.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),d._uU(7,"Title"),d.qZA(),d._UZ(8,"input",5),d.qZA(),d.TgZ(9,"mat-form-field",4)(10,"mat-label"),d._uU(11,"Type"),d.qZA(),d.TgZ(12,"mat-select",6)(13,"mat-option",7),d._uU(14,"Bug"),d.qZA(),d.TgZ(15,"mat-option",8),d._uU(16,"Feature"),d.qZA()()(),d.TgZ(17,"mat-form-field",4)(18,"mat-label"),d._uU(19,"Description"),d.qZA(),d._UZ(20,"textarea",9),d.qZA()(),d.TgZ(21,"button",10),d._uU(22," SUBMIT "),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("formGroup",r.newFeatureForm))},directives:[lg,eg,tu,nm,tm,hA,ud,Xp,gd,Zk,x0,X0],encapsulation:2,changeDetection:0}),n})(),i3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-new-feature-page"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","h-full","w-full"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"lib-create-feature"),d.qZA())},directives:[r3],encapsulation:2,changeDetection:0}),n})();class s3{constructor(e,t,r,i){this.id=e,this.title=t,this.type=r,this.description=i}}function o3(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"form",3),d.NdJ("ngSubmit",function(){const a=d.CHM(t).ngIf;return d.oxw().onEditFeatureFormSubmited(a)}),d.TgZ(1,"div",4)(2,"mat-form-field",5)(3,"mat-label"),d._uU(4,"Title"),d.qZA(),d._UZ(5,"input",6),d.qZA(),d.TgZ(6,"mat-form-field",5)(7,"mat-label"),d._uU(8,"Type"),d.qZA(),d.TgZ(9,"mat-select",7)(10,"mat-option",8),d._uU(11,"Bug"),d.qZA(),d.TgZ(12,"mat-option",9),d._uU(13,"Feature"),d.qZA()()(),d.TgZ(14,"mat-form-field",5)(15,"mat-label"),d._uU(16,"Description"),d.qZA(),d._UZ(17,"textarea",10),d.qZA()(),d.TgZ(18,"button",11),d._uU(19," SUBMIT "),d.qZA()()}2&n&&d.Q6J("formGroup",e.ngIf)}let a3=(()=>{class n{constructor(t,r,i,a){this._editFeatureCommand=t,this._getsCurrentSelectedFeatureIdQuery=r,this._getsCurrentSelectedFeatureEditionQuery=i,this.router=a,this.editFeatureForm$=this._getsCurrentSelectedFeatureIdQuery.getCurrentSelectedFeatureIdQuery().pipe(on(u=>this._getsCurrentSelectedFeatureEditionQuery.getCurrentSelectedFeatureEditionQuery(u.selectedId)),(0,nt.U)(u=>new hd({title:new ko(u.title,xo.required),type:new ko(u.type,xo.required),description:new ko(u.description,xo.required),id:new ko(u.id)})))}onEditFeatureFormSubmited(t){var r,i,a,u;t.invalid||this._editFeatureCommand.editFeature(new s3(null===(r=t.get("id"))||void 0===r?void 0:r.value,null===(i=t.get("title"))||void 0===i?void 0:i.value,null===(a=t.get("type"))||void 0===a?void 0:a.value,null===(u=t.get("description"))||void 0===u?void 0:u.value)).pipe(or(1)).subscribe(()=>this.router.navigate(["/"]).then(()=>{window.location.reload()}))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(FV),d.Y36(PV),d.Y36(LV),d.Y36(cr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["lib-edit-feature"]],decls:5,vars:3,consts:[[1,"flex"],[1,"mx-auto","mb-5","text-white","text-2xl"],["class","flex flex-col items-center",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","flex-col","items-center",3,"formGroup","ngSubmit"],[1,"flex","flex-col","items-center","bg-indigo-50","w-fit","p-10","rounded-md","mb-5"],[1,"w-96"],["matInput","","formControlName","title"],["formControlName","type"],["value","bug"],["value","feature"],["matInput","","formControlName","description"],["type","submit","mat-raised-button","","color","primary",1,"w-min","my-5","text-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"p",1),d._uU(2,"Edit feature"),d.qZA()(),d.YNc(3,o3,20,1,"form",2),d.ALo(4,"async")),2&t&&(d.xp6(3),d.Q6J("ngIf",d.lcZ(4,1,r.editFeatureForm$)))},directives:[Vn,lg,eg,tu,nm,tm,hA,ud,Xp,gd,Zk,x0,X0],pipes:[Ac],encapsulation:2,changeDetection:0}),n})(),l3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-edit-feature-page"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","h-full","w-full"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"lib-edit-feature"),d.qZA())},directives:[a3],encapsulation:2,changeDetection:0}),n})();class UV{}class jV{}class wc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class u3{encodeKey(e){return HV(e)}encodeValue(e){return HV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const d3=/%(\d[a-f0-9])/gi,h3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function HV(n){return encodeURIComponent(n).replace(d3,(e,t)=>{var r;return null!==(r=h3[t])&&void 0!==r?r:e})}function $V(n){return`${n}`}class th{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new u3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function c3(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[u,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new th({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($V(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($V(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class f3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function qV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class $b{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function p3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new wc),this.context||(this.context=new f3),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new th,this.urlWithParams=t}serializeBody(){return null===this.body?null:GV(this.body)||zV(this.body)||qV(this.body)||function g3(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof th?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qV(this.body)?null:zV(this.body)?this.body.type||null:GV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof th?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,I=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((P,V)=>P.set(V,e.setHeaders[V]),w)),e.setParams&&(I=Object.keys(e.setParams).reduce((P,V)=>P.set(V,e.setParams[V]),I)),new $b(r,i,u,{params:I,headers:w,context:M,reportProgress:_,responseType:a,withCredentials:f})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class RR{constructor(e,t=200,r="OK"){this.headers=e.headers||new wc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class OR extends RR{constructor(e={}){super(e),this.type=Pr.ResponseHeader}clone(e={}){return new OR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class DD extends RR{constructor(e={}){super(e),this.type=Pr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new DD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WV extends RR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ID=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof $b)a=t;else{let _,w;_=i.headers instanceof wc?i.headers:new wc(i.headers),i.params&&(w=i.params instanceof th?i.params:new th({fromObject:i.params})),a=new $b(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=ze(a).pipe(qa(_=>this.handler.handle(_)));if(t instanceof $b||"events"===i.observe)return u;const f=u.pipe(_n(_=>_ instanceof DD));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,nt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,nt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,nt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,nt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new th).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kR(i,r))}post(t,r,i={}){return this.request("POST",t,kR(i,r))}put(t,r,i={}){return this.request("PUT",t,kR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(UV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class KV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const ZV=new d.OlP("HTTP_INTERCEPTORS");let m3=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const _3=/^\)\]\}',?\n/;let YV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,U)=>i.setRequestHeader(V,U.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const V=i.statusText||"OK",U=new wc(i.getAllResponseHeaders()),re=function y3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new OR({headers:U,status:i.status,statusText:V,url:re}),u},_=()=>{let{headers:V,status:U,statusText:re,url:De}=f(),He=null;204!==U&&(He=void 0===i.response?i.responseText:i.response),0===U&&(U=He?200:0);let tt=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof He){const st=He;He=He.replace(_3,"");try{He=""!==He?JSON.parse(He):null}catch(rt){He=st,tt&&(tt=!1,He={error:rt,text:He})}}tt?(r.next(new DD({body:He,headers:V,status:U,statusText:re,url:De||void 0})),r.complete()):r.error(new WV({error:He,headers:V,status:U,statusText:re,url:De||void 0}))},w=V=>{const{url:U}=f(),re=new WV({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:U||void 0});r.error(re)};let I=!1;const M=V=>{I||(r.next(f()),I=!0);let U={type:Pr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===t.responseType&&!!i.responseText&&(U.partialText=i.responseText),r.next(U)},P=V=>{let U={type:Pr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),r.next(U)};return i.addEventListener("load",_),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",M),null!==a&&i.upload&&i.upload.addEventListener("progress",P)),i.send(a),r.next({type:Pr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",_),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",M),null!==a&&i.upload&&i.upload.removeEventListener("progress",P)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const FR=new d.OlP("XSRF_COOKIE_NAME"),NR=new d.OlP("XSRF_HEADER_NAME");class QV{}let v3=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ne),d.LFG(d.Lbi),d.LFG(FR))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),PR=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(QV),d.LFG(NR))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),b3=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(ZV,[]);this.chain=r.reduceRight((i,a)=>new KV(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(jV),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),w3=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:PR,useClass:m3}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:FR,useValue:t.cookieName}:[],t.headerName?{provide:NR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[PR,{provide:ZV,useExisting:PR,multi:!0},{provide:QV,useClass:v3},{provide:FR,useValue:"XSRF-TOKEN"},{provide:NR,useValue:"X-XSRF-TOKEN"}]}),n})(),E3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ID,{provide:UV,useClass:b3},YV,{provide:jV,useExisting:YV}],imports:[[w3.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const C3=["*"];let SD;function Gb(n){var e;return(null===(e=function D3(){if(void 0===SD&&(SD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(SD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return SD}())||void 0===e?void 0:e.createHTML(n))||n}function JV(n){return Error(`Unable to find icon with the name "${n}"`)}function XV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function eB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class op{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let TD=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new op(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const u=this._sanitizer.sanitize(d.q3G.HTML,i);if(!u)throw eB(i);const f=Gb(u);return this._addSvgIconConfig(t,r,new op("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new op(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(d.q3G.HTML,r);if(!a)throw eB(r);const u=Gb(a);return this._addSvgIconSetConfig(t,new op("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!r)throw XV(t);const i=this._cachedIconsByUrl.get(r);return i?ze(AD(i)):this._loadSvgIconFromConfig(new op(t,null)).pipe((0,lr.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,nt.U)(a=>AD(a)))}getNamedSvgIcon(t,r=""){const i=tB(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):us(JV(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ze(AD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,nt.U)(r=>AD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?ze(i):sw(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ar(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),ze(null)})))).pipe((0,nt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw JV(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,lr.b)(r=>t.svgText=r),(0,nt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ze(null):this._fetchIcon(t).pipe((0,lr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const f=this._svgElementFromString(Gb("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Gb("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:u,value:f}=i[a];"id"!==u&&r.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:a}=t,u=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function I3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const f=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!f)throw XV(i);const _=this._inProgressUrlFetches.get(f);if(_)return _;const w=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,nt.U)(I=>Gb(I)),hh(()=>this._inProgressUrlFetches.delete(f)),(0,FL.B)());return this._inProgressUrlFetches.set(f,w),w}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(tB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return T3(a)?new op(a.url,null,a.options):new op(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ID,8),d.LFG(po),d.LFG(ne,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AD(n){return n.cloneNode(!0)}function tB(n,e){return n+":"+e}function T3(n){return!(!n.url||!n.options)}const A3=sv(class{constructor(n){this._elementRef=n}}),M3=new d.OlP("mat-icon-location",{providedIn:"root",factory:function x3(){const n=(0,d.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],R3=nB.map(n=>`[${n}]`).join(", "),O3=/^url\(['"]?#(.*?)['"]?\)$/;let k3=(()=>{class n extends A3{constructor(t,r,i,a,u){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Jn.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Rr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(R3),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)nB.forEach(u=>{const f=r[a],_=f.getAttribute(u),w=_?_.match(O3):null;if(w){let I=i.get(f);I||(I=[],i.set(f,I)),I.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(or(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(TD),d.$8M("aria-hidden"),d.Y36(M3),d.Y36(d.qLn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:C3,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Cs],Cs]}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[_i,lu,fA,Fv,ny,da,F3]]}),n})(),rB=(()=>{class n{constructor(t){this._client=t}add(t){return this._client.post("https://us-central1-lowgular-extension.cloudfunctions.net/auth/login",{data:t}).pipe((0,nt.U)(r=>r.data))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ID))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const iB=new d.OlP("ADDS_CREDENTIALS_DTO");let P3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rB,{provide:iB,useExisting:rB}],imports:[[]]}),n})(),MD=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){return 0===localStorage.length?(this.router.navigate(["/login"]),ze(!1)):ze(!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),L3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[MD],imports:[[]]}),n})();const V3=new d.OlP("SELECTS_CURRENT_USER_CONTEXT"),sB=new d.OlP("SETS_STATE_CURRENT_USER_CONTEXT");let B3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[_i,Fv,da.forChild([{path:"",canActivate:[MD],resolve:[VV],component:t3},{path:"new-feature",canActivate:[MD],component:i3},{path:"edit-feature/:featureId",canActivate:[MD],resolve:[BV],component:l3}]),mU,Wz,zz,Vz,Bz,Kz,Qz,Zz,Yz,L3]]}),n})(),U3=(()=>{class n{constructor(t,r,i){this._addsCredentialsDto=t,this._setsStateCurrentUserContext=r,this._router=i,this.login=new hd({email:new ko("",xo.required),licenceKey:new ko("",xo.required)}),this.hide=!0}onLoginSubmited(t){var r,i;this._addsCredentialsDto.add({email:null===(r=t.get("email"))||void 0===r?void 0:r.value,password:null===(i=t.get("licenceKey"))||void 0===i?void 0:i.value}).pipe((0,lr.b)(a=>localStorage.setItem("accessToken",a.accessToken)),on(a=>this._setsStateCurrentUserContext.setState({id:a.id}))).subscribe(()=>{this._router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(iB),d.Y36(sB),d.Y36(cr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["lib-login"]],decls:14,vars:3,consts:[[1,"flex","flex-col","items-center",3,"formGroup","ngSubmit"],[1,"flex","flex-col","items-center","bg-indigo-50","w-fit","p-10","rounded-md","mb-5"],[1,"w-96"],["matInput","","formControlName","email"],["matInput","","formControlName","licenceKey",3,"type"],["matSuffix","",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"w-min","my-5","text-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return r.onLoginSubmited(r.login)}),d.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),d._uU(4,"E-mail"),d.qZA(),d._UZ(5,"input",3),d.qZA(),d.TgZ(6,"mat-form-field",2)(7,"mat-label"),d._uU(8,"Licence Key"),d.qZA(),d._UZ(9,"input",4),d.TgZ(10,"mat-icon",5),d.NdJ("click",function(){return r.hide=!r.hide}),d._uU(11),d.qZA()()(),d.TgZ(12,"button",6),d._uU(13," LOG IN "),d.qZA()()),2&t&&(d.Q6J("formGroup",r.login),d.xp6(9),d.Q6J("type",r.hide?"password":"text"),d.xp6(2),d.Oqu(r.hide?"visibility_off":"visibility"))},directives:[lg,eg,tu,nm,tm,hA,ud,Xp,gd,k3,B0,X0],encapsulation:2,changeDetection:0}),n})(),j3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login-page"]],decls:5,vars:0,consts:[[1,"flex","flex-col","justify-center","items-center","h-full","w-full"],[1,"flex"],[1,"mx-auto","mb-5","text-white","text-2xl"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"p",2),d._uU(3,"Please log in:"),d.qZA()(),d._UZ(4,"lib-login"),d.qZA())},directives:[U3],encapsulation:2,changeDetection:0}),n})(),LR=(()=>{class n{constructor(){this._subject=new sr({})}setState(t){return ze(this._subject.next(t)).pipe((0,nt.U)(()=>{}))}select(){return this._subject.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[LR,{provide:sB,useExisting:LR},{provide:V3,useExisting:LR}],imports:[[]]}),n})(),$3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[_i,da.forChild([{path:"",component:j3}]),N3,P3,E3,H3]]}),n})();const G3=[{path:"",loadChildren:()=>B3},{path:"login",loadChildren:()=>$3}];let z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[da.forRoot(G3)],da]}),n})(),q3=(()=>{class n{constructor(){this.title="features"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"bg-indigo-900","h-full"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"router-outlet"),d.qZA())},directives:[zu],styles:[""]}),n})();const oB_firebase={projectId:"lowgular-features",appId:"1:948846251352:web:c96e65891063c9d219692d",databaseURL:"https://lowgular-features-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"lowgular-features.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAAUYz0ORKU-mg0fwUnjBiqHqHh7sfw2ww",authDomain:"lowgular-features.firebaseapp.com",messagingSenderId:"948846251352"};let W3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[q3]}),n.\u0275inj=d.cJS({providers:[],imports:[[ea,z3,yl.hO.initializeApp(oB_firebase),ST]]}),n})();(0,d.G48)(),xl().bootstrapModule(W3).catch(n=>console.error(n))},5867:(et,ve,k)=>{k.d(ve,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=k(9681);(0,d.registerVersion)("firebase","9.9.0","app")},127:(et,ve,k)=>{k.d(ve,{Z:()=>d.Z});var d=k(3942);d.Z.registerVersion("firebase","9.9.0","app-compat")},1451:(et,ve,k)=>{k.r(ve);var d=k(5861),X=k(3942),F=k(2090),de=k(9681),oe=k(655),pe=k(1877),ne=k(4859);const Oe=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new pe.Yd("@firebase/auth");function Je(y,...p){qe.logLevel<=pe.in.ERROR&&qe.error(`Auth (${de.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw Ue(y,...p)}function _e(y,...p){return Ue(y,...p)}function Ee(y,p,m){const b=Object.assign(Object.assign({},Be()),{[p]:m});return new F.LL("auth","Firebase",b).create(p,{appName:y.name})}function Le(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(y,"argument-error"),Ee(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return he.create(y,...p)}function K(y,p,...m){if(!y)throw Ue(p,...m)}function be(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Je(p),new Error(p)}function Y(y,p){y||be(p)}const ie=new Map;function ee(y){Y(y instanceof Function,"Expected a class definition");let p=ie.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ie.set(y,p),p)}function ke(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===zt()||"https:"===zt()}function zt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xt{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Vt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ln{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ir=new Xt(3e4,6e4);function Zt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Nt(y,p,m,b){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(y,p,m,b,T={}){return zr(y,T,(0,d.Z)(function*(){let O={},Z={};b&&("GET"===p?Z=b:O={body:JSON.stringify(b)});const ce=(0,F.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),ln.fetch()(Fs(y,y.config.apiHost,m,ce),Object.assign({method:p,headers:Ne,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function zr(y,p,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Yt),p);try{const T=new Vr(y),O=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw Ni(y,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ce=O.ok?Z.errorMessage:Z.error.message,[Ne,Ze]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Ni(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ne)throw Ni(y,"email-already-in-use",Z);if("USER_DISABLED"===Ne)throw Ni(y,"user-disabled",Z);const bt=b[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw Ee(y,bt,Ze);Ae(y,bt)}}catch(T){if(T instanceof F.ZR)throw T;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Lr(y,p,m,b){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(y,p,m,b,T={}){const O=yield Nt(y,p,m,b,T);return"mfaPendingCredential"in O&&Ae(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Fs(y,p,m,b){const T=`${p}${m}?${b}`;return y.config.emulator?Mn(y.config,T):`${y.config.apiScheme}://${T}`}class Vr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),Ir.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ni(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=_e(y,p,b);return T.customData._tokenResponse=m,T}function Br(){return(Br=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function xn(y,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pi(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Rn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ho(){return(Ho=(0,d.Z)(function*(y,p=!1){const m=(0,F.m9)(y),b=yield m.getIdToken(p),T=at(b);K(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:T,token:b,authTime:Rn(qt(T.auth_time)),issuedAtTime:Rn(qt(T.iat)),expirationTime:Rn(qt(T.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function qt(y){return 1e3*Number(y)}function at(y){var p;const[m,b,T]=y.split(".");if(void 0===m||void 0===b||void 0===T)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,F.tV)(b);return O?JSON.parse(O):(Je("Failed to decode base64 JWT payload"),null)}catch(O){return Je("Caught error parsing JWT payload as JSON",null===(p=O)||void 0===p?void 0:p.toString()),null}}function gr(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof F.ZR&&Bt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Bt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ns{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class mr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sr(y){return pt.apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),T=yield gr(y,Pi(m,{idToken:b}));K(null==T?void 0:T.users.length,m,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const Z=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?B(O.providerUserInfo):[],ce=q(y.providerData,Z),bt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ce?void 0:ce.length)),gt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ce,metadata:new mr(O.createdAt,O.lastLoginAt),isAnonymous:bt};Object.assign(y,gt)})).apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(y){const p=(0,F.m9)(y);yield Sr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function q(y,p){return[...y.filter(b=>!p.some(T=>T.providerId===b.providerId)),...p]}function B(y){return y.map(p=>{var{providerId:m}=p,b=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function W(){return(W=(0,d.Z)(function*(y,p){const m=yield zr(y,{},(0,d.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,Z=Fs(y,T,"/v1/token",`key=${O}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(Z,{method:"POST",headers:ce,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){K(p.idToken,"internal-error"),K(void 0!==p.idToken,"internal-error"),K(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Et(y){const p=at(y);return K(p,"internal-error"),K(void 0!==p.exp,"internal-error"),K(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,d.Z)(function*(){return K(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:Z}=yield function H(y,p){return W.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(T,O,Number(Z))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:T,expirationTime:O}=m,Z=new xe;return b&&(K("string"==typeof b,"internal-error",{appName:p}),Z.refreshToken=b),T&&(K("string"==typeof T,"internal-error",{appName:p}),Z.accessToken=T),O&&(K("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return be("not implemented")}}function Ve(y,p){K("string"==typeof y||void 0===y,"internal-error",{appName:p})}class dt{constructor(p){var{uid:m,auth:b,stsTokenManager:T}=p,O=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new mr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const b=yield gr(m,m.stsTokenManager.getToken(m.auth,p));return K(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function gi(y){return Ho.apply(this,arguments)}(this,p)}reload(){return function Ps(y){return j.apply(this,arguments)}(this)}_assign(p){this!==p&&(K(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new dt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,d.Z)(function*(){let T=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield Sr(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield gr(p,function vt(y,p){return Br.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,T,O,Z,ce,Ne,Ze,bt;const gt=null!==(b=m.displayName)&&void 0!==b?b:void 0,An=null!==(T=m.email)&&void 0!==T?T:void 0,ii=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Ku=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,a_=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,ca=null!==(Ne=m._redirectEventId)&&void 0!==Ne?Ne:void 0,sd=null!==(Ze=m.createdAt)&&void 0!==Ze?Ze:void 0,od=null!==(bt=m.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:Oh,emailVerified:ad,isAnonymous:cr,providerData:kh,stsTokenManager:Fh}=m;K(Oh&&Fh,p,"internal-error");const Nh=xe.fromJSON(this.name,Fh);K("string"==typeof Oh,p,"internal-error"),Ve(gt,p.name),Ve(An,p.name),K("boolean"==typeof ad,p,"internal-error"),K("boolean"==typeof cr,p,"internal-error"),Ve(ii,p.name),Ve(Ku,p.name),Ve(a_,p.name),Ve(ca,p.name),Ve(sd,p.name),Ve(od,p.name);const ol=new dt({uid:Oh,auth:p,email:An,emailVerified:ad,displayName:gt,isAnonymous:cr,photoURL:Ku,phoneNumber:ii,tenantId:a_,stsTokenManager:Nh,createdAt:sd,lastLoginAt:od});return kh&&Array.isArray(kh)&&(ol.providerData=kh.map(Ql=>Object.assign({},Ql))),ca&&(ol._redirectEventId=ca),ol}static _fromIdTokenResponse(p,m,b=!1){return(0,d.Z)(function*(){const T=new xe;T.updateFromServerResponse(m);const O=new dt({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:b});return yield Sr(O),O})()}}const Wt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,d.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Kn(y,p,m){return`firebase:${y}:${p}:${m}`}class Ot{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:T,name:O}=this.auth;this.fullUserKey=Kn(this.userKey,T.apiKey,O),this.fullPersistenceKey=Kn("persistence",T.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?dt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new Ot(ee(Wt),p,b);const T=(yield Promise.all(m.map(function(){var Ze=(0,d.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let O=T[0]||ee(Wt);const Z=Kn(b,p.config.apiKey,p.name);let ce=null;for(const Ze of m)try{const bt=yield Ze._get(Z);if(bt){const gt=dt._fromJSON(p,bt);Ze!==O&&(ce=gt),O=Ze;break}}catch(bt){}const Ne=T.filter(Ze=>Ze._shouldAllowMigration);return O._shouldAllowMigration&&Ne.length?(O=Ne[0],ce&&(yield O._set(Z,ce.toJSON())),yield Promise.all(m.map(function(){var Ze=(0,d.Z)(function*(bt){if(bt!==O)try{yield bt._remove(Z)}catch(gt){}});return function(bt){return Ze.apply(this,arguments)}}())),new Ot(O,p,b)):new Ot(O,p,b)})()}}function Wr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(jn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Li(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(rs(p))return"Blackberry";if(Hn(p))return"Webos";if($o(p))return"Safari";if((p.includes("chrome/")||Ea(p))&&!p.includes("edge/"))return"Chrome";if(Tr(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Li(y=(0,F.z$)()){return/firefox\//i.test(y)}function $o(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ea(y=(0,F.z$)()){return/crios\//i.test(y)}function jn(y=(0,F.z$)()){return/iemobile/i.test(y)}function Tr(y=(0,F.z$)()){return/android/i.test(y)}function rs(y=(0,F.z$)()){return/blackberry/i.test(y)}function Hn(y=(0,F.z$)()){return/webos/i.test(y)}function Ur(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ls(y=(0,F.z$)()){return Ur(y)||Tr(y)||Hn(y)||rs(y)||/windows phone/i.test(y)||jn(y)}function Go(y,p=[]){let m;switch(y){case"Browser":m=Wr((0,F.z$)());break;case"Worker":m=`${Wr((0,F.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${b}`}class jr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=O=>new Promise((Z,ce)=>{try{Z(p(O))}catch(Ne){ce(Ne)}});b.onAbort=m,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){var b;if(m.auth.currentUser===p)return;const T=[];try{for(const O of m.queue)yield O(p),O.onAbort&&T.push(O.onAbort)}catch(O){T.reverse();for(const Z of T)try{Z()}catch(ce){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=O)||void 0===b?void 0:b.message})}})()}}class We{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rn(this),this.idTokenSubscription=new rn(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,O;if(!b._deleted&&(b.persistenceManager=yield Ot.create(b,p),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Z){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var b;const T=yield m.assertedPersistence.getCurrentUser();let O=T,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ne=null==O?void 0:O._redirectEventId,Ze=yield m.tryRedirectSignIn(p);(!ce||ce===Ne)&&(null==Ze?void 0:Ze.user)&&(O=Ze.user,Z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ce){O=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(T){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){var b;try{yield Sr(p)}catch(T){if("auth/network-request-failed"!==(null===(b=T)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const b=p?(0,F.m9)(p):null;return b&&K(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&K(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,d.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&ee(p)||m._popupRedirectResolver;K(b,m,"argument-error"),m.redirectPersistenceManager=yield Ot.create(m,[ee(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,T){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return K(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,b,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function ht(y){return(0,F.m9)(y)}class rn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Bi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class mi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(p){return be("not implemented")}_linkToIdToken(p,m){return be("not implemented")}_getReauthenticationResolver(p){return be("not implemented")}}function On(y,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:resetPassword",Zt(y,p))})).apply(this,arguments)}function zo(y,p){return is.apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wl(y,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",Zt(y,p))})).apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithPassword",Zt(y,p))})).apply(this,arguments)}function Bs(y,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendOobCode",Zt(y,p))})).apply(this,arguments)}function un(y,p){return El.apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function Da(y,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function Kr(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function Ic(y,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function _u(){return(_u=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,p))})).apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,p))})).apply(this,arguments)}class yr extends mi{constructor(p,m,b,T=null){super("password",b),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new yr(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new yr(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function Zn(y,p){return oo.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ji(y,p){return _u.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return zo(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cp(y,p){return Sc.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Us(y,p){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithIdp",Zt(y,p))})).apply(this,arguments)}class ss extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ss(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T}=m,O=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!T)return null;const Z=new ss(b,T);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return Us(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Us(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Us(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Ac(y,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendVerificationCode",Zt(y,p))})).apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,p))})).apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(y,p){const m=yield Lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,p));if(m.temporaryProof)throw Ni(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const fp={USER_NOT_FOUND:"user-not-found"};function Rc(){return(Rc=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),fp)})).apply(this,arguments)}class qo extends mi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new qo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new qo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function yu(y,p){return js.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function hp(y,p){return xc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function pp(y,p){return Rc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:O}=p;return b||m||T||O?new qo({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:O}):null}}class Cl{constructor(p){var m,b,T,O,Z,ce;const Ne=(0,F.zd)((0,F.pd)(p)),Ze=null!==(m=Ne.apiKey)&&void 0!==m?m:null,bt=null!==(b=Ne.oobCode)&&void 0!==b?b:null,gt=function ih(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);K(Ze&&bt&&gt,"argument-error"),this.apiKey=Ze,this.operation=gt,this.code=bt,this.continueUrl=null!==(O=Ne.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Ne.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ce=Ne.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const m=function Sa(y){const p=(0,F.zd)((0,F.pd)(y)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||m||p||y}(p);try{return new Cl(m)}catch(b){return null}}}let kc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return yr._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=Cl.parseLink(b);return K(T,"argument-error"),yr._fromEmailAndCode(m,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class vr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ao extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Hi extends ao{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return K("providerId"in m&&"signInMethod"in m,"argument-error"),ss._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return K(p.idToken||p.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Hi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Hi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:O,nonce:Z,providerId:ce}=p;if(!b&&!T&&!m&&!O||!ce)return null;try{return new Hi(ce)._credential({idToken:m,accessToken:b,nonce:Z,pendingToken:O})}catch(Ne){return null}}}let Wo=(()=>{class y extends ao{constructor(){super("facebook.com")}static credential(m){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Fc=(()=>{class y extends ao{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return y.credential(b,T)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),sh=(()=>{class y extends ao{constructor(){super("github.com")}static credential(m){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class lo extends mi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Us(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Us(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Us(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T,pendingToken:O}=m;return b&&T&&O&&b===T?new lo(b,O):null}static _create(p,m){return new lo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends vr{constructor(p){K(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ar.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ar.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=lo.fromJSON(p);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return lo._create(b,m)}catch(T){return null}}}let Nc=(()=>{class y extends ao{constructor(){super("twitter.com")}static credential(m,b){return ss._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return y.credential(b,T)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function br(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signUp",Zt(y,p))})).apply(this,arguments)}class Zr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,T=!1){return(0,d.Z)(function*(){const O=yield dt._fromIdTokenResponse(p,b,T),Z=vu(b);return new Zr({user:O,providerId:Z,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const T=vu(b);return new Zr({user:p,providerId:T,_tokenResponse:b,operationType:m})})()}}function vu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function bu(){return(bu=(0,d.Z)(function*(y){var p;const m=ht(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Zr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield br(m,{returnSecureToken:!0}),T=yield Zr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Yo extends F.ZR{constructor(p,m,b,T){var O;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,Yo.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,T){return new Yo(p,m,b,T)}}function wu(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Yo._fromErrorAndOperation(y,O,p,b):O})}function $i(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function sn(){return(sn=(0,d.Z)(function*(y,p){const m=(0,F.m9)(y);yield Qt(!0,m,p);const{providerUserInfo:b}=yield xn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=$i(b||[]);return m.providerData=m.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ta(y,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(y,p,m=!1){const b=yield gr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Zr._forOperation(y,"link",b)})).apply(this,arguments)}function Qt(y,p,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(y,p,m){yield Sr(p);const T=!1===y?"provider-already-linked":"no-such-provider";K($i(p.providerData).has(m)===y,p.auth,T)})).apply(this,arguments)}function Dl(y,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(y,p,m=!1){var b;const{auth:T}=y,O="reauthenticate";try{const Z=yield gr(y,wu(T,O,p,y),m);K(Z.idToken,T,"internal-error");const ce=at(Z.idToken);K(ce,T,"internal-error");const{sub:Ne}=ce;return K(y.uid===Ne,T,"user-mismatch"),Zr._forOperation(y,O,Z)}catch(Z){throw"auth/user-not-found"===(null===(b=Z)||void 0===b?void 0:b.code)&&Ae(T,"user-mismatch"),Z}})).apply(this,arguments)}function rr(y,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,d.Z)(function*(y,p,m=!1){const b="signIn",T=yield wu(y,b,p),O=yield Zr._fromIdTokenResponse(y,b,T);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function wn(y,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.Z)(function*(y,p){return rr(ht(y),p)})).apply(this,arguments)}function ir(y,p){return co.apply(this,arguments)}function co(){return(co=(0,d.Z)(function*(y,p){const m=(0,F.m9)(y);return yield Qt(!1,m,p.providerId),Ta(m,p)})).apply(this,arguments)}function os(y,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(y,p){return Dl((0,F.m9)(y),p)})).apply(this,arguments)}function yi(y,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(y,p){return Lr(y,"POST","/v1/accounts:signInWithCustomToken",Zt(y,p))})).apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(y,p){const m=ht(y),b=yield yi(m,{token:p,returnSecureToken:!0}),T=yield Zr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Jo{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Il._fromServerResponse(p,m):Ae(p,"internal-error")}}class Il extends Jo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Il(m)}}function xa(y,p,m){var b;K((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),K(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ra(){return(Ra=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y),T={requestType:"PASSWORD_RESET",email:p};m&&xa(b,T,m),yield Da(b,T)})).apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(y,p,m){yield On((0,F.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(y,p){yield wl((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function Sl(y,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(y,p){const m=(0,F.m9)(y),b=yield On(m,{oobCode:p}),T=b.requestType;switch(K(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(b.mfaInfo,m,"internal-error");default:K(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=Jo._fromServerResponse(ht(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(y,p){const{data:m}=yield Sl((0,F.m9)(y),p);return m.email})).apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(y,p,m){const b=ht(y),T=yield br(b,{returnSecureToken:!0,email:p,password:m}),O=yield Zr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};K(m.handleCodeInApp,b,"argument-error"),m&&xa(b,T,m),yield Kr(b,T)})).apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y),T=kc.credentialWithLink(p,m||ke());return K(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),wn(b,T)})).apply(this,arguments)}function as(y,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:createAuthUri",Zt(y,p))})).apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:ft()?ke():"http://localhost"},{signinMethods:T}=yield as((0,F.m9)(y),b);return T||[]})).apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(y,p){const m=(0,F.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&xa(m.auth,T,p);const{email:O}=yield un(m.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&xa(b.auth,O,m);const{email:Z}=yield Ic(b.auth,O);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Na(y,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,F.m9)(y),O={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield gr(b,Na(b.auth,O));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ce=b.providerData.find(({providerId:Ne})=>"password"===Ne);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function ta(y,p,m){return La.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(y,p,m){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Z=yield gr(y,zo(b,O));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class na{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Vc extends na{constructor(p,m,b,T){super(p,m,b),this.username=T}}class ra extends na{constructor(p,m){super(p,"facebook.com",m)}}class qi extends Vc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ah extends na{constructor(p,m){super(p,"google.com",m)}}class Yn extends Vc{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Wi(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Lc(y){var p,m;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const Z=null===(m=null===(p=at(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new na(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new ra(O,T);case"github.com":return new qi(O,T);case"google.com":return new ah(O,T);case"twitter.com":return new Yn(O,T,y.screenName||null);case"custom":case"anonymous":return new na(O,null);default:return new na(O,b,T)}}(m)}class ls{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ls("enroll",p)}static _fromMfaPendingCredential(p){return new ls("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ls._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return ls._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ia{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=ht(p),T=m.customData._serverResponse,O=(T.mfaInfo||[]).map(ce=>Jo._fromServerResponse(b,ce));K(T.mfaPendingCredential,b,"internal-error");const Z=ls._fromMfaPendingCredential(T.mfaPendingCredential);return new ia(Z,O,function(){var ce=(0,d.Z)(function*(Ne){const Ze=yield Ne._process(b,Z);delete T.mfaInfo,delete T.mfaPendingCredential;const bt=Object.assign(Object.assign({},T),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(m.operationType){case"signIn":const gt=yield Zr._fromIdTokenResponse(b,m.operationType,bt);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return K(m.user,b,"internal-error"),Zr._forOperation(m.user,m.operationType,bt);default:Ae(b,"internal-error")}});return function(Ne){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function uh(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:start",Zt(y,p))}class jc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Jo._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new jc(p)}getSession(){var p=this;return(0,d.Z)(function*(){return ls._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,d.Z)(function*(){const T=p,O=yield b.getSession(),Z=yield gr(b.user,T._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){var b;const T="string"==typeof p?p:p.uid,O=yield m.user.getIdToken(),Z=yield gr(m.user,function Rl(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(y,p))}(m.user.auth,{idToken:O,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ce})=>ce!==T),yield m.user._updateTokensIfNecessary(Z);try{yield m.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(b=ce)||void 0===b?void 0:b.code))throw ce}})()}}const Ol=new WeakMap,Gs="__sak";class Ru{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const jt=(()=>{class y extends Ru{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yp(){const y=(0,F.z$)();return $o(y)||Ur(y)}()&&function nr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ls(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),O=this.localCache[b];T!==O&&m(b,O,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ce,Ne,Ze)=>{this.notifyListeners(ce,Ze)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(T);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const O=()=>{const ce=this.storage.getItem(T);!b&&this.localCache[T]===ce||this.notifyListeners(T,ce)},Z=this.storage.getItem(T);!function Ca(){return(0,F.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const O of Array.from(T))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,O=this;return(0,d.Z)(function*(){yield T().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,d.Z)(function*(){const O=yield b().call(T,m);return T.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,T=this;return(0,d.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return y.type="LOCAL",y})(),gn=(()=>{class y extends Ru{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Hc=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const T=new y(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const T=m,{eventId:O,eventType:Z,data:ce}=T.data,Ne=b.handlersMap[Z];if(!(null==Ne?void 0:Ne.size))return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Ze=Array.from(Ne).map(function(){var gt=(0,d.Z)(function*(An){return An(T.origin,ce)});return function(An){return gt.apply(this,arguments)}}()),bt=yield function Ou(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Ze);T.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:bt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ki(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class ku{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var T=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ce;return new Promise((Ne,Ze)=>{const bt=Ki("",20);O.port1.start();const gt=setTimeout(()=>{Ze(new Error("unsupported_event"))},b);ce={messageChannel:O,onMessage(An){const ii=An;if(ii.data.eventId===bt)switch(ii.data.status){case"ack":clearTimeout(gt),Z=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ne(ii.data.response);break;default:clearTimeout(gt),clearTimeout(Z),Ze(new Error("invalid_response"))}}},T.handlers.add(ce),O.port1.addEventListener("message",ce.onMessage),T.target.postMessage({eventType:p,eventId:bt,data:m},[O.port2])}).finally(()=>{ce&&T.removeMessageHandler(ce)})})()}}function hn(){return window}function bi(){return void 0!==hn().WorkerGlobalScope&&"function"==typeof hn().importScripts}function kl(){return(kl=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ja="firebaseLocalStorageDb",zs="firebaseLocalStorage",Ha="fbase_key";class Zi{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function qs(y,p){return y.transaction([zs],p?"readwrite":"readonly").objectStore(zs)}function us(){const y=indexedDB.open(ja,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(zs,{keyPath:Ha})}catch(T){m(T)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(zs)?p(b):(b.close(),yield function Qr(){const y=indexedDB.deleteDatabase(ja);return new Zi(y).toPromise()}(),p(yield us()))}))})}function $a(y,p,m){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(y,p,m){const b=qs(y,!0).put({[Ha]:p,value:m});return new Zi(b).toPromise()})).apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(y,p){const m=qs(y,!1).get(p),b=yield new Zi(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function za(y,p){const m=qs(y,!0).delete(p);return new Zi(m).toPromise()}const Jn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield us()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(T++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return bi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Hc._getInstance(function Fu(){return bi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(T,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(T,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function nt(){return kl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ku(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=O[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function $c(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield us();return yield $a(m,Gs,"1"),yield za(m,Gs),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(O=>$a(O,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const T=yield b._withRetries(O=>function mo(y,p){return Ga.apply(this,arguments)}(O,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(T=>za(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(Z=>{const ce=qs(Z,!1).getAll();return new Zi(ce).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:Z,value:ce}of b)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ce)&&(m.notifyListeners(Z,ce),T.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),T.push(Z));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const O of Array.from(T))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function In(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:start",Zt(y,p))}function on(){return(on=(0,d.Z)(function*(y){return(yield Nt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $n(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=T=>{const O=_e("internal-error");O.customData=T,m(O)},b.type="text/javascript",b.charset="UTF-8",function or(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Ws(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ar=1e12;class Sn{constructor(p){this.auth=p,this.counter=ar,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new qa(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||ar;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ar))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(p||ar))||void 0===b||b.execute(),""})()}}class qa{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;K(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Nu(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bn=Ws("rcb"),ch=new Xt(3e4,6e4);class Gc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=hn().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return K(function Wa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(hn().grecaptcha):new Promise((b,T)=>{const O=hn().setTimeout(()=>{T(_e(p,"network-request-failed"))},ch.get());hn()[bn]=()=>{hn().clearTimeout(O),delete hn()[bn];const ce=hn().grecaptcha;if(!ce)return void T(_e(p,"internal-error"));const Ne=ce.render;ce.render=(Ze,bt)=>{const gt=Ne(Ze,bt);return this.counter++,gt},this.hostLanguage=m,b(ce)},$n(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:bn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),T(_e(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=hn().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lr{load(p){return(0,d.Z)(function*(){return new Sn(p)})()}clearedOneInstance(){}}const hh="recaptcha",vo={theme:"light",type:"image"};class sa{constructor(p,m=Object.assign({},vo),b){this.parameters=m,this.type=hh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(b),this.isInvisible="invisible"===this.parameters.size,K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;K(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lr:new Gc,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const Z=ce=>{!ce||(p.tokenChangeListeners.delete(Z),O(ce))};p.tokenChangeListeners.add(Z),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=hn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){K(ft()&&!bi(),p.auth,"internal-error"),yield function Fl(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Yi(y){return on.apply(this,arguments)}(p.auth);K(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=qo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ks(){return(Ks=(0,d.Z)(function*(y,p,m){const b=ht(y),T=yield oa(b,p,(0,F.m9)(m));return new Tn(T,O=>wn(b,O))})).apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y);yield Qt(!1,b,"phone");const T=yield oa(b.auth,p,(0,F.m9)(m));return new Tn(T,O=>ir(b,O))})).apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y),T=yield oa(b.auth,p,(0,F.m9)(m));return new Tn(T,O=>os(b,O))})).apply(this,arguments)}function oa(y,p,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(y,p,m){var b;const T=yield m.verify();try{let O;if(K("string"==typeof T,y,"argument-error"),K(m.type===hh,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return K("enroll"===Z.type,y,"internal-error"),(yield uh(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{K("signin"===Z.type,y,"internal-error");const ce=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return K(ce,y,"missing-multi-factor-info"),(yield In(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Ac(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return Z}}finally{m._reset()}})).apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(y,p){yield Ta((0,F.m9)(y),p)})).apply(this,arguments)}let Ka=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=ht(m)}verifyPhoneNumber(m,b){return oa(this.auth,m,(0,F.m9)(b))}static credential(m,b){return qo._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?qo._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function wo(y,p){return p?ee(p):(K(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Lu extends mi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Us(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Us(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Us(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ft(y){return rr(y.auth,new Lu(y),y.bypassAuthState)}function Vl(y){const{auth:p,user:m}=y;return K(m,p,"internal-error"),Dl(m,new Lu(y),y.bypassAuthState)}function Fn(y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return K(m,p,"internal-error"),Ta(m,new Lu(y),y.bypassAuthState)})).apply(this,arguments)}class Ci{constructor(p,m,b,T,O=!1){this.auth=p,this.resolver=b,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(b,T){p.pendingPromise={resolve:b,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:O,tenantId:Z,error:ce,type:Ne}=p;if(ce)return void m.reject(ce);const Ze={auth:m.auth,requestUri:b,sessionId:T,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ne)(Ze))}catch(bt){m.reject(bt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return Fn;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:Ae(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zc=new Xt(2e3,1e4);function Za(){return(Za=(0,d.Z)(function*(y,p,m){const b=ht(y);Le(y,p,vr);const T=wo(b,m);return new Bu(b,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y);Le(b.auth,p,vr);const T=wo(b.auth,m);return new Bu(b.auth,"reauthViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y);Le(b.auth,p,vr);const T=wo(b.auth,m);return new Bu(b.auth,"linkViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}let Bu=(()=>{class y extends Ci{constructor(m,b,T,O,Z){super(m,b,O,Z),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return K(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=Ki();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,zc.get())};m()}}return y.currentPopupAction=null,y})();const Gn=new Map;class bp extends Ci{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Gn.get(m.auth._key());if(!b){try{const O=(yield function Ya(y,p){return ei.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(O)}catch(T){b=()=>Promise.reject(T)}Gn.set(m.auth._key(),b)}return m.bypassAuthState||Gn.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const T=yield b.auth._redirectUserForId(p.eventId);if(T)return b.user=T,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ei(){return(ei=(0,d.Z)(function*(y,p){const m=Uu(p),b=Qa(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function Eo(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(y,p){return Qa(y)._set(Uu(p),"true")})).apply(this,arguments)}function qc(y,p){Gn.set(y._key(),p)}function Qa(y){return ee(y._redirectPersistence)}function Uu(y){return Kn("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,d.Z)(function*(y,p,m){const b=ht(y);Le(y,p,vr);const T=wo(b,m);return yield Eo(T,b),T._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y);Le(b.auth,p,vr);const T=wo(b.auth,m);yield Eo(T,b.auth);const O=yield ut(b);return T._openRedirect(b.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(y,p,m){const b=(0,F.m9)(y);Le(b.auth,p,vr);const T=wo(b.auth,m);yield Qt(!1,b,p.providerId),yield Eo(T,b.auth);const O=yield ut(b);return T._openRedirect(b.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(y,p){return yield ht(y)._initializationPromise,_t(y,p,!1)})).apply(this,arguments)}function _t(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(y,p,m=!1){const b=ht(y),T=wo(b,p),Z=yield new bp(b,T,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,p)),Z})).apply(this,arguments)}function ut(y){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(y){const p=Ki(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class fs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Wc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Di(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Di(p)){const T=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ps(p))}saveEventToCache(p){this.cachedEventUids.add(ps(p)),this.lastProcessedEventTime=Date.now()}}function ps(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Di({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function jl(y){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(y,p={}){return Nt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Er=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qi=/^https?/;function wp(){return(wp=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield jl(y);for(const m of p)try{if(Ep(m))return}catch(b){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Ep(y){const p=ke(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===b}if(!Qi.test(m))return!1;if(Er.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const $m=new Xt(3e4,6e4);function Cp(){const y=hn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Hl=null;function Io(y){return Hl=Hl||function gh(y){return new Promise((p,m)=>{var b,T,O;function Z(){Cp(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Cp(),m(_e(y,"network-request-failed"))},timeout:$m.get()})}if(null===(T=null===(b=hn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=hn().gapi)||void 0===O?void 0:O.load)){const ce=Ws("iframefcb");return hn()[ce]=()=>{gapi.load?Z():m(_e(y,"network-request-failed"))},$n(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ne=>m(Ne))}Z()}}).catch(p=>{throw Hl=null,p})}(y),Hl}const So=new Xt(5e3,15e3),Gm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zm(y){const p=y.config;K(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Mn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:de.SDK_VERSION},T=$l.get(y.config.apiHost);T&&(b.eid=T);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,F.xO)(b).slice(1)}`}function aa(){return aa=(0,d.Z)(function*(y){const p=yield Io(y),m=hn().gapi;return K(m,y,"internal-error"),p.open({where:document.body,url:zm(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gm,dontclear:!0},b=>new Promise(function(){var T=(0,d.Z)(function*(O,Z){yield b.restyle({setHideOnLeave:!1});const ce=_e(y,"network-request-failed"),Ne=hn().setTimeout(()=>{Z(ce)},So.get());function Ze(){hn().clearTimeout(Ne),O(b)}b.ping(Ze).then(Ze,()=>{Z(ce)})});return function(O,Z){return T.apply(this,arguments)}}()))}),aa.apply(this,arguments)}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dp{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function gs(y,p,m,b,T,O){K(y.config.authDomain,y,"auth-domain-config-required"),K(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:de.SDK_VERSION,eventId:T};if(p instanceof vr){p.setDefaultLanguage(y.languageCode),Z.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ne,Ze]of Object.entries(O||{}))Z[Ne]=Ze}if(p instanceof ao){const Ne=p.getScopes().filter(Ze=>""!==Ze);Ne.length>0&&(Z.scopes=Ne.join(","))}y.tenantId&&(Z.tid=y.tenantId);const ce=Z;for(const Ne of Object.keys(ce))void 0===ce[Ne]&&delete ce[Ne];return`${function Gl({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(ce).slice(1)}`}const Hu="webStorageSupport";class $u extends class Km{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new $u(p)}_finalizeEnroll(p,m,b){return function fo(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function yo(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:finalize",Zt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sp=(()=>{class y{constructor(){}static assertion(m){return $u._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Tp="@firebase/auth";class Mp{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var T;p((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ms(){return window}function Xa(){return(Xa=(0,d.Z)(function*(y,p,m){var b;const{BuildInfo:T}=ms();Y(p.sessionId,"AuthEvent did not contain a session ID");const O=yield wh(p.sessionId),Z={};return Ur()?Z.ibi=T.packageName:Tr()?Z.apn=T.packageName:Ae(y,"operation-not-supported-in-this-environment"),T.displayName&&(Z.appDisplayName=T.displayName),Z.sessionId=O,gs(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,Z)})).apply(this,arguments)}function Xc(){return(Xc=(0,d.Z)(function*(y){const{BuildInfo:p}=ms(),m={};Ur()?m.iosBundleId=p.packageName:Tr()?m.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield jl(y,m)})).apply(this,arguments)}function Op(){return(Op=(0,d.Z)(function*(y,p,m){const{cordova:b}=ms();let T=()=>{};try{yield new Promise((O,Z)=>{let ce=null;function Ne(){var gt;O();const An=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof An&&An(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ze(){ce||(ce=window.setTimeout(()=>{Z(_e(y,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&Ze()}p.addPassiveListener(Ne),document.addEventListener("resume",Ze,!1),Tr()&&document.addEventListener("visibilitychange",bt,!1),T=()=>{p.removePassiveListener(Ne),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",bt,!1),ce&&window.clearTimeout(ce)}})}finally{T()}})).apply(this,arguments)}function wh(y){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,d.Z)(function*(y){const p=Eh(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Eh(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function Kb(y){(0,de._registerComponent)(new ne.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:O,authDomain:Z}=b.options;return((ce,Ne)=>{K(O&&!O.includes(":"),"invalid-api-key",{appName:ce.name}),K(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:ce.name});const Ze={apiKey:O,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Go(y)},bt=new We(ce,Ne,Ze);return function le(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ee);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(bt,m),bt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ne.wA("auth-internal",p=>{const m=ht(p.getProvider("auth").getImmediate());return new Mp(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Tp,"0.20.5",function Jc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,de.registerVersion)(Tp,"0.20.5","esm2017")}("Browser");class td extends fs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Wl(y){return zu.apply(this,arguments)}function zu(){return(zu=(0,d.Z)(function*(y){const p=yield tl()._get(nd(y));return p&&(yield tl()._remove(nd(y))),p})).apply(this,arguments)}function Ch(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function tl(){return ee(jt)}function nd(y){return Kn("authEvent",y.config.apiKey,y.name)}function Gt(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,F.zd)(m.join("?"))}function Zl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function la(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Np(y=(0,F.z$)()){return!("file:"!==la()&&"ionic:"!==la()&&"capacitor:"!==la()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Th(){try{const y=self.localStorage,p=Ki();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Sh(y=(0,F.z$)()){return function Mr(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function nl(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return ur()&&(0,F.hl)()}return!1}function ur(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function rl(){return(function t_(){return"http:"===la()||"https:"===la()}()||(0,F.ru)()||Np())&&!function ua(){return(0,F.b$)()||(0,F.UG)()}()&&Th()&&!ur()}function rd(){return Np()&&"undefined"!=typeof document}function qu(){return(qu=(0,d.Z)(function*(){return!!rd()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},Mo=K,Lp="persistence";function Yl(y){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,d.Z)(function*(y){yield y._initializationPromise;const p=Bp(),m=Kn(Lp,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Bp(){var y;try{return(null===(y=function Pp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const r_=K;class ni{constructor(){this.browserResolver=ee(class Ip{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gn,this._completeRedirectFn=_t,this._overrideRedirectResult=qc}_openPopup(p,m,b,T){var O=this;return(0,d.Z)(function*(){var Z;Y(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ce=gs(p,m,b,ke(),T);return function ju(y,p,m,b=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ne=Object.assign(Object.assign({},mh),{width:b.toString(),height:T.toString(),top:O,left:Z}),Ze=(0,F.z$)().toLowerCase();m&&(ce=Ea(Ze)?"_blank":m),Li(Ze)&&(p=p||"http://localhost",Ne.scrollbars="yes");const bt=Object.entries(Ne).reduce((An,[ii,Ku])=>`${An}${ii}=${Ku},`,"");if(function so(y=(0,F.z$)()){var p;return Ur(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ze)&&"_self"!==ce)return function qm(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ce),new Dp(null);const gt=window.open(p||"",ce,bt);K(gt,y,"popup-blocked");try{gt.focus()}catch(An){}return new Dp(gt)}(p,ce,Ki())})()}_openRedirect(p,m,b,T){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(p),function Ua(y){hn().location.href=y}(gs(p,m,b,ke(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:O}=this.eventManagers[m];return T?Promise.resolve(T):(Y(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const b=yield function Yc(y){return aa.apply(this,arguments)}(p),T=new fs(p);return b.register("authEvent",O=>(K(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=b,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Hu,{type:Hu},T=>{var O;const Z=null===(O=null==T?void 0:T[0])||void 0===O?void 0:O[Hu];void 0!==Z&&m(!!Z),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Kc(y){return wp.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ls()||$o()||Ur()}}),this.cordovaResolver=ee(class Fp{constructor(){this._redirectPersistence=gn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_t,this._overrideRedirectResult=qc}_initialize(p){var m=this;return(0,d.Z)(function*(){const b=p._key();let T=m.eventManagers.get(b);return T||(T=new td(p),m.eventManagers.set(b,T),m.attachCallbackListeners(p,T)),T})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,T){var O=this;return(0,d.Z)(function*(){!function zl(y){var p,m,b,T,O,Z,ce,Ne,Ze,bt;const gt=ms();K("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K("function"==typeof(null===(O=null===(T=null===(b=null==gt?void 0:gt.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(Ne=null===(ce=null===(Z=null==gt?void 0:gt.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(bt=null===(Ze=null==gt?void 0:gt.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===bt?void 0:bt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield O._initialize(p);yield Z.initialized(),Z.resetRedirect(),function ph(){Gn.clear()}(),yield O._originValidation(p);const ce=function ql(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Ch(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(p,b,T);yield function Zm(y,p){return tl()._set(nd(y),p)}(p,ce);const Ne=yield function _s(y,p,m){return Xa.apply(this,arguments)}(p,ce,m),Ze=yield function ed(y){const{cordova:p}=ms();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let T=null;b?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function Dc(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(T)})})}(Ne);return function el(y,p,m){return Op.apply(this,arguments)}(p,Z,Ze)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Rp(y){return Xc.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:T,BuildInfo:O}=ms(),Z=setTimeout((0,d.Z)(function*(){yield Wl(p),m.onEvent(Zl())}),500),ce=function(){var bt=(0,d.Z)(function*(gt){clearTimeout(Z);const An=yield Wl(p);let ii=null;An&&(null==gt?void 0:gt.url)&&(ii=function Ym(y,p){var m,b;const T=function Ih(y){const p=Gt(y),m=p.link?decodeURIComponent(p.link):void 0,b=Gt(m).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Gt(T).link||T||b||m||y}(p);if(T.includes("/__/auth/callback")){const O=Gt(T),Z=O.firebaseError?function Dh(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ce=null===(b=null===(m=null==Z?void 0:Z.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ne=ce?_e(ce):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(An,gt.url)),m.onEvent(ii||Zl())});return function(An){return bt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ne=T,Ze=`${O.packageName.toLowerCase()}://`;ms().handleOpenURL=function(){var bt=(0,d.Z)(function*(gt){if(gt.toLowerCase().startsWith(Ze)&&ce({url:gt}),"function"==typeof Ne)try{Ne(gt)}catch(An){console.error(An)}});return function(gt){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=gn,this._completeRedirectFn=_t,this._overrideRedirectResult=qc}_initialize(p){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,T){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,b,T)})()}_openRedirect(p,m,b,T){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,b,T)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return rd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return r_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const m=yield function n_(){return qu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Up(y){return y.unwrap()}function id(y){return jp(y)}function jp(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ka.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Fc;break;case"facebook.com":b=Wo;break;case"github.com":b=sh;break;case"twitter.com":b=Nc;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:ce,nonce:Ne}=p;return O||Z||T||ce?ce?m.startsWith("saml.")?lo._create(m,ce):ss._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:T,accessToken:O}):new Hi(m).credential({idToken:T,accessToken:O,rawNonce:Ne}):null}return y instanceof F.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function ri(y,p){return p.catch(m=>{throw m instanceof F.ZR&&function s_(y,p){var m,b;const T=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new Hp(y,function Qn(y,p){var m;const b=(0,F.m9)(y),T=p;return K(p.customData.operationType,b,"argument-error"),K(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),ia._fromError(b,T)}(y,p));else if(T){const O=jp(p),Z=p;O&&(Z.credential=O,Z.tenantId=T.tenantId||void 0,Z.email=T.email||void 0,Z.phoneNumber=T.phoneNumber||void 0)}}(y,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:id(m),additionalUserInfo:Wi(m),user:Qs.getOrCreate(T)}})}function Mh(y,p){return xh.apply(this,arguments)}function xh(){return(xh=(0,d.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>ri(y,m.confirm(b))}})).apply(this,arguments)}class Hp{constructor(p,m){this.resolver=m,this.auth=function i_(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ri(Up(this.auth),this.resolver.resolveSignIn(p))}}class Qs{constructor(p){this._delegate=p,this.multiFactor=function po(y){const p=(0,F.m9)(y);return Ol.has(p)||Ol.set(p,jc._fromUser(p)),Ol.get(p)}(p)}static getOrCreate(p){return Qs.USER_MAP.has(p)||Qs.USER_MAP.set(p,new Qs(p)),Qs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,d.Z)(function*(){return ri(m.auth,ir(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,d.Z)(function*(){return Mh(b.auth,function vp(y,p,m){return Pu.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,d.Z)(function*(){return ri(m.auth,function fh(y,p,m){return Ul.apply(this,arguments)}(m._delegate,p,ni))})()}linkWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield Yl(ht(m.auth)),function Q(y,p,m){return function se(y,p,m){return Me.apply(this,arguments)}(y,p,m)}(m._delegate,p,ni)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,d.Z)(function*(){return ri(m.auth,os(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Mh(this.auth,function Jr(y,p,m){return Xr.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return ri(this.auth,function ds(y,p,m){return Vu.apply(this,arguments)}(this._delegate,p,ni))}reauthenticateWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield Yl(ht(m.auth)),function S(y,p,m){return function R(y,p,m){return L.apply(this,arguments)}(y,p,m)}(m._delegate,p,ni)})()}sendEmailVerification(p){return function Tu(y,p){return Ml.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,d.Z)(function*(){return yield function oh(y,p){return sn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function mp(y,p){return ta((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function xu(y,p){return ta((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Pl(y,p){return Ll.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Mu(y,p){return Pa.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Au(y,p,m){return xl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qs.USER_MAP=new WeakMap;const Wu=K;let $p=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;Wu(T,"invalid-api-key",{appName:m.name}),Wu(T,"invalid-api-key",{appName:m.name});const O="undefined"!=typeof window?ni:void 0;this._delegate=b.initialize({options:{persistence:o_(T,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Hr(y,p,m){const b=ht(y);K(b._canInitEmulator,b,"emulator-config-failed"),K(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),O=Vi(p),{host:Z,port:ce}=function Ln(y){const p=Vi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const O=T[1];return{host:O,port:Bi(b.substr(O.length+1))}}{const[O,Z]=b.split(":");return{host:O,port:Bi(Z)}}}(p);b.config.emulator={url:`${O}//${Z}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ce,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function fn(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Se(y,p){return kt.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Sl(this._delegate,m)}confirmPasswordReset(m,b){return function Du(y,p,m){return Iu.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var T=this;return(0,d.Z)(function*(){return ri(T._delegate,function Yr(y,p,m){return Oa.apply(this,arguments)}(T._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function $s(y,p){return vi.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ka(y,p){const m=Cl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Wu(rl(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function $e(y,p){return lt.apply(this,arguments)}(m._delegate,ni);return b?ri(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Qm(y,p){ht(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,T){const{next:O,error:Z,complete:ce}=Gp(m,b,T);return this._delegate.onAuthStateChanged(O,Z,ce)}onIdTokenChanged(m,b,T){const{next:O,error:Z,complete:ce}=Gp(m,b,T);return this._delegate.onIdTokenChanged(O,Z,ce)}sendSignInLinkToEmail(m,b){return function gp(y,p,m){return Tl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Cu(y,p,m){return Ra.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let T;switch(function Vp(y,p){Mo(Object.values(ti).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?Mo(p!==ti.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?Mo(p===ti.NONE,y,"unsupported-persistence-type"):ur()?Mo(p===ti.NONE||p===ti.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):Mo(p===ti.NONE||Th(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ti.SESSION:T=gn;break;case ti.LOCAL:T=(yield ee(Jn)._isAvailable())?Jn:jt;break;case ti.NONE:T=Wt;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ri(this._delegate,function Pc(y){return bu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ri(this._delegate,wn(this._delegate,m))}signInWithCustomToken(m){return ri(this._delegate,function Qo(y,p){return mt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return ri(this._delegate,function Su(y,p,m){return wn((0,F.m9)(y),kc.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return ri(this._delegate,function Al(y,p,m){return kn.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Mh(this._delegate,function Nl(y,p,m){return Ks.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return Wu(rl(),b._delegate,"operation-not-supported-in-this-environment"),ri(b._delegate,function Bl(y,p,m){return Za.apply(this,arguments)}(b._delegate,m,ni))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return Wu(rl(),b._delegate,"operation-not-supported-in-this-environment"),yield Yl(b._delegate),function Ys(y,p,m){return function Co(y,p,m){return C.apply(this,arguments)}(y,p,m)}(b._delegate,m,ni)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Xo(y,p){return ho.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ti,y})();function Gp(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const T=b;return{next:Z=>T(Z&&Qs.getOrCreate(Z)),error:p,complete:m}}function o_(y,p){const m=function il(y,p){const m=Bp();if(!m)return[];const b=Kn(Lp,y,p);switch(m.getItem(b)){case ti.NONE:return[Wt];case ti.LOCAL:return[Jn,gn];case ti.SESSION:return[gn];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(Jn)&&m.push(Jn),"undefined"!=typeof window)for(const b of[jt,gn])m.includes(b)||m.push(b);return m.includes(Wt)||m.push(Wt),m}class Rh{constructor(){this.providerId="phone",this._delegate=new Ka(Up(X.Z.auth()))}static credential(p,m){return Ka.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Rh.PHONE_SIGN_IN_METHOD=Ka.PHONE_SIGN_IN_METHOD,Rh.PROVIDER_ID=Ka.PROVIDER_ID;const zp=K;class Yb{constructor(p,m,b=X.Z.app()){var T;zp(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new sa(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ys(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new $p(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:kc,FacebookAuthProvider:Wo,GithubAuthProvider:sh,GoogleAuthProvider:Fc,OAuthProvider:Hi,SAMLAuthProvider:Ar,PhoneAuthProvider:Rh,PhoneMultiFactorGenerator:Sp,RecaptchaVerifier:Yb,TwitterAuthProvider:Nc,Auth:$p,AuthCredential:mi,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(X.Z)},8306:(et,ve,k)=>{k.d(ve,{y:()=>z});var d=k(930),X=k(727),F=k(8822),de=k(4671);var ne=k(2416),ue=k(576),ge=k(2806);let z=(()=>{class Ie{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const he=new Ie;return he.source=this,he.operator=Be,he}subscribe(Be,he,Ce){const qe=function je(Ie){return Ie&&Ie instanceof d.Lv||function te(Ie){return Ie&&(0,ue.m)(Ie.next)&&(0,ue.m)(Ie.error)&&(0,ue.m)(Ie.complete)}(Ie)&&(0,X.Nn)(Ie)}(Be)?Be:new d.Hp(Be,he,Ce);return(0,ge.x)(()=>{const{operator:Je,source:Ae}=this;qe.add(Je?Je.call(qe,Ae):Ae?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Be){try{return this._subscribe(Be)}catch(he){Be.error(he)}}forEach(Be,he){return new(he=G(he))((Ce,qe)=>{const Je=new d.Hp({next:Ae=>{try{Be(Ae)}catch(_e){qe(_e),Je.unsubscribe()}},error:qe,complete:Ce});this.subscribe(Je)})}_subscribe(Be){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Be)}[F.L](){return this}pipe(...Be){return function pe(Ie){return 0===Ie.length?de.y:1===Ie.length?Ie[0]:function(Be){return Ie.reduce((he,Ce)=>Ce(he),Be)}}(Be)(this)}toPromise(Be){return new(Be=G(Be))((he,Ce)=>{let qe;this.subscribe(Je=>qe=Je,Je=>Ce(Je),()=>he(qe))})}}return Ie.create=Oe=>new Ie(Oe),Ie})();function G(Ie){var Oe;return null!==(Oe=null!=Ie?Ie:ne.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(et,ve,k)=>{k.d(ve,{x:()=>ne});var d=k(8306),X=k(727);const de=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=k(8737),pe=k(2806);let ne=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const te=new ue(this,this);return te.operator=G,te}_throwIfClosed(){if(this.closed)throw new de}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:te}=this;for(;te.length;)te.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:te,isStopped:je,observers:Ie}=this;return te||je?X.Lc:(this.currentObservers=null,Ie.push(G),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(Ie,G)}))}_checkFinalizedStatuses(G){const{hasError:te,thrownError:je,isStopped:Ie}=this;te?G.error(je):Ie&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return ge.create=(z,G)=>new ue(z,G),ge})();class ue extends ne{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===te||te.call(G,z)}error(z){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===te||te.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,te;return null!==(te=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==te?te:X.Lc}}},930:(et,ve,k)=>{k.d(ve,{Hp:()=>Be,Lv:()=>te});var d=k(576),X=k(727),F=k(2416),de=k(7849),oe=k(5032);const pe=ge("C",void 0,void 0);function ge(Ae,_e,Ee){return{kind:Ae,value:_e,error:Ee}}var z=k(3410),G=k(2806);class te extends X.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,X.Nn)(_e)&&_e.add(this)):this.destination=Je}static create(_e,Ee,Le){return new Be(_e,Ee,Le)}next(_e){this.isStopped?qe(function ue(Ae){return ge("N",Ae,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?qe(function ne(Ae){return ge("E",void 0,Ae)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?qe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ie(Ae,_e){return je.call(Ae,_e)}class Oe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(_e)}catch(Le){he(Le)}}error(_e){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(_e)}catch(Le){he(Le)}else he(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Ee){he(Ee)}}}class Be extends te{constructor(_e,Ee,Le){let Ue;if(super(),(0,d.m)(_e)||!_e)Ue={next:null!=_e?_e:void 0,error:null!=Ee?Ee:void 0,complete:null!=Le?Le:void 0};else{let K;this&&F.v.useDeprecatedNextContext?(K=Object.create(_e),K.unsubscribe=()=>this.unsubscribe(),Ue={next:_e.next&&Ie(_e.next,K),error:_e.error&&Ie(_e.error,K),complete:_e.complete&&Ie(_e.complete,K)}):Ue=_e}this.destination=new Oe(Ue)}}function he(Ae){F.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ae):(0,de.h)(Ae)}function qe(Ae,_e){const{onStoppedNotification:Ee}=F.v;Ee&&z.z.setTimeout(()=>Ee(Ae,_e))}const Je={closed:!0,next:oe.Z,error:function Ce(Ae){throw Ae},complete:oe.Z}},727:(et,ve,k)=>{k.d(ve,{Lc:()=>pe,w0:()=>oe,Nn:()=>ne});var d=k(576);const F=(0,k(3888).d)(ge=>function(G){ge(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((te,je)=>`${je+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var de=k(8737);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ie of G)Ie.remove(this);else G.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Ie){z=Ie instanceof F?Ie.errors:[Ie]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ie of je)try{ue(Ie)}catch(Oe){z=null!=z?z:[],Oe instanceof F?z=[...z,...Oe.errors]:z.push(Oe)}}if(z)throw new F(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ue(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,de.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,de.P)(G,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const ge=new oe;return ge.closed=!0,ge})();const pe=oe.EMPTY;function ne(ge){return ge instanceof oe||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function ue(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(et,ve,k)=>{k.d(ve,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,ve,k)=>{k.d(ve,{E:()=>X});const X=new(k(8306).y)(oe=>oe.complete())},8996:(et,ve,k)=>{k.d(ve,{D:()=>_e});var d=k(8421),X=k(5363),F=k(9468),pe=k(8306),ue=k(2202),ge=k(576),z=k(9672);function te(Ee,Le){if(!Ee)throw new Error("Iterable cannot be null");return new pe.y(Ue=>{(0,z.f)(Ue,Le,()=>{const K=Ee[Symbol.asyncIterator]();(0,z.f)(Ue,Le,()=>{K.next().then(be=>{be.done?Ue.complete():Ue.next(be.value)})},0,!0)})})}var je=k(3670),Ie=k(8239),Oe=k(1144),Be=k(6495),he=k(2206),Ce=k(4532),qe=k(3260);function _e(Ee,Le){return Le?function Ae(Ee,Le){if(null!=Ee){if((0,je.c)(Ee))return function de(Ee,Le){return(0,d.Xf)(Ee).pipe((0,F.R)(Le),(0,X.Q)(Le))}(Ee,Le);if((0,Oe.z)(Ee))return function ne(Ee,Le){return new pe.y(Ue=>{let K=0;return Le.schedule(function(){K===Ee.length?Ue.complete():(Ue.next(Ee[K++]),Ue.closed||this.schedule())})})}(Ee,Le);if((0,Ie.t)(Ee))return function oe(Ee,Le){return(0,d.Xf)(Ee).pipe((0,F.R)(Le),(0,X.Q)(Le))}(Ee,Le);if((0,he.D)(Ee))return te(Ee,Le);if((0,Be.T)(Ee))return function G(Ee,Le){return new pe.y(Ue=>{let K;return(0,z.f)(Ue,Le,()=>{K=Ee[ue.h](),(0,z.f)(Ue,Le,()=>{let be,Y;try{({value:be,done:Y}=K.next())}catch(ie){return void Ue.error(ie)}Y?Ue.complete():Ue.next(be)},0,!0)}),()=>(0,ge.m)(null==K?void 0:K.return)&&K.return()})}(Ee,Le);if((0,qe.L)(Ee))return function Je(Ee,Le){return te((0,qe.Q)(Ee),Le)}(Ee,Le)}throw(0,Ce.z)(Ee)}(Ee,Le):(0,d.Xf)(Ee)}},8421:(et,ve,k)=>{k.d(ve,{Xf:()=>je});var d=k(655),X=k(1144),F=k(8239),de=k(8306),oe=k(3670),pe=k(2206),ne=k(4532),ue=k(6495),ge=k(3260),z=k(576),G=k(7849),te=k(8822);function je(Ae){if(Ae instanceof de.y)return Ae;if(null!=Ae){if((0,oe.c)(Ae))return function Ie(Ae){return new de.y(_e=>{const Ee=Ae[te.L]();if((0,z.m)(Ee.subscribe))return Ee.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,X.z)(Ae))return function Oe(Ae){return new de.y(_e=>{for(let Ee=0;Ee<Ae.length&&!_e.closed;Ee++)_e.next(Ae[Ee]);_e.complete()})}(Ae);if((0,F.t)(Ae))return function Be(Ae){return new de.y(_e=>{Ae.then(Ee=>{_e.closed||(_e.next(Ee),_e.complete())},Ee=>_e.error(Ee)).then(null,G.h)})}(Ae);if((0,pe.D)(Ae))return Ce(Ae);if((0,ue.T)(Ae))return function he(Ae){return new de.y(_e=>{for(const Ee of Ae)if(_e.next(Ee),_e.closed)return;_e.complete()})}(Ae);if((0,ge.L)(Ae))return function qe(Ae){return Ce((0,ge.Q)(Ae))}(Ae)}throw(0,ne.z)(Ae)}function Ce(Ae){return new de.y(_e=>{(function Je(Ae,_e){var Ee,Le,Ue,K;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,d.KL)(Ae);!(Le=yield Ee.next()).done;)if(_e.next(Le.value),_e.closed)return}catch(be){Ue={error:be}}finally{try{Le&&!Le.done&&(K=Ee.return)&&(yield K.call(Ee))}finally{if(Ue)throw Ue.error}}_e.complete()})})(Ae,_e).catch(Ee=>_e.error(Ee))})}},6451:(et,ve,k)=>{k.d(ve,{T:()=>pe});var d=k(8189),X=k(8421),F=k(515),de=k(3269),oe=k(8996);function pe(...ne){const ue=(0,de.yG)(ne),ge=(0,de._6)(ne,1/0),z=ne;return z.length?1===z.length?(0,X.Xf)(z[0]):(0,d.J)(ge)((0,oe.D)(z,ue)):F.E}},5403:(et,ve,k)=>{k.d(ve,{x:()=>X});var d=k(930);function X(de,oe,pe,ne,ue){return new F(de,oe,pe,ne,ue)}class F extends d.Lv{constructor(oe,pe,ne,ue,ge,z){super(oe),this.onFinalize=ge,this.shouldUnsubscribe=z,this._next=pe?function(G){try{pe(G)}catch(te){oe.error(te)}}:super._next,this._error=ue?function(G){try{ue(G)}catch(te){oe.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(et,ve,k)=>{k.d(ve,{U:()=>F});var d=k(4482),X=k(5403);function F(de,oe){return(0,d.e)((pe,ne)=>{let ue=0;pe.subscribe((0,X.x)(ne,ge=>{ne.next(de.call(oe,ge,ue++))}))})}},8189:(et,ve,k)=>{k.d(ve,{J:()=>F});var d=k(5577),X=k(4671);function F(de=1/0){return(0,d.z)(X.y,de)}},5577:(et,ve,k)=>{k.d(ve,{z:()=>ue});var d=k(4004),X=k(8421),F=k(4482),de=k(9672),oe=k(5403),ne=k(576);function ue(ge,z,G=1/0){return(0,ne.m)(z)?ue((te,je)=>(0,d.U)((Ie,Oe)=>z(te,Ie,je,Oe))((0,X.Xf)(ge(te,je))),G):("number"==typeof z&&(G=z),(0,F.e)((te,je)=>function pe(ge,z,G,te,je,Ie,Oe,Be){const he=[];let Ce=0,qe=0,Je=!1;const Ae=()=>{Je&&!he.length&&!Ce&&z.complete()},_e=Le=>Ce<te?Ee(Le):he.push(Le),Ee=Le=>{Ie&&z.next(Le),Ce++;let Ue=!1;(0,X.Xf)(G(Le,qe++)).subscribe((0,oe.x)(z,K=>{null==je||je(K),Ie?_e(K):z.next(K)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Ce--;he.length&&Ce<te;){const K=he.shift();Oe?(0,de.f)(z,Oe,()=>Ee(K)):Ee(K)}Ae()}catch(K){z.error(K)}}))};return ge.subscribe((0,oe.x)(z,_e,()=>{Je=!0,Ae()})),()=>{null==Be||Be()}}(te,je,ge,G)))}},5363:(et,ve,k)=>{k.d(ve,{Q:()=>de});var d=k(9672),X=k(4482),F=k(5403);function de(oe,pe=0){return(0,X.e)((ne,ue)=>{ne.subscribe((0,F.x)(ue,ge=>(0,d.f)(ue,oe,()=>ue.next(ge),pe),()=>(0,d.f)(ue,oe,()=>ue.complete(),pe),ge=>(0,d.f)(ue,oe,()=>ue.error(ge),pe)))})}},3099:(et,ve,k)=>{k.d(ve,{B:()=>oe});var d=k(8421),X=k(7579),F=k(930),de=k(4482);function oe(ne={}){const{connector:ue=(()=>new X.x),resetOnError:ge=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=ne;return te=>{let je,Ie,Oe,Be=0,he=!1,Ce=!1;const qe=()=>{null==Ie||Ie.unsubscribe(),Ie=void 0},Je=()=>{qe(),je=Oe=void 0,he=Ce=!1},Ae=()=>{const _e=je;Je(),null==_e||_e.unsubscribe()};return(0,de.e)((_e,Ee)=>{Be++,!Ce&&!he&&qe();const Le=Oe=null!=Oe?Oe:ue();Ee.add(()=>{Be--,0===Be&&!Ce&&!he&&(Ie=pe(Ae,G))}),Le.subscribe(Ee),!je&&Be>0&&(je=new F.Hp({next:Ue=>Le.next(Ue),error:Ue=>{Ce=!0,qe(),Ie=pe(Je,ge,Ue),Le.error(Ue)},complete:()=>{he=!0,qe(),Ie=pe(Je,z),Le.complete()}}),(0,d.Xf)(_e).subscribe(je))})(te)}}function pe(ne,ue,...ge){if(!0===ue)return void ne();if(!1===ue)return;const z=new F.Hp({next:()=>{z.unsubscribe(),ne()}});return ue(...ge).subscribe(z)}},9468:(et,ve,k)=>{k.d(ve,{R:()=>X});var d=k(4482);function X(F,de=0){return(0,d.e)((oe,pe)=>{pe.add(F.schedule(()=>oe.subscribe(pe),de))})}},8505:(et,ve,k)=>{k.d(ve,{b:()=>oe});var d=k(576),X=k(4482),F=k(5403),de=k(4671);function oe(pe,ne,ue){const ge=(0,d.m)(pe)||ne||ue?{next:pe,error:ne,complete:ue}:pe;return ge?(0,X.e)((z,G)=>{var te;null===(te=ge.subscribe)||void 0===te||te.call(ge);let je=!0;z.subscribe((0,F.x)(G,Ie=>{var Oe;null===(Oe=ge.next)||void 0===Oe||Oe.call(ge,Ie),G.next(Ie)},()=>{var Ie;je=!1,null===(Ie=ge.complete)||void 0===Ie||Ie.call(ge),G.complete()},Ie=>{var Oe;je=!1,null===(Oe=ge.error)||void 0===Oe||Oe.call(ge,Ie),G.error(Ie)},()=>{var Ie,Oe;je&&(null===(Ie=ge.unsubscribe)||void 0===Ie||Ie.call(ge)),null===(Oe=ge.finalize)||void 0===Oe||Oe.call(ge)}))}):de.y}},4408:(et,ve,k)=>{k.d(ve,{o:()=>oe});var d=k(727);class X extends d.w0{constructor(ne,ue){super()}schedule(ne,ue=0){return this}}const F={setInterval(pe,ne,...ue){const{delegate:ge}=F;return(null==ge?void 0:ge.setInterval)?ge.setInterval(pe,ne,...ue):setInterval(pe,ne,...ue)},clearInterval(pe){const{delegate:ne}=F;return((null==ne?void 0:ne.clearInterval)||clearInterval)(pe)},delegate:void 0};var de=k(8737);class oe extends X{constructor(ne,ue){super(ne,ue),this.scheduler=ne,this.work=ue,this.pending=!1}schedule(ne,ue=0){if(this.closed)return this;this.state=ne;const ge=this.id,z=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(z,ge,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(z,this.id,ue),this}requestAsyncId(ne,ue,ge=0){return F.setInterval(ne.flush.bind(ne,this),ge)}recycleAsyncId(ne,ue,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return ue;F.clearInterval(ue)}execute(ne,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ne,ue);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ue){let z,ge=!1;try{this.work(ne)}catch(G){ge=!0,z=G||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ue}=this,{actions:ge}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ge,this),null!=ne&&(this.id=this.recycleAsyncId(ue,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,ve,k)=>{k.d(ve,{v:()=>F});var d=k(6063);class X{constructor(oe,pe=X.now){this.schedulerActionCtor=oe,this.now=pe}schedule(oe,pe=0,ne){return new this.schedulerActionCtor(this,oe).schedule(ne,pe)}}X.now=d.l.now;class F extends X{constructor(oe,pe=X.now){super(oe,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:pe}=this;if(this._active)return void pe.push(oe);let ne;this._active=!0;do{if(ne=oe.execute(oe.state,oe.delay))break}while(oe=pe.shift());if(this._active=!1,ne){for(;oe=pe.shift();)oe.unsubscribe();throw ne}}}},4986:(et,ve,k)=>{k.d(ve,{z:()=>F,P:()=>de});var d=k(4408);const F=new(k(7565).v)(d.o),de=F},6063:(et,ve,k)=>{k.d(ve,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(et,ve,k)=>{k.d(ve,{z:()=>d});const d={setTimeout(X,F,...de){const{delegate:oe}=d;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(X,F,...de):setTimeout(X,F,...de)},clearTimeout(X){const{delegate:F}=d;return((null==F?void 0:F.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(et,ve,k)=>{k.d(ve,{h:()=>X});const X=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,ve,k)=>{k.d(ve,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,ve,k)=>{k.d(ve,{jO:()=>de,yG:()=>oe,_6:()=>pe});var d=k(576),X=k(3532);function F(ne){return ne[ne.length-1]}function de(ne){return(0,d.m)(F(ne))?ne.pop():void 0}function oe(ne){return(0,X.K)(F(ne))?ne.pop():void 0}function pe(ne,ue){return"number"==typeof F(ne)?ne.pop():ue}},8737:(et,ve,k)=>{function d(X,F){if(X){const de=X.indexOf(F);0<=de&&X.splice(de,1)}}k.d(ve,{P:()=>d})},3888:(et,ve,k)=>{function d(X){const de=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}k.d(ve,{d:()=>d})},2806:(et,ve,k)=>{k.d(ve,{x:()=>F,O:()=>de});var d=k(2416);let X=null;function F(oe){if(d.v.useDeprecatedSynchronousErrorHandling){const pe=!X;if(pe&&(X={errorThrown:!1,error:null}),oe(),pe){const{errorThrown:ne,error:ue}=X;if(X=null,ne)throw ue}}else oe()}function de(oe){d.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(et,ve,k)=>{function d(X,F,de,oe=0,pe=!1){const ne=F.schedule(function(){de(),pe?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(ne),!pe)return ne}k.d(ve,{f:()=>d})},4671:(et,ve,k)=>{function d(X){return X}k.d(ve,{y:()=>d})},1144:(et,ve,k)=>{k.d(ve,{z:()=>d});const d=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(et,ve,k)=>{k.d(ve,{D:()=>X});var d=k(576);function X(F){return Symbol.asyncIterator&&(0,d.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(et,ve,k)=>{function d(X){return"function"==typeof X}k.d(ve,{m:()=>d})},3670:(et,ve,k)=>{k.d(ve,{c:()=>F});var d=k(8822),X=k(576);function F(de){return(0,X.m)(de[d.L])}},6495:(et,ve,k)=>{k.d(ve,{T:()=>F});var d=k(2202),X=k(576);function F(de){return(0,X.m)(null==de?void 0:de[d.h])}},8239:(et,ve,k)=>{k.d(ve,{t:()=>X});var d=k(576);function X(F){return(0,d.m)(null==F?void 0:F.then)}},3260:(et,ve,k)=>{k.d(ve,{Q:()=>F,L:()=>de});var d=k(655),X=k(576);function F(oe){return(0,d.FC)(this,arguments,function*(){const ne=oe.getReader();try{for(;;){const{value:ue,done:ge}=yield(0,d.qq)(ne.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ue)}}finally{ne.releaseLock()}})}function de(oe){return(0,X.m)(null==oe?void 0:oe.getReader)}},3532:(et,ve,k)=>{k.d(ve,{K:()=>X});var d=k(576);function X(F){return F&&(0,d.m)(F.schedule)}},4482:(et,ve,k)=>{k.d(ve,{A:()=>X,e:()=>F});var d=k(576);function X(de){return(0,d.m)(null==de?void 0:de.lift)}function F(de){return oe=>{if(X(oe))return oe.lift(function(pe){try{return de(pe,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,ve,k)=>{function d(){}k.d(ve,{Z:()=>d})},7849:(et,ve,k)=>{k.d(ve,{h:()=>F});var d=k(2416),X=k(3410);function F(de){X.z.setTimeout(()=>{const{onUnhandledError:oe}=d.v;if(!oe)throw de;oe(de)})}},4532:(et,ve,k)=>{function d(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(ve,{z:()=>d})},655:(et,ve,k)=>{function de(Y,ie){var ee={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&ie.indexOf(me)<0&&(ee[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(me=Object.getOwnPropertySymbols(Y);le<me.length;le++)ie.indexOf(me[le])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[le])&&(ee[me[le]]=Y[me[le]])}return ee}function ue(Y,ie,ee,me){return new(ee||(ee=Promise))(function(ke,ft){function zt(Xt){try{Ye(me.next(Xt))}catch(Mn){ft(Mn)}}function Vt(Xt){try{Ye(me.throw(Xt))}catch(Mn){ft(Mn)}}function Ye(Xt){Xt.done?ke(Xt.value):function le(ke){return ke instanceof ee?ke:new ee(function(ft){ft(ke)})}(Xt.value).then(zt,Vt)}Ye((me=me.apply(Y,ie||[])).next())})}function he(Y){return this instanceof he?(this.v=Y,this):new he(Y)}function Ce(Y,ie,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,me=ee.apply(Y,ie||[]),ke=[];return le={},ft("next"),ft("throw"),ft("return"),le[Symbol.asyncIterator]=function(){return this},le;function ft(ln){me[ln]&&(le[ln]=function(Yt){return new Promise(function(Ir,Zt){ke.push([ln,Yt,Ir,Zt])>1||zt(ln,Yt)})})}function zt(ln,Yt){try{!function Vt(ln){ln.value instanceof he?Promise.resolve(ln.value.v).then(Ye,Xt):Mn(ke[0][2],ln)}(me[ln](Yt))}catch(Ir){Mn(ke[0][3],Ir)}}function Ye(ln){zt("next",ln)}function Xt(ln){zt("throw",ln)}function Mn(ln,Yt){ln(Yt),ke.shift(),ke.length&&zt(ke[0][0],ke[0][1])}}function Je(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ie=Y[Symbol.asyncIterator];return ie?ie.call(Y):(Y=function te(Y){var ie="function"==typeof Symbol&&Symbol.iterator,ee=ie&&Y[ie],me=0;if(ee)return ee.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(ke){ee[ke]=Y[ke]&&function(ft){return new Promise(function(zt,Vt){!function le(ke,ft,zt,Vt){Promise.resolve(Vt).then(function(Ye){ke({value:Ye,done:zt})},ft)}(zt,Vt,(ft=Y[ke](ft)).done,ft.value)})}}}k.d(ve,{_T:()=>de,mG:()=>ue,qq:()=>he,FC:()=>Ce,KL:()=>Je})},5e3:(et,ve,k)=>{k.d(ve,{deG:()=>ch,tb:()=>If,AFp:()=>gv,ip1:()=>fv,CZH:()=>pv,hGG:()=>Uk,z2F:()=>lu,sBO:()=>G0,Sil:()=>HT,_Vd:()=>Ug,EJc:()=>UT,SBq:()=>mf,qLn:()=>id,vpe:()=>No,tBr:()=>_t,XFs:()=>vt,OlP:()=>bn,zs3:()=>pa,ZZ4:()=>Y0,aQg:()=>Af,soG:()=>_v,YKP:()=>t0,h0i:()=>vf,PXZ:()=>vk,R0b:()=>Po,FiY:()=>Dt,Lbi:()=>O0,g9A:()=>R0,n_E:()=>_l,Qsj:()=>ac,FYo:()=>YE,JOm:()=>T,q3G:()=>Gt,tp0:()=>En,Rgc:()=>Ef,dDg:()=>Sf,q4F:()=>JE,GfV:()=>QE,s_b:()=>lc,ifc:()=>qt,eFA:()=>B0,G48:()=>wk,Gpc:()=>G,f3M:()=>L,X6Q:()=>tA,_c5:()=>cA,VLi:()=>_k,c2e:()=>k0,zSh:()=>Y_,wAp:()=>wt,vHH:()=>Oe,EiD:()=>nd,mCW:()=>ms,qzn:()=>gs,JVY:()=>Hu,pB0:()=>$u,eBb:()=>vh,L6k:()=>Ip,LAX:()=>Km,cg1:()=>Ht,kL8:()=>Sy,yhl:()=>Gl,dqk:()=>Bt,sIi:()=>yg,CqO:()=>VI,QGY:()=>nE,F4k:()=>LI,RDi:()=>wu,AaK:()=>ue,z3N:()=>Ao,qOj:()=>vd,TTD:()=>Hi,_Bn:()=>gf,xp6:()=>v_,uIk:()=>Qh,Gre:()=>pE,ekj:()=>uE,Suo:()=>iv,Xpm:()=>Ve,lG2:()=>$o,Yz7:()=>Yt,cJS:()=>Zt,oAB:()=>Ot,Yjl:()=>Ea,Y36:()=>vg,_UZ:()=>tE,BQk:()=>fy,ynx:()=>hy,qZA:()=>dy,TgZ:()=>cy,EpF:()=>PI,n5z:()=>Yi,Ikx:()=>bE,LFG:()=>S,$8M:()=>or,$Z:()=>FI,NdJ:()=>rE,CRH:()=>p0,oxw:()=>HI,ALo:()=>zg,lcZ:()=>l0,Hsn:()=>GI,F$t:()=>$I,Q6J:()=>Xw,iGM:()=>au,MAs:()=>Ww,CHM:()=>Sl,LSH:()=>Kl,Udp:()=>lE,YNc:()=>wI,_uU:()=>yS,Oqu:()=>cE,hij:()=>yy,Gf:()=>rv});var d=k(7579),X=k(727),F=k(8306),de=k(6451),oe=k(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=pe({__forward_ref__:pe});function G(s){return s.__forward_ref__=G,s.toString=function(){return ue(this())},s}function te(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===G}class Oe extends Error{constructor(o,l){super(function Be(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function _e(s,o){const l=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${Ce(s)} found${l}`)}function Vt(s,o){null==s&&function Ye(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nt(s){return ts(s,Fi)||ts(s,Vr)}function ts(s,o){return s.hasOwnProperty(o)?s[o]:null}function Lr(s){return s&&(s.hasOwnProperty(Fs)||s.hasOwnProperty(Ni))?s[Fs]:null}const Fi=pe({\u0275prov:pe}),Fs=pe({\u0275inj:pe}),Vr=pe({ngInjectableDef:pe}),Ni=pe({ngInjectorDef:pe});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Br;function Un(s){const o=Br;return Br=s,o}function Pi(s,o,l){const c=Nt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&vt.Optional?null:void 0!==o?o:void _e(ue(s),"Injector")}function Rn(s){return{toString:s}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const at="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=at||"undefined"!=typeof global&&global||Et||gr,Sr={},pt=[],Ps=pe({\u0275cmp:pe}),j=pe({\u0275dir:pe}),q=pe({\u0275pipe:pe}),B=pe({\u0275mod:pe}),H=pe({\u0275fac:pe}),W=pe({__NG_ELEMENT_ID__:pe});let xe=0;function Ve(s){return Rn(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||pt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||pt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return c.id+=xe++,c.inputs=Li(s.inputs,l),c.outputs=Li(s.outputs),g&&g.forEach(E=>E(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(nn):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Wt):null,c})}function nn(s){return jn(s)||function Tr(s){return s[j]||null}(s)}function Wt(s){return function rs(s){return s[q]||null}(s)}const Kn={};function Ot(s){return Rn(()=>{const o={type:s.type,bootstrap:s.bootstrap||pt,declarations:s.declarations||pt,imports:s.imports||pt,exports:s.exports||pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Kn[s.id]=s.type),o})}function Li(s,o){if(null==s)return Sr;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,o&&(o[h]=g)}return l}const $o=Ve;function Ea(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jn(s){return s[Ps]||null}function Hn(s,o){const l=s[B]||null;if(!l&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return l}function _r(s){return Array.isArray(s)&&"object"==typeof s[1]}function Kr(s){return Array.isArray(s)&&!0===s[1]}function Ia(s){return 0!=(8&s.flags)}function Ic(s){return 2==(2&s.flags)}function Ui(s){return 1==(1&s.flags)}function ji(s){return null!==s.template}function _u(s){return 0!=(512&s[2])}function vr(s,o){return s.hasOwnProperty(H)?s[H]:null}class ao{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Hi(){return Wo}function Wo(s){return s.type.prototype.ngOnChanges&&(s.setInput=sh),Fc}function Fc(){const s=lo(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Sr)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function sh(s,o,l,c){const h=lo(s)||function Ko(s,o){return s[_i]=o}(s,{previous:Sr,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];g[E]=new ao(D&&D.currentValue,o,v===Sr),s[c]=o}Hi.ngInherit=!0;const _i="__ngSimpleChanges__";function lo(s){return s[_i]||null}let Yo;function wu(s){Yo=s}function sn(s){return!!s.listen}const Ta={createRenderer:(s,o)=>function $i(){return void 0!==Yo?Yo:"undefined"!=typeof document?document:void 0}()};function Qt(s){for(;Array.isArray(s);)s=s[0];return s}function Hs(s,o){return Qt(o[s])}function rr(s,o){return Qt(o[s.index])}function wn(s,o){return s.data[o]}function Gi(s,o){return s[o]}function ir(s,o){const l=o[s];return _r(l)?l:l[0]}function co(s){return 4==(4&s[2])}function os(s){return 128==(128&s[2])}function yi(s,o){return null==o?null:s[o]}function zi(s){s[18]=0}function Qo(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const mt={lFrame:Lc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ra(){return mt.bindingsEnabled}function Se(){return mt.lFrame.lView}function kt(){return mt.lFrame.tView}function Sl(s){return mt.lFrame.contextLView=s,s[8]}function pn(){let s=Xo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Xo(){return mt.lFrame.currentTNode}function Yr(s,o){const l=mt.lFrame;l.currentTNode=s,l.isParent=o}function Oa(){return mt.lFrame.isParent}function Su(){mt.lFrame.isParent=!1}function ka(){return mt.isInCheckNoChangesMode}function Al(s){mt.isInCheckNoChangesMode=s}function $s(){return mt.lFrame.bindingIndex++}function vi(s){const o=mt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Au(s,o){const l=mt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Na(o)}function Na(s){mt.lFrame.currentDirectiveIndex=s}function Mu(){return mt.lFrame.currentQueryIndex}function Pa(s){mt.lFrame.currentQueryIndex=s}function mp(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function xu(s,o,l){if(l&vt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&vt.Host||(h=mp(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=mt.lFrame=La();return c.currentTNode=o,c.lView=s,!0}function ta(s){const o=La(),l=s[1];mt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function La(){const s=mt.lFrame,o=null===s?null:s.child;return null===o?Lc(s):o}function Lc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function na(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Vc=na;function ra(){const s=na();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yn(){return mt.lFrame.selectedIndex}function Wi(s){mt.lFrame.selectedIndex=s}function Dn(){const s=mt.lFrame;return wn(s.tView,s.selectedIndex)}function Uc(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(l,x)}}function Va(s,o,l){Qn(s,o,3,l)}function ls(s,o,l,c){(3&s[2])===l&&Qn(s,o,l,c)}function ia(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Qn(s,o,l,c){const g=null!=c?c:-1,v=o.length-1;let E=0;for(let D=void 0!==c?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=c&&E>=c)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(uh(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function uh(s,o,l,c){const h=l[c]<0,g=l[c+1],E=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Rl{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function ze(s,o,l){const c=sn(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],E=l[h++],D=l[h++];c?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=l[++h];sr(v)?c&&s.setProperty(o,v,E):c?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function jt(s){return 3===s||4===s||6===s}function sr(s){return 64===s.charCodeAt(0)}function gn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Ou(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Ou(s,o,l,c,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function Hc(s){return-1!==s}function Ki(s){return 32767&s}function hn(s,o){let l=function ku(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let Ua=!0;function bi(s){const o=Ua;return Ua=s,o}let Fu=0;function mn(s,o){const l=Ha(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,zs(c.data,s),zs(o,null),zs(c.blueprint,null));const h=Zi(s,o),g=s.injectorIndex;if(Hc(h)){const v=Ki(h),E=hn(h,o),D=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|D[v+A]}return o[g+8]=h,g}function zs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ha(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Zi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function qs(s,o,l){!function ja(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(W)&&(c=l[W]),null==c&&(c=l[W]=Fu++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function us(s,o,l){if(l&vt.Optional)return s;_e(o,"NodeInjector")}function $a(s,o,l,c){if(l&vt.Optional&&void 0===c&&(c=null),0==(l&(vt.Self|vt.Host))){const h=s[9],g=Un(void 0);try{return h?h.get(o,c,l&vt.Optional):Pi(o,c,l&vt.Optional)}finally{Un(g)}}return us(c,o,l)}function go(s,o,l,c=vt.Default,h){if(null!==s){const g=function cs(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(W)?s[W]:void 0;return"number"==typeof o?o>=0?255&o:Ga:o}(l);if("function"==typeof g){if(!xu(o,s,c))return c&vt.Host?us(h,l,c):$a(o,l,c,h);try{const v=g(c);if(null!=v||c&vt.Optional)return v;_e(l)}finally{Vc()}}else if("number"==typeof g){let v=null,E=Ha(s,o),D=-1,A=c&vt.Host?o[16][6]:null;for((-1===E||c&vt.SkipSelf)&&(D=-1===E?Zi(s,o):o[E+8],-1!==D&&In(c,!1)?(v=o[1],E=Ki(D),o=hn(D,o)):E=-1);-1!==E;){const x=o[1];if(Jn(g,E,x.data)){const N=za(E,o,l,v,c,A);if(N!==mo)return N}D=o[E+8],-1!==D&&In(c,o[1].data[E+8]===A)&&Jn(g,E,o)?(v=x,E=Ki(D),o=hn(D,o)):E=-1}}}return $a(o,l,c,h)}const mo={};function Ga(){return new yo(pn(),Se())}function za(s,o,l,c,h,g){const v=o[1],E=v.data[s+8],x=wi(E,v,l,null==c?Ic(E)&&Ua:c!=v&&0!=(3&E.type),h&vt.Host&&g===E);return null!==x?_o(o,v,x,E):mo}function wi(s,o,l,c,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,x=g>>20,$=h?E+x:s.directiveEnd;for(let J=c?E:E+x;J<$;J++){const ye=v[J];if(J<D&&l===ye||J>=D&&ye.type===l)return J}if(h){const J=v[D];if(J&&ji(J)&&J.type===l)return D}return null}function _o(s,o,l,c){let h=s[l];const g=o.data;if(function jc(s){return s instanceof Rl}(h)){const v=h;v.resolving&&function qe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${l}`)}(Ce(g[l]));const E=bi(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Un(v.injectImpl):null;xu(s,c,vt.Default);try{h=s[l]=v.factory(void 0,g,s,c),o.firstCreatePass&&l>=c.directiveStart&&function _p(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=Wo(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&Un(D),bi(E),v.resolving=!1,Vc()}}return h}function Jn(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function In(s,o){return!(s&vt.Self||s&vt.Host&&o)}class yo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return go(this._tNode,this._lView,o,c,l)}}function Yi(s){return Rn(()=>{const o=s.prototype.constructor,l=o[H]||on(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[H]||on(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function on(s){return je(s)?()=>{const o=on(te(s));return o&&o()}:vr(s)}function or(s){return function Qr(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(jt(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(pn(),s)}const Ws="__parameters__";function Sn(s,o,l){return Rn(()=>{const c=function ar(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,A,x){const N=D.hasOwnProperty(Ws)?D[Ws]:Object.defineProperty(D,Ws,{value:[]})[Ws];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class bn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ch=new bn("AnalyzeForEntryComponents");function Jr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),Jr(c,o)):o!==s&&o.push(c)}return o}function Xr(s,o){s.forEach(l=>Array.isArray(l)?Xr(l,o):o(l))}function oa(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function bo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Pl(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function Fn(s,o,l){let c=Ci(s,o);return c>=0?s[1|c]=l:(c=~c,function wo(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Zs(s,o){const l=Ci(s,o);if(l>=0)return s[1|l]}function Ci(s,o){return function Bl(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const g=c+(h-c>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:c=g+1}return~(h<<l)}(s,o,1)}const Ya={},ei="__NG_DI_FLAG__",Eo="ngTempTokenPath",ph=/\n/gm,Qa="__source",Uu=pe({provide:String,useValue:pe});let Ys;function Co(s){const o=Ys;return Ys=s,o}function C(s,o=vt.Default){if(void 0===Ys)throw new Oe(203,"");return null===Ys?Pi(s,void 0,o):Ys.get(s,o&vt.Optional?null:void 0,o)}function S(s,o=vt.Default){return(function xn(){return Br}()||C)(te(s),o)}const L=S;function Q(s){const o=[];for(let l=0;l<s.length;l++){const c=te(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Oe(900,"");let h,g=vt.Default;for(let v=0;v<c.length;v++){const E=c[v],D=Me(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(S(h,g))}else o.push(S(c))}return o}function se(s,o){return s[ei]=o,s.prototype[ei]=o,s}function Me(s){return s[ei]}const _t=se(Sn("Inject",s=>({token:s})),-1),Dt=se(Sn("Optional"),8),En=se(Sn("SkipSelf"),4);let So;function Ja(s){var o;return(null===(o=function Zc(){if(void 0===So&&(So=null,Bt.trustedTypes))try{So=Bt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return So}())||void 0===o?void 0:o.createHTML(s))||s}class To{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yh extends To{getTypeName(){return"HTML"}}class Dp extends To{getTypeName(){return"Style"}}class ju extends To{getTypeName(){return"Script"}}class qm extends To{getTypeName(){return"URL"}}class Wm extends To{getTypeName(){return"ResourceURL"}}function Ao(s){return s instanceof To?s.changingThisBreaksApplicationSecurity:s}function gs(s,o){const l=Gl(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Gl(s){return s instanceof To&&s.getTypeName()||null}function Hu(s){return new yh(s)}function Ip(s){return new Dp(s)}function vh(s){return new ju(s)}function Km(s){return new qm(s)}function $u(s){return new Wm(s)}class Tp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ja(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Ap{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ja(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=Ja(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Jc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ms(s){return(s=String(s)).match(Jc)||s.match(xp)?s:"unsafe:"+s}function _s(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Xa(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const Rp=_s("area,br,col,hr,img,wbr"),Xc=_s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ed=_s("rp,rt"),wh=Xa(Rp,Xa(Xc,_s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xa(ed,_s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xa(ed,Xc)),Gu=_s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eh=_s("srcset"),ql=Xa(Gu,Eh,_s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zm=_s("script,style,template");class Wl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!wh.hasOwnProperty(l))return this.sanitizedSomething=!0,!Zm.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),v=g.name,E=v.toLowerCase();if(!ql.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;Gu[E]&&(D=ms(D)),Eh[E]&&(s=D,D=(s=String(s)).split(",").map(o=>ms(o.trim())).join(", ")),this.buf.push(" ",v,'="',Ch(D),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();wh.hasOwnProperty(l)&&!Rp.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Ch(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const zu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ym=/([^\#-~ |!])/g;function Ch(s){return s.replace(/&/g,"&amp;").replace(zu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ym,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tl;function nd(s,o){let l=null;try{tl=tl||function Sp(s){const o=new Ap(s);return function Mp(){try{return!!(new window.DOMParser).parseFromString(Ja(""),"text/html")}catch(s){return!1}}()?new Tp(o):o}(s);let c=o?String(o):"";l=tl.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=l.innerHTML,l=tl.getInertBodyElement(c)}while(c!==g);return Ja((new Wl).sanitizeChildren(Dh(l)||l))}finally{if(l){const c=Dh(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Dh(s){return"content"in s&&function Ih(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Gt=(()=>((Gt=Gt||{})[Gt.NONE=0]="NONE",Gt[Gt.HTML=1]="HTML",Gt[Gt.STYLE=2]="STYLE",Gt[Gt.SCRIPT=3]="SCRIPT",Gt[Gt.URL=4]="URL",Gt[Gt.RESOURCE_URL=5]="RESOURCE_URL",Gt))();function Kl(s){const o=function ua(){const s=Se();return s&&s[12]}();return o?o.sanitize(Gt.URL,s)||"":gs(s,"URL")?Ao(s):ms(he(s))}const Th="__ngContext__";function ur(s,o){s[Th]=o}function rd(s){const o=function rl(s){return s[Th]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ni(s){return s.ngOriginalError}function i_(s,...o){s.error(...o)}class id{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=function Up(s){return s&&s.ngErrorLogger||i_}(o);c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&ni(o);for(;l&&ni(l);)l=ni(l);return l||null}}const o_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function ys(s){return s instanceof Function?s():s}var T=(()=>((T=T||{})[T.Important=1]="Important",T[T.DashCase=2]="DashCase",T))();function Z(s,o){return undefined(s,o)}function Ze(s){const o=s[3];return Kr(o)?o[3]:o}function An(s){return Ku(s[13])}function ii(s){return Ku(s[4])}function Ku(s){for(;null!==s&&!Kr(s);)s=s[4];return s}function ca(s,o,l,c,h){if(null!=c){let g,v=!1;Kr(c)?g=c:_r(c)&&(v=!0,c=c[0]);const E=Qt(c);0===s&&null!==l?null==h?d_(o,l,E):vs(o,l,E,h||null,!0):1===s&&null!==l?vs(o,l,E,h||null,!0):2===s?function g_(s,o,l){const c=da(s,o);c&&function RD(s,o,l,c){sn(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Zu(s,o,l,c,h){const g=l[7];g!==Qt(l)&&ca(o,s,c,g,h);for(let E=10;E<l.length;E++){const D=l[E];Kp(D[1],D,s,o,c,g)}}(o,s,g,l,h)}}function ad(s,o,l){if(sn(s))return s.createElement(o,l);{const c=null!==l?function bu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function Qb(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Qo(h,-1)),l.splice(c,1)}function l_(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&Qb(h,c),o>0&&(s[l-1][4]=c[4]);const g=bo(s,10+o);!function cr(s,o){Kp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function u_(s,o){if(!(256&o[2])){const l=o[11];sn(l)&&l.destroyNode&&Kp(s,o,l,3,null,null),function Nh(s){let o=s[13];if(!o)return c_(s[1],s);for(;o;){let l=null;if(_r(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)_r(o)&&c_(o[1],o),o=o[3];null===o&&(o=s),_r(o)&&c_(o[1],o),l=o&&o[4]}o=l}}(o)}}function c_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Xb(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Rl)){const g=l[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Jb(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):Qt(o[v]),D=c[h=l[g+2]],A=l[g+3];"boolean"==typeof A?E.removeEventListener(l[g],D,A):A>=0?c[h=A]():c[h=-A].unsubscribe(),g+=2}else{const v=c[h=l[g+1]];l[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&sn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Kr(o[3])){l!==o[3]&&Qb(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function qp(s,o,l){return function xD(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return rr(c,l)}(s,o.parent,l)}function vs(s,o,l,c,h){sn(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function d_(s,o,l){sn(s)?s.appendChild(o,l):o.appendChild(l)}function ew(s,o,l,c,h){null!==c?vs(s,o,l,c,h):d_(s,o,l)}function da(s,o){return sn(s)?s.parentNode(o):o.parentNode}function tw(s,o,l){return h_(s,o,l)}let h_=function nw(s,o,l){return 40&s.type?rr(s,l):null};function Wp(s,o,l,c){const h=qp(s,c,o),g=o[11],E=tw(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)ew(g,h,l[D],E,!1);else ew(g,h,l,E,!1)}function ld(s,o){if(null!==o){const l=o.type;if(3&l)return rr(o,s);if(4&l)return p_(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return ld(s,c);{const h=s[o.index];return Kr(h)?p_(-1,h):Qt(h)}}if(32&l)return Z(o,s)()||Qt(s[o.index]);{const c=iw(s,o);return null!==c?Array.isArray(c)?c[0]:ld(Ze(s[16]),c):ld(s,o.next)}}return null}function iw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function p_(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return ld(c,h)}return o[7]}function m_(s,o,l,c,h,g,v){for(;null!=l;){const E=c[l.index],D=l.type;if(v&&0===o&&(E&&ur(Qt(E),c),l.flags|=4),64!=(64&l.flags))if(8&D)m_(s,o,l.child,c,h,g,!1),ca(o,s,h,E,g);else if(32&D){const A=Z(l,c);let x;for(;x=A();)ca(o,s,h,x,g);ca(o,s,h,E,g)}else 16&D?__(s,o,c,l,h,g):ca(o,s,h,E,g);l=v?l.projectionNext:l.next}}function Kp(s,o,l,c,h,g){m_(l,c,s.firstChild,o,h,g,!1)}function __(s,o,l,c,h,g){const v=l[16],D=v[6].projection[c.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)ca(o,s,h,D[A],g);else m_(s,o,D,v[3],h,g,!0)}function ow(s,o,l){sn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Zp(s,o,l){sn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function aw(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}l=h+1}}const lw="ng-template";function ud(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==aw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function al(s){return 4===s.type&&s.value!==lw}function uw(s,o,l){return o===(4!==s.type||l?s.value:lw)}function si(s,o,l){let c=4;const h=s.attrs||[],g=function dw(s){for(let o=0;o<s.length;o++)if(jt(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&c){if(c=2|1&c,""!==D&&!uw(s,D,l)||""===D&&1===o.length){if(xr(c))return!1;v=!0}}else{const A=8&c?D:o[++E];if(8&c&&null!==s.attrs){if(!ud(s.attrs,A,l)){if(xr(c))return!1;v=!0}continue}const N=kD(8&c?"class":D,h,al(s),l);if(-1===N){if(xr(c))return!1;v=!0;continue}if(""!==A){let $;$=N>g?"":h[N+1].toLowerCase();const J=8&c?$:null;if(J&&-1!==aw(J,A,0)||2&c&&A!==$){if(xr(c))return!1;v=!0}}}}else{if(!v&&!xr(c)&&!xr(D))return!1;if(v&&xr(D))continue;v=!1,c=D|1&c}}return xr(c)||v}function xr(s){return 0==(1&s)}function kD(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function hw(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function xo(s,o,l=!1){for(let c=0;c<o.length;c++)if(si(s,o[c],l))return!0;return!1}function fw(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function y_(s,o){return s?":not("+o.trim()+")":o}function pw(s){let o=s[0],l=1,c=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!xr(v)&&(o+=y_(g,h),h=""),c=v,g=g||!xr(c);l++}return""!==h&&(o+=y_(g,h)),o}const It={};function v_(s){b_(kt(),Se(),Yn()+s,ka())}function b_(s,o,l,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Va(o,g,l)}else{const g=s.preOrderHooks;null!==g&&ls(o,g,0,l)}Wi(l)}function Ph(s,o){return s<<17|o<<2}function Ro(s){return s>>17&32767}function Lh(s){return 2|s}function fa(s){return(131068&s)>>2}function Vh(s,o){return-131069&s|o<<2}function Yp(s){return 1|s}function M_(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],g=l[c+1];if(-1!==g){const v=s.data[g];Pa(h),v.contentQueries(2,o[g],g)}}}function jh(s,o,l,c,h,g,v,E,D,A){const x=o.blueprint.slice();return x[0]=h,x[2]=140|c,zi(x),x[3]=x[15]=s,x[8]=l,x[10]=v||s&&s[10],x[11]=E||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Yu(s,o,l,c,h){let g=s.data[o];if(null===g)g=function Hh(s,o,l,c,h){const g=Xo(),v=Oa(),D=s.data[o]=function HD(s,o,l,c,h,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,c,h),function Tu(){return mt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const v=function ho(){const s=mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Yr(g,!0),g}function Xl(s,o,l,c){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function ig(s,o,l){ta(o);try{const c=s.viewQuery;null!==c&&q_(1,c,l);const h=s.template;null!==h&&Gh(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&M_(s,o),s.staticViewQueries&&q_(2,s.viewQuery,l);const g=s.components;null!==g&&function x_(s,o){for(let l=0;l<o.length;l++)tu(s,o[l])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ra()}}function eu(s,o,l,c){const h=o[2];if(256==(256&h))return;ta(o);const g=ka();try{zi(o),function Fa(s){return mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Gh(s,o,l,2,c);const v=3==(3&h);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&Va(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ls(o,A,0,null),ia(o,0)}if(function KD(s){for(let o=An(s);null!==o;o=ii(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],g=h[3];0==(1024&h[2])&&Qo(g,1),h[2]|=1024}}}(o),function j_(s){for(let o=An(s);null!==o;o=ii(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];os(c)&&eu(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&M_(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&Va(o,A)}else{const A=s.contentHooks;null!==A&&ls(o,A,1),ia(o,1)}!function jD(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)Wi(~h);else{const g=h,v=l[++c],E=l[++c];Au(v,g),E(2,o[g])}}}finally{Wi(-1)}}(s,o);const E=s.components;null!==E&&function WR(s,o){for(let l=0;l<o.length;l++)Rw(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&q_(2,D,c),!g)if(v){const A=s.viewCheckHooks;null!==A&&Va(o,A)}else{const A=s.viewHooks;null!==A&&ls(o,A,2),ia(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Qo(o[3],-1))}finally{ra()}}function $h(s,o,l,c){const h=o[10],g=!ka(),v=co(o);try{g&&!v&&h.begin&&h.begin(),v&&ig(s,o,c),eu(s,o,l,c)}finally{g&&!v&&h.end&&h.end()}}function Gh(s,o,l,c,h){const g=Yn(),v=2&c;try{Wi(-1),v&&o.length>20&&b_(s,o,20,ka()),l(c,h)}finally{Wi(g)}}function Qu(s,o,l){if(Ia(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Ju(s,o,l){!Ra()||(function QR(s,o,l,c){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||mn(l,o),ur(c,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],A=ji(D);A&&qD(o,l,D);const x=_o(o,s,E,l);ur(x,o),null!==v&&WD(0,E-h,x,D,0,v),A&&(ir(l.index,o)[8]=x)}}(s,o,l,rr(l,o)),128==(128&l.flags)&&function GD(s,o,l){const c=l.directiveStart,h=l.directiveEnd,v=l.index,E=function xl(){return mt.lFrame.currentDirectiveIndex}();try{Wi(v);for(let D=c;D<h;D++){const A=s.data[D],x=o[D];Na(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&L_(A,x)}}finally{Wi(-1),Na(E)}}(s,o,l))}function R_(s,o,l=rr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function sg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=zh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function zh(s,o,l,c,h,g,v,E,D,A){const x=20+c,N=x+h,$=function O_(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:It);return l}(x,N),J="function"==typeof A?A():A;return $[1]={type:s,blueprint:$,template:l,queries:null,viewQuery:E,declTNode:o,data:$.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function og(s,o,l,c){const h=Fw(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&W_(s).push(c,h.length-1))}function P_(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function Ii(s,o,l,c,h,g,v,E){const D=rr(o,l);let x,A=o.inputs;!E&&null!=A&&(x=A[c])?(dg(s,l,x,c,h),Ic(o)&&function ko(s,o){const l=ir(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function Iw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,sn(g)?g.setProperty(D,c,h):sr(c)||(D.setProperty?D.setProperty(c,h):D[c]=h))}function Tw(s,o,l,c){let h=!1;if(Ra()){const g=function zD(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];xo(l,v.selectors,!1)&&(h||(h=[]),qs(mn(l,o),s,v.type),ji(v)?(V_(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==g){h=!0,Mw(l,s.data.length,g.length);for(let x=0;x<g.length;x++){const N=g[x];N.providersResolver&&N.providersResolver(N)}let E=!1,D=!1,A=Xl(s,o,g.length,null);for(let x=0;x<g.length;x++){const N=g[x];l.mergedAttrs=gn(l.mergedAttrs,N.hostAttrs),B_(s,l,o,A,N),lg(A,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const $=N.type.prototype;!E&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),A++}!function Dw(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let A=o.directiveStart;A<c;A++){const x=h[A],N=x.inputs,$=null===g||al(o)?null:xw(N,g);v.push($),E=P_(N,A,E),D=P_(x.outputs,A,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,l)}v&&function Aw(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Oe(-301,!1);c.push(o[h],g)}}}(l,c,v)}return l.mergedAttrs=gn(l.mergedAttrs,l.attrs),h}function $D(s,o,l,c,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function YR(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(c,h,v)}}function L_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function V_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function lg(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;ji(o)&&(l[""]=s)}}function Mw(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function B_(s,o,l,c,h){s.data[c]=h;const g=h.factory||(h.factory=vr(h.type)),v=new Rl(g,ji(h),null);s.blueprint[c]=v,l[c]=v,$D(s,o,0,c,Xl(s,l,h.hostVars,It),h)}function qD(s,o,l){const c=rr(o,s),h=sg(l),g=s[10],v=pd(s,jh(s,h,null,l.onPush?64:16,c,o,g,g.createRenderer(c,l),null,null));s[o.index]=v}function ll(s,o,l,c,h,g){const v=rr(s,o);!function ug(s,o,l,c,h,g,v){if(null==g)sn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?he(g):v(g,c||"",h);sn(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,g,s.value,l,c,h)}function WD(s,o,l,c,h,g){const v=g[o];if(null!==v){const E=c.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],N=v[D++];null!==E?c.setInput(l,N,A,x):l[x]=N}}}function xw(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function U_(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function Rw(s,o){const l=ir(o,s);if(os(l)){const c=l[1];80&l[2]?eu(c,l,c.template,l[8]):l[5]>0&&H_(l)}}function H_(s){for(let c=An(s);null!==c;c=ii(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];eu(v,g,v.template,g[8])}else g[5]>0&&H_(g)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=ir(l[c],s);os(h)&&h[5]>0&&H_(h)}}function tu(s,o){const l=ir(o,s),c=l[1];(function ZD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),ig(c,l,l[8])}function pd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function $_(s){for(;s;){s[2]|=64;const o=Ze(s);if(_u(s)&&!o)return s;s=o}return null}function z_(s,o,l){const c=o[10];c.begin&&c.begin();try{eu(s,o,s.template,l)}catch(h){throw JD(o,h),h}finally{c.end&&c.end()}}function gd(s){!function cg(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=rd(l),h=c[1];$h(h,c,h.template,l)}}(s[8])}function q_(s,o,l){Pa(0),o(s,l)}const QD=(()=>Promise.resolve(null))();function Fw(s){return s[7]||(s[7]=[])}function W_(s){return s.cleanup||(s.cleanup=[])}function JD(s,o){const l=s[9],c=l?l.get(id,null):null;c&&c.handleError(o)}function dg(s,o,l,c,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,h,c,E):D[E]=h}}function ul(s,o,l){const c=Hs(o,s);!function od(s,o,l){sn(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function qh(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=ge(h,E):2==g&&(c=ge(c,E+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const K_=new bn("INJECTOR",-1);class Z_{get(o,l=Ya){if(l===Ya){const c=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw c.name="NullInjectorError",c}return l}}const Y_=new bn("Set Injector scope."),_d={},eI={};let Q_;function hg(){return void 0===Q_&&(Q_=new Z_),Q_}function J_(s,o=null,l=null,c){const h=Lw(s,o,l,c);return h._resolveInjectorDefTypes(),h}function Lw(s,o=null,l=null,c){return new Vw(s,l,o||hg(),c)}class Vw{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Xr(l,E=>this.processProvider(E,o,l)),Xr([o],E=>this.processInjectorType(E,[],g)),this.records.set(K_,yd(void 0,this));const v=this.records.get(Y_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Ya,c=vt.Default){this.assertNotDestroyed();const h=Co(this),g=Un(void 0);try{if(!(c&vt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function nO(s){return"function"==typeof s||"object"==typeof s&&s instanceof bn}(o)&&Nt(o);E=D&&this.injectableDefInScope(D)?yd(X_(o),_d):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&vt.Self?hg():this.parent).get(o,l=c&vt.Optional&&l===Ya?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Eo]=v[Eo]||[]).unshift(ue(o)),h)throw v;return function $e(s,o,l,c){const h=s[Eo];throw o[Qa]&&h.unshift(o[Qa]),s.message=function lt(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(ph,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Eo]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Un(g),Co(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ue(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,l,c){if(!(o=te(o)))return!1;let h=Lr(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==c.indexOf(v);if(void 0!==g&&(h=Lr(g)),null==h)return!1;if(null!=h.imports&&!E){let x;c.push(v);try{Xr(h.imports,N=>{this.processInjectorType(N,l,c)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:$,providers:J}=x[N];Xr(J,ye=>this.processProvider(ye,$,J||pt))}}this.injectorDefTypes.add(v);const D=vr(v)||(()=>new v);this.records.set(v,yd(D,_d));const A=h.providers;if(null!=A&&!E){const x=o;Xr(A,N=>this.processProvider(N,x,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,c){let h=Wh(o=te(o))?o:te(o&&o.provide);const g=function tI(s,o,l){return ty(s)?yd(void 0,s.useValue):yd(ey(s),_d)}(o);if(Wh(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=yd(void 0,_d,!0),v.factory=()=>Q(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===_d&&(l.value=eI,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ny(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=te(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function X_(s){const o=Nt(s),l=null!==o?o.factory:vr(s);if(null!==l)return l;if(s instanceof bn)throw new Oe(204,!1);if(s instanceof Function)return function Bw(s){const o=s.length;if(o>0)throw Pl(o,"?"),new Oe(204,!1);const l=function zr(s){const o=s&&(s[Fi]||s[Vr]);if(o){const l=function pr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Oe(204,!1)}function ey(s,o,l){let c;if(Wh(s)){const h=te(s);return vr(h)||X_(h)}if(ty(s))c=()=>te(s.useValue);else if(function eO(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Q(s.deps||[]));else if(function XR(s){return!(!s||!s.useExisting)}(s))c=()=>S(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function tO(s){return!!s.deps}(s))return vr(h)||X_(h);c=()=>new h(...Q(s.deps))}return c}function yd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function ty(s){return null!==s&&"object"==typeof s&&Uu in s}function Wh(s){return"function"==typeof s}let pa=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return J_({name:""},c,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return J_({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Ya,s.NULL=new Z_,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>S(K_)}),s.__NG_ELEMENT_ID__=-1,s})();function Gw(s,o){Uc(rd(s)[1],pn())}function vd(s){let o=function zw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(ji(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=dl(s.inputs),v.declaredInputs=dl(s.declaredInputs),v.outputs=dl(s.outputs);const E=h.hostBindings;E&&ay(s,E);const D=h.viewQuery,A=h.contentQueries;if(D&&uI(s,D),A&&oO(s,A),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),ji(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===vd&&(l=!1)}}o=Object.getPrototypeOf(o)}!function _g(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=gn(h.hostAttrs,l=gn(l,h.hostAttrs))}}(c)}function dl(s){return s===Sr?{}:s===pt?[]:s}function uI(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function oO(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,g)=>{o(c,h,g),l(c,h,g)}:o}function ay(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let ga=null;function nu(){if(!ga){const s=Bt.Symbol;if(s&&s.iterator)ga=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ga=c)}}}return ga}function yg(s){return!!Zh(s)&&(Array.isArray(s)||!(s instanceof Map)&&nu()in s)}function Zh(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function oi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Qh(s,o,l,c){const h=Se();return oi(h,$s(),o)&&(kt(),ll(Dn(),h,s,o,l,c)),Qh}function Xh(s,o,l,c){return oi(s,$s(),l)?o+he(l)+c:It}function wI(s,o,l,c,h,g,v,E){const D=Se(),A=kt(),x=s+20,N=A.firstCreatePass?function cO(s,o,l,c,h,g,v,E,D){const A=o.consts,x=Yu(o,s,4,v||null,yi(A,E));Tw(o,l,x,yi(A,D)),Uc(o,x);const N=x.tViews=zh(2,x,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),N.queries=o.queries.embeddedTView(x)),x}(x,A,D,o,l,c,h,g,v):A.data[x];Yr(N,!1);const $=D[11].createComment("");Wp(A,D,$,N),ur($,D),pd(D,D[x]=U_($,D,$,N)),Ui(N)&&Ju(A,D,N),null!=v&&R_(D,N,E)}function Ww(s){return Gi(function Tl(){return mt.lFrame.contextLView}(),20+s)}function vg(s,o=vt.Default){const l=Se();return null===l?S(s,o):go(pn(),l,te(s),o)}function FI(){throw new Error("invalid")}function Xw(s,o,l){const c=Se();return oi(c,$s(),o)&&Ii(kt(),Dn(),c,s,o,c[11],l,!1),Xw}function eE(s,o,l,c,h){const v=h?"class":"style";dg(s,l,o.inputs[v],v,c)}function cy(s,o,l,c){const h=Se(),g=kt(),v=20+s,E=h[11],D=h[v]=ad(E,o,function Bc(){return mt.lFrame.currentNamespace}()),A=g.firstCreatePass?function AO(s,o,l,c,h,g,v){const E=o.consts,A=Yu(o,s,2,h,yi(E,g));return Tw(o,l,A,yi(E,v)),null!==A.attrs&&qh(A,A.attrs,!1),null!==A.mergedAttrs&&qh(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,h,0,o,l,c):g.data[v];Yr(A,!0);const x=A.mergedAttrs;null!==x&&ze(E,D,x);const N=A.classes;null!==N&&Zp(E,D,N);const $=A.styles;return null!==$&&ow(E,D,$),64!=(64&A.flags)&&Wp(g,h,D,A),0===function Il(){return mt.lFrame.elementDepthCount}()&&ur(D,h),function xa(){mt.lFrame.elementDepthCount++}(),Ui(A)&&(Ju(g,h,A),Qu(g,A,h)),null!==c&&R_(h,A),cy}function dy(){let s=pn();Oa()?Su():(s=s.parent,Yr(s,!1));const o=s;!function Cu(){mt.lFrame.elementDepthCount--}();const l=kt();return l.firstCreatePass&&(Uc(l,s),Ia(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ru(s){return 0!=(16&s.flags)}(o)&&eE(l,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yp(s){return 0!=(32&s.flags)}(o)&&eE(l,o,Se(),o.stylesWithoutHost,!1),dy}function tE(s,o,l,c){return cy(s,o,l,c),dy(),tE}function hy(s,o,l){const c=Se(),h=kt(),g=s+20,v=h.firstCreatePass?function MO(s,o,l,c,h){const g=o.consts,v=yi(g,c),E=Yu(o,s,8,"ng-container",v);return null!==v&&qh(E,v,!0),Tw(o,l,E,yi(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,c,o,l):h.data[g];Yr(v,!0);const E=c[g]=c[11].createComment("");return Wp(h,c,E,v),ur(E,c),Ui(v)&&(Ju(h,c,v),Qu(h,v,c)),null!=l&&R_(c,v),hy}function fy(){let s=pn();const o=kt();return Oa()?Su():(s=s.parent,Yr(s,!1)),o.firstCreatePass&&(Uc(o,s),Ia(s)&&o.queries.elementEnd(s)),fy}function PI(){return Se()}function nE(s){return!!s&&"function"==typeof s.then}function LI(s){return!!s&&"function"==typeof s.subscribe}const VI=LI;function rE(s,o,l,c){const h=Se(),g=kt(),v=pn();return function UI(s,o,l,c,h,g,v,E){const D=Ui(c),x=s.firstCreatePass&&W_(s),N=o[8],$=Fw(o);let J=!0;if(3&c.type||E){const Ge=rr(c,o),Xe=E?E(Ge):Ge,Te=$.length,yt=E?$t=>E(Qt($t[c.index])):c.index;if(sn(l)){let $t=null;if(!E&&D&&($t=function xO(s,o,l,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===c){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,c.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=g,$t.__ngLastListenerFn__=g,J=!1;else{g=iE(c,o,N,g,!1);const cn=l.listen(Xe,h,g);$.push(g,cn),x&&x.push(h,yt,Te,Te+1)}}else g=iE(c,o,N,g,!0),Xe.addEventListener(h,g,v),$.push(g),x&&x.push(h,yt,Te,v)}else g=iE(c,o,N,g,!1);const ye=c.outputs;let Pe;if(J&&null!==ye&&(Pe=ye[h])){const Ge=Pe.length;if(Ge)for(let Xe=0;Xe<Ge;Xe+=2){const Ds=o[Pe[Xe]][Pe[Xe+1]].subscribe(g),uu=$.length;$.push(g,Ds),x&&x.push(h,c.index,uu,-(uu+1))}}}(g,h,h[11],v,s,o,!!l,c),rE}function jI(s,o,l,c){try{return!1!==l(c)}catch(h){return JD(s,h),!1}}function iE(s,o,l,c,h){return function g(v){if(v===Function)return c;const E=2&s.flags?ir(s.index,o):o;0==(32&o[2])&&$_(E);let D=jI(o,0,c,v),A=g.__ngNextListenerFn__;for(;A;)D=jI(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function HI(s=1){return function qi(s){return(mt.lFrame.contextLView=function ah(s,o){for(;s>0;)o=o[15],s--;return o}(s,mt.lFrame.contextLView))[8]}(s)}function RO(s,o){let l=null;const c=function cw(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===c?xo(s,g,!0):fw(c,g))return h}else l=h}return l}function $I(s){const o=Se()[16][6];if(!o.projection){const c=o.projection=Pl(s?s.length:1,null),h=c.slice();let g=o.child;for(;null!==g;){const v=s?RO(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:c[v]=g,h[v]=g),g=g.next}}}function GI(s,o=0,l){const c=Se(),h=kt(),g=Yu(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),Su(),64!=(64&g.flags)&&function sw(s,o,l){__(o[11],0,o,l,qp(s,l,o),tw(l.parent||o[6],l,o))}(h,c,g)}function eS(s,o,l,c,h){const g=s[l+1],v=null===o;let E=c?Ro(g):fa(g),D=!1;for(;0!==E&&(!1===D||v);){const x=s[E+1];FO(s[E],o)&&(D=!0,s[E+1]=c?Yp(x):Lh(x)),E=c?Ro(x):fa(x)}D&&(s[l+1]=c?Lh(g):Yp(g))}function FO(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ci(s,o)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cd(s){return s.substring(Cr.key,Cr.keyEnd)}function oE(s,o){const l=Cr.textEnd;return l===o?-1:(o=Cr.keyEnd=function NO(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Cr.key=o,l),nf(s,o,l))}function nf(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function lE(s,o,l){return _a(s,o,l,!1),lE}function uE(s,o){return _a(s,o,null,!0),uE}function fl(s,o){for(let l=function py(s){return function gy(s){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=s.length}(s),oE(s,nf(s,0,Cr.textEnd))}(o);l>=0;l=oE(o,l))Fn(s,Cd(o),!0)}function _a(s,o,l,c){const h=Se(),g=kt(),v=vi(2);g.firstUpdatePass&&uS(g,s,v,c),o!==It&&oi(h,v,o)&&gS(g,g.data[Yn()],h,h[11],s,h[v+1]=function BO(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(Ao(s)))),s}(o,l),c,v)}function lS(s,o){return o>=s.expandoStartIndex}function uS(s,o,l,c){const h=s.data;if(null===h[l+1]){const g=h[Yn()],v=lS(s,l);_S(g,c)&&null===o&&!v&&(o=!1),o=function cS(s,o,l,c){const h=function ea(s){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Dd(l=my(null,s,o,l,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=my(h,s,o,l,c),null===g){let D=function dS(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==fa(c))return s[Ro(c)]}(s,o,c);void 0!==D&&Array.isArray(D)&&(D=my(null,s,o,D[1],c),D=Dd(D,o.attrs,c),function hS(s,o,l,c){s[Ro(l?o.classBindings:o.styleBindings)]=c}(s,o,c,D))}else g=function fS(s,o,l){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Dd(c,s[g].hostAttrs,l);return Dd(c,o.attrs,l)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,c),function OO(s,o,l,c,h,g){let v=g?o.classBindings:o.styleBindings,E=Ro(v),D=fa(v);s[c]=l;let x,A=!1;if(Array.isArray(l)){const N=l;x=N[1],(null===x||Ci(N,x)>0)&&(A=!0)}else x=l;if(h)if(0!==D){const $=Ro(s[E+1]);s[c+1]=Ph($,E),0!==$&&(s[$+1]=Vh(s[$+1],c)),s[E+1]=function _w(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Ph(E,0),0!==E&&(s[E+1]=Vh(s[E+1],c)),E=c;else s[c+1]=Ph(D,0),0===E?E=c:s[D+1]=Vh(s[D+1],c),D=c;A&&(s[c+1]=Lh(s[c+1])),eS(s,x,c,!0),eS(s,x,c,!1),function kO(s,o,l,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ci(g,o)>=0&&(l[c+1]=Yp(l[c+1]))}(o,x,s,c,g),v=Ph(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,c)}}function my(s,o,l,c,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],c=Dd(c,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),c}function Dd(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Fn(s,v,!!l||o[++g]))}return void 0===s?null:s}function gS(s,o,l,c,h,g,v,E){if(!(3&o.type))return;const D=s.data,A=D[E+1];_y(function C_(s){return 1==(1&s)}(A)?mS(D,o,l,h,fa(A),v):void 0)||(_y(g)||function E_(s){return 2==(2&s)}(A)&&(g=mS(D,null,l,h,E,v)),function ha(s,o,l,c,h){const g=sn(s);if(o)h?g?s.addClass(l,c):l.classList.add(c):g?s.removeClass(l,c):l.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:T.DashCase;if(null==h)g?s.removeStyle(l,c,v):l.style.removeProperty(c);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=T.Important),g?s.setStyle(l,c,h,v):l.style.setProperty(c,h,E?"important":"")}}}(c,v,Hs(Yn(),l),h,g))}function mS(s,o,l,c,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],A=Array.isArray(D),x=A?D[1]:D,N=null===x;let $=l[h+1];$===It&&($=N?pt:void 0);let J=N?Zs($,c):x===c?$:void 0;if(A&&!_y(J)&&(J=Zs(D,c)),_y(J)&&(E=J,v))return E;const ye=s[h+1];h=v?Ro(ye):fa(ye)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Zs(D,c))}return E}function _y(s){return void 0!==s}function _S(s,o){return 0!=(s.flags&(o?16:32))}function yS(s,o=""){const l=Se(),c=kt(),h=s+20,g=c.firstCreatePass?Yu(c,h,1,o,null):c.data[h],v=l[h]=function sd(s,o){return sn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Wp(c,l,v,g),Yr(g,!1)}function cE(s){return yy("",s,""),cE}function yy(s,o,l){const c=Se(),h=Xh(c,s,o,l);return h!==It&&ul(c,Yn(),h),yy}function pE(s,o,l){!function ya(s,o,l,c){const h=kt(),g=vi(2);h.firstUpdatePass&&uS(h,null,g,c);const v=Se();if(l!==It&&oi(v,g,l)){const E=h.data[Yn()];if(_S(E,c)&&!lS(h,g)){let D=c?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=ge(D,l||"")),eE(h,E,v,l,c)}else!function VO(s,o,l,c,h,g,v,E){h===It&&(h=pt);let D=0,A=0,x=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==x||null!==N;){const $=D<h.length?h[D+1]:void 0,J=A<g.length?g[A+1]:void 0;let Pe,ye=null;x===N?(D+=2,A+=2,$!==J&&(ye=N,Pe=J)):null===N||null!==x&&x<N?(D+=2,ye=x):(A+=2,ye=N,Pe=J),null!==ye&&gS(s,o,l,c,ye,Pe,v,E),x=D<h.length?h[D]:null,N=A<g.length?g[A]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function LO(s,o,l){if(null==l||""===l)return pt;const c=[],h=Ao(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,l),c,g)}}(Fn,fl,Xh(Se(),s,o,l),!0)}function bE(s,o,l){const c=Se();return oi(c,$s(),o)&&Ii(kt(),Dn(),c,s,o,c[11],l,!0),bE}const Id=void 0;var af=["en",[["a","p"],["AM","PM"],Id],[["AM","PM"],Id,Id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Id,"{1} 'at' {0}",Id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EE(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let rc={};function Ht(s){const o=function MS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=DE(o);if(l)return l;const c=o.split("-")[0];if(l=DE(c),l)return l;if("en"===c)return af;throw new Error(`Missing locale data for the locale "${s}".`)}function Sy(s){return Ht(s)[wt.PluralCase]}function DE(s){return s in rc||(rc[s]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[s]),rc[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Eg="en-US";let IE=Eg;function Py(s,o,l,c,h){if(s=te(s),Array.isArray(s))for(let g=0;g<s.length;g++)Py(s[g],o,l,c,h);else{const g=kt(),v=Se();let E=Wh(s)?s:te(s.provide),D=ey(s);const A=pn(),x=1048575&A.providerIndexes,N=A.directiveStart,$=A.providerIndexes>>20;if(Wh(s)||!s.multi){const J=new Rl(D,h,vg),ye=zE(E,o,h?x:x+$,N);-1===ye?(qs(mn(A,v),g,E),Ly(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(J),v.push(J)):(l[ye]=J,v[ye]=J)}else{const J=zE(E,o,x+$,N),ye=zE(E,o,x,x+$),Pe=J>=0&&l[J],Ge=ye>=0&&l[ye];if(h&&!Ge||!h&&!Pe){qs(mn(A,v),g,E);const Xe=function nT(s,o,l,c,h){const g=new Rl(s,l,vg);return g.multi=[],g.index=o,g.componentProviders=0,eT(g,h,c&&!l),g}(h?tT:Vg,l.length,h,c,D);!h&&Ge&&(l[ye].providerFactory=Xe),Ly(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(Xe),v.push(Xe)}else Ly(g,s,J>-1?J:ye,eT(l[h?ye:J],D,!h&&c));!h&&c&&Ge&&l[ye].componentProviders++}}}function Ly(s,o,l,c){const h=Wh(o),g=function nI(s){return!!s.useClass}(o);if(h||g){const D=(g?te(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=A.indexOf(l);-1===x?A.push(l,[c,D]):A[x+1].push(c,D)}else A.push(l,D)}}}function eT(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function zE(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function Vg(s,o,l,c){return Vy(this.multi,[])}function tT(s,o,l,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=_o(l,l[1],this.providerFactory.index,c);g=E.slice(0,v),Vy(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],Vy(h,g);return g}function Vy(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function gf(s,o=[]){return l=>{l.providersResolver=(c,h)=>function XS(s,o,l){const c=kt();if(c.firstCreatePass){const h=ji(s);Py(l,c.data,c.blueprint,h,!0),Py(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class By{}class ZE{resolveComponentFactory(o){throw function qE(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ug=(()=>{class s{}return s.NULL=new ZE,s})();function rT(){return Ad(pn(),Se())}function Ad(s,o){return new mf(rr(s,o))}let mf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=rT,s})();function iT(s){return s instanceof mf?s.nativeElement:s}class YE{}let ac=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Hy(){const s=Se(),l=ir(pn().index,s);return function jy(s){return s[11]}(_r(l)?l:s)}(),s})(),jg=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class QE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const JE=new QE("13.2.7"),$y={};function Hg(s,o,l,c,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&c.push(Qt(g)),Kr(g))for(let E=10;E<g.length;E++){const D=g[E],A=D[1].firstChild;null!==A&&Hg(D[1],D,A,c)}const v=l.type;if(8&v)Hg(s,o,l.child,c);else if(32&v){const E=Z(l,o);let D;for(;D=E();)c.push(D)}else if(16&v){const E=iw(o,l);if(Array.isArray(E))c.push(...E);else{const D=Ze(o[16]);Hg(D[1],D,E,c,!0)}}l=h?l.projectionNext:l.next}return c}class _f{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Hg(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Kr(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(l_(o,c),bo(l,c))}this._attachedToViewContainer=!1}u_(this._lView[1],this._lView)}onDestroy(o){og(this._lView[1],this._lView,null,o)}markForCheck(){$_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){z_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function YD(s,o,l){Al(!0);try{z_(s,o,l)}finally{Al(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fh(s,o){Kp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class Gy extends _f{constructor(o){super(o),this._view=o}detectChanges(){gd(this._view)}checkNoChanges(){!function Ow(s){Al(!0);try{gd(s)}finally{Al(!1)}}(this._view)}get context(){return null}}class XE extends Ug{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=jn(o);return new qy(l,this.ngModule)}}function yf(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class qy extends By{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function gw(s){return s.map(pw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return yf(this.componentDef.inputs)}get outputs(){return yf(this.componentDef.outputs)}create(o,l,c,h){const g=(h=h||this.ngModule)?function $g(s,o){return{get:(l,c,h)=>{const g=s.get(l,$y,h);return g!==$y||c===$y?g:o.get(l,c,h)}}}(o,h.injector):o,v=g.get(YE,Ta),E=g.get(jg,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=c?function N_(s,o,l){if(sn(s))return s.selectRootElement(o,l===qt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(D,c,this.componentDef.encapsulation):ad(v.createRenderer(null,this.componentDef),A,function zy(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),N=this.componentDef.onPush?576:528,$=function oy(s,o){return{components:[],scheduler:s||o_,clean:QD,playerHandler:o||null,flags:0}}(),J=zh(0,null,null,1,0,null,null,null,null,null),ye=jh(null,J,$,N,null,null,v,D,E,g);let Pe,Ge;ta(ye);try{const Xe=function lI(s,o,l,c,h,g){const v=l[1];l[20]=s;const D=Yu(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(qh(D,A,!0),null!==s&&(ze(h,s,A),null!==D.classes&&Zp(h,s,D.classes),null!==D.styles&&ow(h,s,D.styles)));const x=c.createRenderer(s,o),N=jh(l,sg(o),null,o.onPush?64:16,l[20],D,c,x,g||null,null);return v.firstCreatePass&&(qs(mn(D,l),v,o.type),V_(v,D),Mw(D,l.length,1)),pd(l,N),l[20]=N}(x,this.componentDef,ye,v,D);if(x)if(c)ze(D,x,["ng-version",JE.full]);else{const{attrs:Te,classes:yt}=function mw(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&l.push(g);else{if(!xr(h))break;h=g}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Te&&ze(D,x,Te),yt&&yt.length>0&&Zp(D,x,yt.join(" "))}if(Ge=wn(J,20),void 0!==l){const Te=Ge.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const $t=l[yt];Te.push(null!=$t?Array.from($t):null)}}Pe=function Xu(s,o,l,c,h){const g=l[1],v=function Sw(s,o,l){const c=pn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),B_(s,c,o,Xl(s,o,1,null),l));const h=_o(o,s,c.directiveStart,c);ur(h,o);const g=rr(c,o);return g&&ur(g,o),h}(g,l,o);if(c.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=pn();o.contentQueries(1,v,D.directiveStart)}const E=pn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Wi(E.index),$D(l[1],E,0,E.directiveStart,E.directiveEnd,o),L_(o,v)),v}(Xe,this.componentDef,ye,$,[Gw]),ig(J,ye,null)}finally{ra()}return new KO(this.componentType,Pe,Ad(Ge,ye),ye,Ge)}}class KO extends class Bg{}{constructor(o,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Gy(h),this.componentType=o}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class vf{}class t0{}const Md=new Map;class r0 extends vf{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XE(this);const c=Hn(o);this._bootstrapComponents=ys(c.bootstrap),this._r3Injector=Lw(o,l,[{provide:vf,useValue:this},{provide:Ug,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=pa.THROW_IF_NOT_FOUND,c=vt.Default){return o===pa||o===vf||o===K_?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Yy extends t0{constructor(o){super(),this.moduleType=o,null!==Hn(o)&&function Zy(s){const o=new Set;!function l(c){const h=Hn(c,!0),g=h.id;null!==g&&(function Ky(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ue(o)} vs ${ue(o.name)}`)}(g,Md.get(g),c),Md.set(g,c));const v=ys(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new r0(this.moduleType,o)}}function Jy(s,o,l,c,h,g){const v=o+l;return oi(s,v,h)?function ma(s,o,l){return s[o]=l}(s,v+1,g?c.call(g,h):c(h)):function bf(s,o){const l=s[o];return l===It?void 0:l}(s,v+1)}function zg(s,o){const l=kt();let c;const h=s+20;l.firstCreatePass?(c=function fT(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const g=c.factory||(c.factory=vr(c.type)),v=Un(vg);try{const E=bi(!1),D=g();return bi(E),function dO(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,Se(),h,D),D}finally{Un(v)}}function l0(s,o,l){const c=s+20,h=Se(),g=Gi(h,c);return function wf(s,o){return s[1].data[o].pure}(h,c)?Jy(h,function kn(){const s=mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,g.transform,l,g):g.transform(l)}function Wg(s){return o=>{setTimeout(s,void 0,o)}}const No=class u0 extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,g,v;let E=o,D=l||(()=>null),A=c;if(o&&"object"==typeof o){const N=o;E=null===(h=N.next)||void 0===h?void 0:h.bind(N),D=null===(g=N.error)||void 0===g?void 0:g.bind(N),A=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(D=Wg(D),E&&(E=Wg(E)),A&&(A=Wg(A)));const x=super.subscribe({next:E,error:D,complete:A});return o instanceof X.w0&&o.add(x),x}};function to(){return this._results[nu()]()}class _l{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=nu(),c=_l.prototype;c[l]||(c[l]=to)}get changes(){return this._changes||(this._changes=new No)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=Jr(o);(this._changesDetected=!function Pu(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ef=(()=>{class s{}return s.__NG_ELEMENT_ID__=_T,s})();const mT=Ef,c0=class extends mT{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=jh(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),ig(l,c,o),new _f(c)}};function _T(){return Cf(pn(),Se())}function Cf(s,o){return 4&s.type?new c0(o,s,Ad(s,o)):null}let lc=(()=>{class s{}return s.__NG_ELEMENT_ID__=yT,s})();function yT(){return h0(pn(),Se())}const vT=lc,Kg=class extends vT{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return Ad(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Zi(this._hostTNode,this._hostLView);if(Hc(o)){const l=hn(o,this._hostLView),c=Ki(o);return new yo(l[1].data[c+8],l)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=d0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,g){const v=o&&!function Ks(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const N=l||{};E=N.index,c=N.injector,h=N.projectableNodes,g=N.ngModuleRef}const D=v?o:new qy(jn(o)),A=c||this.parentInjector;if(!g&&null==D.ngModule){const $=(v?A:this.parentInjector).get(vf,null);$&&(g=$)}const x=D.create(A,h,void 0,g);return this.insert(x.hostView,E),x}insert(o,l){const c=o._lView,h=c[1];if(function Ma(s){return Kr(s[3])}(c)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const N=c[3],$=new Kg(N,N[6],N[3]);$.detach($.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function ol(s,o,l,c){const h=10+c,g=l.length;c>0&&(l[h-1][4]=o),c<g-10?(o[4]=l[h],oa(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Ql(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,c,v,g);const E=p_(g,v),D=c[11],A=da(D,v[7]);return null!==A&&function kh(s,o,l,c,h,g){c[0]=h,c[6]=o,Kp(s,c,l,1,h,g)}(h,v[6],D,c,A,E),o.attachToViewContainerRef(),oa(Zg(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=d0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=l_(this._lContainer,l);c&&(bo(Zg(this._lContainer),l),u_(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=l_(this._lContainer,l);return c&&null!=bo(Zg(this._lContainer),l)?new _f(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function d0(s){return s[8]}function Zg(s){return s[8]||(s[8]=[])}function h0(s,o){let l;const c=o[s.index];if(Kr(c))l=c;else{let h;if(8&s.type)h=Qt(c);else{const g=o[11];h=g.createComment("");const v=rr(s,o);vs(g,da(g,v),h,function OD(s,o){return sn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=U_(c,o,h,s),pd(o,l)}return new Kg(l,s,o)}class Yg{constructor(o){this.queryList=o,this.matches=null}clone(){return new Yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rd{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Rd(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==g0(o,l).matches&&this.queries[l].setDirty()}}class ev{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class tv{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new tv(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qg{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Qg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,l,ET(l,g)),this.matchTNodeWithReadOption(o,l,wi(l,o,g,!1,!1))}else c===Ef?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,wi(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===mf||h===lc||h===Ef&&4&l.type)this.addMatch(l.index,-2);else{const g=wi(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function ET(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function DT(s,o,l,c){return-1===l?function CT(s,o){return 11&s.type?Ad(s,o):4&s.type?Cf(s,o):null}(o,s):-2===l?function IT(s,o,l){return l===mf?Ad(o,s):l===Ef?Cf(o,s):l===lc?h0(o,s):void 0}(s,o,c):_o(s,s[1],l,o)}function f0(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const A=v[D];E.push(A<0?null:DT(o,g[A],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function nv(s,o,l,c){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=f0(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)c.push(v[E/2]);else{const A=g[E+1],x=o[-D];for(let N=10;N<x.length;N++){const $=x[N];$[17]===$[3]&&nv($[1],$,A,c)}if(null!==x[9]){const N=x[9];for(let $=0;$<N.length;$++){const J=N[$];nv(J[1],J,A,c)}}}}}return c}function au(s){const o=Se(),l=kt(),c=Mu();Pa(c+1);const h=g0(l,c);if(s.dirty&&co(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?nv(l,o,c,[]):f0(l,o,h,c);s.reset(g,iT),s.notifyOnChanges()}return!0}return!1}function rv(s,o,l){const c=kt();c.firstCreatePass&&(AT(c,new ev(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),TT(c,Se(),o)}function iv(s,o,l,c){const h=kt();if(h.firstCreatePass){const g=pn();AT(h,new ev(o,l,c),g.index),function JO(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}TT(h,Se(),l)}function p0(){return function ST(s,o){return s[19].queries[o].queryList}(Se(),Mu())}function TT(s,o,l){const c=new _l(4==(4&l));og(s,o,c,c.destroy),null===o[19]&&(o[19]=new Rd),o[19].queries.push(new Yg(c))}function AT(s,o,l){null===s.queries&&(s.queries=new tv),s.queries.track(new Qg(o,l))}function g0(s,o){return s.queries.getByIndex(o)}function em(...s){}const fv=new bn("Application Initializer");let pv=(()=>{class s{constructor(l){this.appInits=l,this.resolve=em,this.reject=em,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(nE(g))l.push(g);else if(VI(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(S(fv,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gv=new bn("AppId",{providedIn:"root",factory:function cc(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const R0=new bn("Platform Initializer"),O0=new bn("Platform ID"),If=new bn("appBootstrapListener");let k0=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const _v=new bn("LocaleId",{providedIn:"root",factory:()=>L(_v,vt.Optional|vt.SkipSelf)||function BT(){return"undefined"!=typeof $localize&&$localize.locale||Eg}()}),UT=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jT{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let HT=(()=>{class s{compileModuleSync(l){return new Yy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),g=ys(Hn(l).declarations).reduce((v,E)=>{const D=jn(E);return D&&v.push(new qy(D)),v},[]);return new jT(c,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const GT=(()=>Promise.resolve(0))();function yv(s){"undefined"==typeof Zone?GT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Po{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new No(!1),this.onMicrotaskEmpty=new No(!1),this.onStable=new No(!1),this.onError=new No(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zT(){let s=Bt.requestAnimationFrame,o=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function KT(s){const o=()=>{!function WT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,F0(s),s.isCheckStableRunning=!0,vv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),F0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,v,E)=>{try{return N0(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),ZT(s)}},onInvoke:(l,c,h,g,v,E,D)=>{try{return N0(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),ZT(s)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,F0(s),vv(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,qT,em,em);try{return g.runTask(v,l,c)}finally{g.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const qT={};function vv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function F0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function N0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ZT(s){s._nesting--,vv(s)}class YT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new No,this.onMicrotaskEmpty=new No,this.onStable=new No,this.onError=new No}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let Sf=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(S(Po))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),QT=(()=>{class s{constructor(){this._applications=new Map,P0.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return P0.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();class mk{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function _k(s){P0=s}let Lo,P0=new mk;const L0=new bn("AllowMultipleToken");class vk{constructor(o,l){this.name=o,this.token=l}}function B0(s,o,l=[]){const c=`Platform: ${o}`,h=new bn(c);return(g=[])=>{let v=bv();if(!v||v.injector.get(L0,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const E=l.concat(g).concat({provide:h,useValue:!0},{provide:Y_,useValue:"platform"});!function V0(s){if(Lo&&!Lo.destroyed&&!Lo.injector.get(L0,!1))throw new Oe(400,"");Lo=s.get(j0);const o=s.get(R0,null);o&&o.forEach(l=>l())}(pa.create({providers:E,name:c}))}return function U0(s){const o=bv();if(!o)throw new Oe(401,"");return o}()}}function bv(){return Lo&&!Lo.destroyed?Lo:null}let j0=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const E=function XT(s,o){let l;return l="noop"===s?new YT:("zone.js"===s?void 0:s)||new Po({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),D=[{provide:Po,useValue:E}];return E.run(()=>{const A=pa.create({providers:D,parent:this.injector,name:l.moduleType.name}),x=l.create(A),N=x.injector.get(id,null);if(!N)throw new Oe(402,"");return E.runOutsideAngular(()=>{const $=E.onError.subscribe({next:J=>{N.handleError(J)}});x.onDestroy(()=>{rm(this._modules,x),$.unsubscribe()})}),function wv(s,o,l){try{const c=l();return nE(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(N,E,()=>{const $=x.injector.get(pv);return $.runInitializers(),$.donePromise.then(()=>(function kS(s){Vt(s,"Expected localeId to be defined"),"string"==typeof s&&(IE=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(_v,Eg)||Eg),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,c=[]){const h=nm({},c);return function yk(s,o,l){const c=new Yy(l);return Promise.resolve(c)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const c=l.injector.get(lu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Oe(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(S(pa))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function nm(s,o){return Array.isArray(o)?o.reduce(nm,s):Object.assign(Object.assign({},s),o)}let lu=(()=>{class s{constructor(l,c,h,g,v){this._zone=l,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new F.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new F.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Po.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Po.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,de.T)(E,D.pipe((0,oe.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Oe(405,"");let h;h=l instanceof By?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function JT(s){return s.isBoundToModule}(h)?void 0:this._injector.get(vf),E=h.create(pa.NULL,[],c||h.selector,g),D=E.location.nativeElement,A=E.injector.get(Sf,null),x=A&&E.injector.get(QT);return A&&x&&x.registerApplication(D,A),E.onDestroy(()=>{this.detachView(E.hostView),rm(this.components,E),x&&x.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;rm(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(If,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(S(Po),S(pa),S(id),S(Ug),S(pv))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function rm(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Ev=!0,H0=!1;function tA(){return H0=!0,Ev}function wk(){if(H0)throw new Error("Cannot enable prod mode after platform setup.");Ev=!1}let G0=(()=>{class s{}return s.__NG_ELEMENT_ID__=nA,s})();function nA(s){return function Ck(s,o,l){if(Ic(s)&&!l){const c=ir(s.index,o);return new _f(c,c)}return 47&s.type?new _f(o[16],o):null}(pn(),Se(),16==(16&s))}class im{constructor(){}supports(o){return yg(o)}create(o){return new kk(o)}}const Ok=(s,o)=>o;class kk{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ok}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const v=!c||l&&l.currentIndex<sm(c,h,g)?l:c,E=sm(v,h,g),D=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const A=E-h,x=D-h;if(A!=x){for(let $=0;$<A;$++){const J=$<g.length?g[$]:g[$]=0,ye=J+$;x<=ye&&ye<A&&(g[$]=J+1)}g[v.previousIndex]=x-A}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!yg(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),c=!0),l=l._next}else h=0,function uO(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[nu()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new Fk(l,c),g,h),o}_verifyReinsertion(o,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new oA),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Fk{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nk{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class oA{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new Nk,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sm(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class Tv{constructor(){}supports(o){return o instanceof Map||Zh(o)}create(){return new Pk}}class Pk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Zh(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new Lk(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class Lk{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aA(){return new Y0([new im])}let Y0=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||aA()),deps:[[s,new En,new Dt]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Oe(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:aA}),s})();function lA(){return new Af([new Tv])}let Af=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||lA()),deps:[[s,new En,new Dt]]}}find(l){const c=this.factories.find(g=>g.supports(l));if(c)return c;throw new Oe(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:lA}),s})();const cA=B0(null,"core",[{provide:O0,useValue:"unknown"},{provide:j0,deps:[pa]},{provide:QT,deps:[]},{provide:k0,deps:[]}]);let Uk=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(S(lu))},s.\u0275mod=Ot({type:s}),s.\u0275inj=Zt({}),s})()},3942:(et,ve,k)=>{k.d(ve,{Z:()=>Oe});var d=k(2090),X=k(4859),F=k(9681),de=k(1877);class oe{constructor(he,Ce){this._delegate=he,this.firebase=Ce,(0,F._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(he,Ce=F._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(he);return!Je.isInitialized()&&"EXPLICIT"===(null===(qe=Je.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ce})}_removeServiceInstance(he,Ce=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ce)}_addComponent(he){(0,F._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,F._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ge(){const Be=function ue(Be){const he={},Ce={__esModule:!0,initializeApp:function Ae(Ue,K={}){const be=F.initializeApp(Ue,K);if((0,d.r3)(he,be.name))return he[be.name];const Y=new Be(be,Ce);return he[be.name]=Y,Y},app:Je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ue){const K=Ue.name,be=K.replace("-compat","");if(F._registerComponent(Ue)&&"PUBLIC"===Ue.type){const Y=(ie=Je())=>{if("function"!=typeof ie[be])throw ne.create("invalid-app-argument",{appName:K});return ie[be]()};void 0!==Ue.serviceProps&&(0,d.ZB)(Y,Ue.serviceProps),Ce[be]=Y,Be.prototype[be]=function(...ie){return this._getService.bind(this,K).apply(this,Ue.multipleInstances?ie:[])}}return"PUBLIC"===Ue.type?Ce[be]:null},removeApp:function qe(Ue){delete he[Ue]},useAsService:function Le(Ue,K){return"serverAuth"===K?null:K},modularAPIs:F}};function Je(Ue){if(!(0,d.r3)(he,Ue=Ue||F._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Ue});return he[Ue]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function _e(){return Object.keys(he).map(Ue=>he[Ue])}}),Je.App=Be,Ce}(oe);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function he(Ce){(0,d.ZB)(Be,Ce)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Be}(),G=new de.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=z;!function Ie(Be){(0,F.registerVersion)("@firebase/app-compat","0.1.29",Be)}()},9681:(et,ve,k)=>{k.r(ve),k.d(ve,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>Yt,_apps:()=>Xt,_clearComponents:()=>ts,_components:()=>Mn,_getProvider:()=>Zt,_registerComponent:()=>Ir,_removeServiceInstance:()=>Nt,deleteApp:()=>vt,getApp:()=>Vr,getApps:()=>Ni,initializeApp:()=>Fs,onLog:()=>Un,registerVersion:()=>xn,setLogLevel:()=>Pi});var d=k(5861),X=k(4859),F=k(1877),de=k(2090),oe=k(8766);class pe{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function ne(B){const H=B.getComponent();return"VERSION"===(null==H?void 0:H.type)}(W)){const xe=W.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(W=>W).join(" ")}}const ue="@firebase/app",z=new F.Yd("@firebase/app"),Vt="[DEFAULT]",Ye={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,Mn=new Map;function ln(B,H){try{B.container.addComponent(H)}catch(W){z.debug(`Component ${H.name} failed to register with FirebaseApp ${B.name}`,W)}}function Yt(B,H){B.container.addOrOverwriteComponent(H)}function Ir(B){const H=B.name;if(Mn.has(H))return z.debug(`There were multiple attempts to register component ${H}.`),!1;Mn.set(H,B);for(const W of Xt.values())ln(W,B);return!0}function Zt(B,H){const W=B.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),B.container.getProvider(H)}function Nt(B,H,W=Vt){Zt(B,H).clearInstance(W)}function ts(){Mn.clear()}const pr=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Lr{constructor(H,W,xe){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Fi="9.9.0";function Fs(B,H={}){"object"!=typeof H&&(H={name:H});const W=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},H),xe=W.name;if("string"!=typeof xe||!xe)throw pr.create("bad-app-name",{appName:String(xe)});const Ve=Xt.get(xe);if(Ve){if((0,de.vZ)(B,Ve.options)&&(0,de.vZ)(W,Ve.config))return Ve;throw pr.create("duplicate-app",{appName:xe})}const dt=new X.H0(xe);for(const Wt of Mn.values())dt.addComponent(Wt);const nn=new Lr(B,W,dt);return Xt.set(xe,nn),nn}function Vr(B=Vt){const H=Xt.get(B);if(!H)throw pr.create("no-app",{appName:B});return H}function Ni(){return Array.from(Xt.values())}function vt(B){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(B){const H=B.name;Xt.has(H)&&(Xt.delete(H),yield Promise.all(B.container.getProviders().map(W=>W.delete())),B.isDeleted=!0)})).apply(this,arguments)}function xn(B,H,W){var xe;let Ve=null!==(xe=Ye[B])&&void 0!==xe?xe:B;W&&(Ve+=`-${W}`);const dt=Ve.match(/\s|\//),nn=H.match(/\s|\//);if(dt||nn){const Wt=[`Unable to register library "${Ve}" with version "${H}":`];return dt&&Wt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),dt&&nn&&Wt.push("and"),nn&&Wt.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void z.warn(Wt.join(" "))}Ir(new X.wA(`${Ve}-version`,()=>({library:Ve,version:H}),"VERSION"))}function Un(B,H){if(null!==B&&"function"!=typeof B)throw pr.create("invalid-log-argument");(0,F.Am)(B,H)}function Pi(B){(0,F.Ub)(B)}const Pn="firebase-heartbeat-store";let gi=null;function Ho(){return gi||(gi=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(B,H)=>{0===H&&B.createObjectStore(Pn)}}).catch(B=>{throw pr.create("storage-open",{originalErrorMessage:B.message})})),gi}function at(){return(at=(0,d.Z)(function*(B){var H;try{return(yield Ho()).transaction(Pn).objectStore(Pn).get(qr(B))}catch(W){throw pr.create("storage-get",{originalErrorMessage:null===(H=W)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function Et(B,H){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(B,H){var W;try{const Ve=(yield Ho()).transaction(Pn,"readwrite");return yield Ve.objectStore(Pn).put(H,qr(B)),Ve.done}catch(xe){throw pr.create("storage-set",{originalErrorMessage:null===(W=xe)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function qr(B){return`${B.name}!${B.options.appId}`}class mr{constructor(H){this.container=H,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Ps(W),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var H=this;return(0,d.Z)(function*(){const xe=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=Sr();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!H._heartbeatsCache.heartbeats.some(dt=>dt.date===Ve))return H._heartbeatsCache.heartbeats.push({date:Ve,agent:xe}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(dt=>{const nn=new Date(dt.date).valueOf();return Date.now()-nn<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,d.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const W=Sr(),{heartbeatsToSend:xe,unsentEntries:Ve}=function pt(B,H=1024){const W=[];let xe=B.slice();for(const Ve of B){const dt=W.find(nn=>nn.agent===Ve.agent);if(dt){if(dt.dates.push(Ve.date),j(W)>H){dt.dates.pop();break}}else if(W.push({agent:Ve.agent,dates:[Ve.date]}),j(W)>H){W.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:W,unsentEntries:xe}}(H._heartbeatsCache.heartbeats),dt=(0,de.L)(JSON.stringify({version:2,heartbeats:xe}));return H._heartbeatsCache.lastSentHeartbeatDate=W,Ve.length>0?(H._heartbeatsCache.heartbeats=Ve,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),dt})()}}function Sr(){return(new Date).toISOString().substring(0,10)}class Ps{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,d.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function qt(B){return at.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var W=this;return(0,d.Z)(function*(){var xe;if(yield W._canUseIndexedDBPromise){const dt=yield W.read();return Et(W.app,{lastSentHeartbeatDate:null!==(xe=H.lastSentHeartbeatDate)&&void 0!==xe?xe:dt.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var W=this;return(0,d.Z)(function*(){var xe;if(yield W._canUseIndexedDBPromise){const dt=yield W.read();return Et(W.app,{lastSentHeartbeatDate:null!==(xe=H.lastSentHeartbeatDate)&&void 0!==xe?xe:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...H.heartbeats]})}})()}}function j(B){return(0,de.L)(JSON.stringify({version:2,heartbeats:B})).length}!function q(B){Ir(new X.wA("platform-logger",H=>new pe(H),"PRIVATE")),Ir(new X.wA("heartbeat",H=>new mr(H),"PRIVATE")),xn(ue,"0.7.28",B),xn(ue,"0.7.28","esm2017"),xn("fire-js","")}("")},4859:(et,ve,k)=>{k.d(ve,{wA:()=>F,H0:()=>ue});var d=k(5861),X=k(2090);class F{constructor(z,G,te){this.name=z,this.instanceFactory=G,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const de="[DEFAULT]";class oe{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const te=new X.BH;if(this.instancesDeferred.set(G,te),this.isInitialized(G)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:G});je&&te.resolve(je)}catch(je){}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const te=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),je=null!==(G=null==z?void 0:z.optional)&&void 0!==G&&G;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ie){if(je)return null;throw Ie}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ne(ge){return"EAGER"===ge.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:de})}catch(G){}for(const[G,te]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(G);try{const Ie=this.getOrInitializeService({instanceIdentifier:je});te.resolve(Ie)}catch(Ie){}}}}clearInstance(z=de){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...G.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=de){return this.instances.has(z)}getOptions(z=de){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,te=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:te,options:G});for(const[Ie,Oe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ie)&&Oe.resolve(je);return je}onInit(z,G){var te;const je=this.normalizeInstanceIdentifier(G),Ie=null!==(te=this.onInitCallbacks.get(je))&&void 0!==te?te:new Set;Ie.add(z),this.onInitCallbacks.set(je,Ie);const Oe=this.instances.get(je);return Oe&&z(Oe,je),()=>{Ie.delete(z)}}invokeOnInitCallbacks(z,G){const te=this.onInitCallbacks.get(G);if(te)for(const je of te)try{je(z,G)}catch(Ie){}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let te=this.instances.get(z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=z,ge===de?void 0:ge),options:G}),this.instances.set(z,te),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(te,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,te)}catch(je){}var ge;return te||null}normalizeInstanceIdentifier(z=de){return this.component?this.component.multipleInstances?z:de:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new oe(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(et,ve,k)=>{k.d(ve,{in:()=>X,Yd:()=>ne,Ub:()=>ue,Am:()=>ge});const d=[];var X=(()=>{return(z=X||(X={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",X;var z})();const F={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},de=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},pe=(z,G,...te)=>{if(G<z.logLevel)return;const je=(new Date).toISOString(),Ie=oe[G];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ie](`[${je}]  ${z.name}:`,...te)};class ne{constructor(G){this.name=G,this._logLevel=de,this._logHandler=pe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in X))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?F[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...G),this._logHandler(this,X.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...G),this._logHandler(this,X.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,X.INFO,...G),this._logHandler(this,X.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,X.WARN,...G),this._logHandler(this,X.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...G),this._logHandler(this,X.ERROR,...G)}}function ue(z){d.forEach(G=>{G.setLogLevel(z)})}function ge(z,G){for(const te of d){let je=null;G&&G.level&&(je=F[G.level]),te.userLogHandler=null===z?null:(Ie,Oe,...Be)=>{const he=Be.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(qe){return null}}).filter(Ce=>Ce).join(" ");Oe>=(null!=je?je:Ie.logLevel)&&z({level:X[Oe].toLowerCase(),message:he,args:Be,type:Ie.name})}}}},8766:(et,ve,k)=>{k.d(ve,{Lj:()=>Ae,X3:()=>Je});var d=k(5861);let F,de;const ne=new WeakMap,ue=new WeakMap,ge=new WeakMap,z=new WeakMap,G=new WeakMap;let Ie={get(K,be,Y){if(K instanceof IDBTransaction){if("done"===be)return ue.get(K);if("objectStoreNames"===be)return K.objectStoreNames||ge.get(K);if("store"===be)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Ce(K[be])},set:(K,be,Y)=>(K[be]=Y,!0),has:(K,be)=>K instanceof IDBTransaction&&("done"===be||"store"===be)||be in K};function he(K){return"function"==typeof K?function Be(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...be){return K.apply(qe(this),be),Ce(ne.get(this))}:function(...be){return Ce(K.apply(qe(this),be))}:function(be,...Y){const ie=K.call(qe(this),be,...Y);return ge.set(ie,be.sort?be.sort():[be]),Ce(ie)}}(K):(K instanceof IDBTransaction&&function je(K){if(ue.has(K))return;const be=new Promise((Y,ie)=>{const ee=()=>{K.removeEventListener("complete",me),K.removeEventListener("error",le),K.removeEventListener("abort",le)},me=()=>{Y(),ee()},le=()=>{ie(K.error||new DOMException("AbortError","AbortError")),ee()};K.addEventListener("complete",me),K.addEventListener("error",le),K.addEventListener("abort",le)});ue.set(K,be)}(K),((K,be)=>be.some(Y=>K instanceof Y))(K,function oe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,Ie):K)}function Ce(K){if(K instanceof IDBRequest)return function te(K){const be=new Promise((Y,ie)=>{const ee=()=>{K.removeEventListener("success",me),K.removeEventListener("error",le)},me=()=>{Y(Ce(K.result)),ee()},le=()=>{ie(K.error),ee()};K.addEventListener("success",me),K.addEventListener("error",le)});return be.then(Y=>{Y instanceof IDBCursor&&ne.set(Y,K)}).catch(()=>{}),G.set(be,K),be}(K);if(z.has(K))return z.get(K);const be=he(K);return be!==K&&(z.set(K,be),G.set(be,K)),be}const qe=K=>G.get(K);function Je(K,be,{blocked:Y,upgrade:ie,blocking:ee,terminated:me}={}){const le=indexedDB.open(K,be),ke=Ce(le);return ie&&le.addEventListener("upgradeneeded",ft=>{ie(Ce(le.result),ft.oldVersion,ft.newVersion,Ce(le.transaction))}),Y&&le.addEventListener("blocked",()=>Y()),ke.then(ft=>{me&&ft.addEventListener("close",()=>me()),ee&&ft.addEventListener("versionchange",()=>ee())}).catch(()=>{}),ke}function Ae(K,{blocked:be}={}){const Y=indexedDB.deleteDatabase(K);return be&&Y.addEventListener("blocked",()=>be()),Ce(Y).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Le=new Map;function Ue(K,be){if(!(K instanceof IDBDatabase)||be in K||"string"!=typeof be)return;if(Le.get(be))return Le.get(be);const Y=be.replace(/FromIndex$/,""),ie=be!==Y,ee=Ee.includes(Y);if(!(Y in(ie?IDBIndex:IDBObjectStore).prototype)||!ee&&!_e.includes(Y))return;const me=function(){var le=(0,d.Z)(function*(ke,...ft){const zt=this.transaction(ke,ee?"readwrite":"readonly");let Vt=zt.store;return ie&&(Vt=Vt.index(ft.shift())),(yield Promise.all([Vt[Y](...ft),ee&&zt.done]))[0]});return function(ft){return le.apply(this,arguments)}}();return Le.set(be,me),me}!function Oe(K){Ie=K(Ie)}(K=>pB(fB({},K),{get:(be,Y,ie)=>Ue(be,Y)||K.get(be,Y,ie),has:(be,Y)=>!!Ue(be,Y)||K.has(be,Y)}))},5861:(et,ve,k)=>{function d(F,de,oe,pe,ne,ue,ge){try{var z=F[ue](ge),G=z.value}catch(te){return void oe(te)}z.done?de(G):Promise.resolve(G).then(pe,ne)}function X(F){return function(){var de=this,oe=arguments;return new Promise(function(pe,ne){var ue=F.apply(de,oe);function ge(G){d(ue,pe,ne,ge,z,"next",G)}function z(G){d(ue,pe,ne,ge,z,"throw",G)}ge(void 0)})}}k.d(ve,{Z:()=>X})}},et=>{et(et.s=4320)}]);