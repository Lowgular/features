"use strict";var dz=Object.defineProperty,hz=Object.defineProperties,fz=Object.getOwnPropertyDescriptors,cV=Object.getOwnPropertySymbols,pz=Object.prototype.hasOwnProperty,gz=Object.prototype.propertyIsEnumerable,dV=(Xe,ve,k)=>ve in Xe?dz(Xe,ve,{enumerable:!0,configurable:!0,writable:!0,value:k}):Xe[ve]=k,hV=(Xe,ve)=>{for(var k in ve||(ve={}))pz.call(ve,k)&&dV(Xe,k,ve[k]);if(cV)for(var k of cV(ve))gz.call(ve,k)&&dV(Xe,k,ve[k]);return Xe},fV=(Xe,ve)=>hz(Xe,fz(ve));(self.webpackChunkfeatures=self.webpackChunkfeatures||[]).push([[179],{2011:(Xe,ve,k)=>{k.d(ve,{hO:()=>je,xv:()=>ge,Dh:()=>ue,GT:()=>pe,cc:()=>De,on:()=>G,pX:()=>se});var d=k(5e3),J=k(127),P=k(5813);Xe=k.hmd(Xe);const de=["ngOnDestroy"],se=(Ce,Ge,Ye,Te={})=>new Proxy(Ce,{get:(_e,Ee)=>Ye.runOutsideAngular(()=>{var Le;if(Ce[Ee])return(null===(Le=null==Te?void 0:Te.spy)||void 0===Le?void 0:Le.get)&&Te.spy.get(Ee,Ce[Ee]),Ce[Ee];if(de.indexOf(Ee)>-1)return()=>{};const Ue=Ge.toPromise().then(W=>{const be=W&&W[Ee];return"function"==typeof be?be.bind(W):be&&be.then?be.then(Y=>Ye.run(()=>Y)):Ye.run(()=>be)});return new Proxy(()=>{},{get:(W,be)=>Ue[be],apply:(W,be,Y)=>Ue.then(ne=>{var ee;const me=ne&&ne(...Y);return(null===(ee=null==Te?void 0:Te.spy)||void 0===ee?void 0:ee.apply)&&Te.spy.apply(Ee,Y,me),me})})})}),pe=(Ce,Ge)=>{Ge.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Te=>{Object.defineProperty(Ce.prototype,Te,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Te))})})};class ie{constructor(Ge){return Ge}}const ue=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function G(Ce,Ge,Ye){const _e="object"==typeof Ye&&Ye||{};_e.name=_e.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const Le=J.Z.apps.filter(Ue=>Ue&&Ue.name===_e.name)[0]||Ge.runOutsideAngular(()=>J.Z.initializeApp(Ce,_e));try{JSON.stringify(Ce)!==JSON.stringify(Le.options)&&$("error",`${Le.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new ie(Le)}const $=(Ce,...Ge)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Ge)},te={provide:ie,useFactory:G,deps:[ue,d.R0b,[new d.FiY,ge]]};let je=(()=>{class Ce{constructor(Ye){J.Z.registerVersion("angularfire",P.q4.full,"core"),J.Z.registerVersion("angularfire",P.q4.full,"app-compat"),J.Z.registerVersion("angular",d.q4F.full,Ye.toString())}static initializeApp(Ye,Te){return{ngModule:Ce,providers:[{provide:ue,useValue:Ye},{provide:ge,useValue:Te}]}}}return Ce.\u0275fac=function(Ye){return new(Ye||Ce)(d.LFG(d.Lbi))},Ce.\u0275mod=d.oAB({type:Ce}),Ce.\u0275inj=d.cJS({providers:[te]}),Ce})();function De(Ce,Ge,Ye,Te,_e){const[,Ee,Le]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===Ce)||[];if(Ee)return function Re(Ce,Ge){try{return Ce.toString()===Ge.toString()}catch(Ye){return Ce===Ge}}(_e,Le)||(he("error",`${Ge} was already initialized on the ${Ye} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:_e,was:Le})),Ee;{const Ue=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ue,_e]),Ue}}const Be=!!Xe.hot,he=(Ce,...Ge)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,ve,k)=>{k.d(ve,{q4:()=>Pt,iC:()=>Ga,HU:()=>$a,vb:()=>xu,JM:()=>Pl});var d=k(5e3),J=k(5867),P=k(5861),de=k(9681),se=k(2090),pe=k(4859),ie=k(1877),ue=k(8766);const ge="@firebase/installations",G="0.5.12",te=`w:${G}`,je="FIS_v2",Ge=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(C){return C instanceof se.ZR&&C.code.includes("request-failed")}function Te({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function _e(C){return{token:C.token,requestStatus:2,expiresIn:ne(C.expiresIn),creationTime:Date.now()}}function Ee(C,S){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(C,S){const F=(yield S.json()).error;return Ge.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ue({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function W(C,{refreshToken:S}){const O=Ue(C);return O.append("Authorization",function ee(C){return`${je} ${C}`}(S)),O}function be(C){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function ne(C){return Number(C.replace("s","000"))}function me(C,S){return le.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:S},{fid:O}){const F=Te(C),Q=Ue(C),re=S.getImmediate({optional:!0});if(re){const mt=yield re.getHeartbeatsHeader();mt&&Q.append("x-firebase-client",mt)}const He={method:"POST",headers:Q,body:JSON.stringify({fid:O,authVersion:je,appId:C.appId,sdkVersion:te})},at=yield be(()=>fetch(F,He));if(at.ok){const mt=yield at.json();return{fid:mt.fid||O,registrationStatus:2,refreshToken:mt.refreshToken,authToken:_e(mt.authToken)}}throw yield Ee("Create Installation",at)})).apply(this,arguments)}function ke(C){return new Promise(S=>{setTimeout(S,C)})}const Gt=/^[cdef][\w-]{21}$/;function Ke(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function Jt(C){return function ht(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Gt.test(O)?O:""}catch(C){return""}}function Mn(C){return`${C.appName}!${C.appId}`}const on=new Map;function Yt(C,S){const O=Mn(C);Nt(O,S),function Ji(C,S){const O=function ur(){return!$r&&"BroadcastChannel"in self&&($r=new BroadcastChannel("[Firebase] FID Change"),$r.onmessage=C=>{Nt(C.data.key,C.data.fid)}),$r}();O&&O.postMessage({key:C,fid:S}),function kr(){0===on.size&&$r&&($r.close(),$r=null)}()}(O,S)}function Nt(C,S){const O=on.get(C);if(O)for(const F of O)F(S)}let $r=null;const Pr="firebase-installations-store";let ki=null;function yt(){return ki||(ki=(0,ue.X3)("firebase-installations-database",1,{upgrade:(C,S)=>{0===S&&C.createObjectStore(Pr)}})),ki}function Nr(C,S){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(C,S){const O=Mn(C),Q=(yield yt()).transaction(Pr,"readwrite"),re=Q.objectStore(Pr),Ae=yield re.get(O);return yield re.put(S,O),yield Q.done,(!Ae||Ae.fid!==S.fid)&&Yt(C,S.fid),S})).apply(this,arguments)}function Bn(C){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,P.Z)(function*(C){const S=Mn(C),F=(yield yt()).transaction(Pr,"readwrite");yield F.objectStore(Pr).delete(S),yield F.done})).apply(this,arguments)}function es(C,S){return On.apply(this,arguments)}function On(){return(On=(0,P.Z)(function*(C,S){const O=Mn(C),Q=(yield yt()).transaction(Pr,"readwrite"),re=Q.objectStore(Pr),Ae=yield re.get(O),He=S(Ae);return void 0===He?yield re.delete(O):yield re.put(He,O),yield Q.done,He&&(!Ae||Ae.fid!==He.fid)&&Yt(C,He.fid),He})).apply(this,arguments)}function Fn(C){return pi.apply(this,arguments)}function pi(){return(pi=(0,P.Z)(function*(C){let S;const O=yield es(C.appConfig,F=>{const Q=Fo(F),re=zt(C,Q);return S=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}})).apply(this,arguments)}function Fo(C){return Ms(C||{fid:Ke(),registrationStatus:0})}function zt(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ge.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},F=function ot(C,S){return wt.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:F}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:cr(C)}:{installationEntry:S}}function wt(){return(wt=(0,P.Z)(function*(C,S){try{const O=yield me(C,S);return Nr(C.appConfig,O)}catch(O){throw Ye(O)&&409===O.customData.serverCode?yield Bn(C.appConfig):yield Nr(C.appConfig,{fid:S.fid,registrationStatus:0}),O}})).apply(this,arguments)}function cr(C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,P.Z)(function*(C){let S=yield Bt(C.appConfig);for(;1===S.registrationStatus;)yield ke(100),S=yield Bt(C.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:F}=yield Fn(C);return F||O}return S})).apply(this,arguments)}function Bt(C){return es(C,S=>{if(!S)throw Ge.create("installation-not-found");return Ms(S)})}function Ms(C){return function dr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Er(C,S){return ft.apply(this,arguments)}function ft(){return(ft=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:S},O){const F=xs(C,O),Q=W(C,O),re=S.getImmediate({optional:!0});if(re){const mt=yield re.getHeartbeatsHeader();mt&&Q.append("x-firebase-client",mt)}const He={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:te,appId:C.appId}})},at=yield be(()=>fetch(F,He));if(at.ok)return _e(yield at.json());throw yield Ee("Generate Auth Token",at)})).apply(this,arguments)}function xs(C,{fid:S}){return`${Te(C)}/${S}/authTokens:generate`}function U(C){return z.apply(this,arguments)}function z(){return(z=(0,P.Z)(function*(C,S=!1){let O;const F=yield es(C.appConfig,re=>{if(!ct(re))throw Ge.create("not-registered");const Ae=re.authToken;if(!S&&nn(Ae))return re;if(1===Ae.requestStatus)return O=V(C,S),re;{if(!navigator.onLine)throw Ge.create("app-offline");const He=Kn(re);return O=xe(C,He),He}});return O?yield O:F.authToken})).apply(this,arguments)}function V(C,S){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(C,S){let O=yield q(C.appConfig);for(;1===O.authToken.requestStatus;)yield ke(100),O=yield q(C.appConfig);const F=O.authToken;return 0===F.requestStatus?U(C,S):F})).apply(this,arguments)}function q(C){return es(C,S=>{if(!ct(S))throw Ge.create("not-registered");return function Rt(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function xe(C,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(C,S){try{const O=yield Er(C,S),F=Object.assign(Object.assign({},S),{authToken:O});return yield Nr(C.appConfig,F),O}catch(O){if(!Ye(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const F=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Nr(C.appConfig,F)}else yield Bn(C.appConfig);throw O}})).apply(this,arguments)}function ct(C){return void 0!==C&&2===C.registrationStatus}function nn(C){return 2===C.requestStatus&&!function qt(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+36e5}(C)}function Kn(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}function Ni(){return(Ni=(0,P.Z)(function*(C){const S=C,{installationEntry:O,registrationPromise:F}=yield Fn(S);return F?F.catch(console.error):U(S).catch(console.error),O.fid})).apply(this,arguments)}function ga(){return(ga=(0,P.Z)(function*(C,S=!1){const O=C;return yield Un(O),(yield U(O,S)).token})).apply(this,arguments)}function Un(C){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,P.Z)(function*(C){const{registrationPromise:S}=yield Fn(C);S&&(yield S)})).apply(this,arguments)}function Vo(C){return Ge.create("missing-app-config-values",{valueName:C})}const Lr="installations",dt=C=>{const S=C.getProvider("app").getImmediate(),O=function tr(C){if(!C||!C.options)throw Vo("App Configuration");if(!C.name)throw Vo("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!C.options[O])throw Vo(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,de._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},rn=C=>{const S=C.getProvider("app").getImmediate(),O=(0,de._getProvider)(S,Lr).getImmediate();return{getId:()=>function zr(C){return Ni.apply(this,arguments)}(O),getToken:Q=>function Lo(C){return ga.apply(this,arguments)}(O,Q)}};(function Vr(){(0,de._registerComponent)(new pe.wA(Lr,dt,"PUBLIC")),(0,de._registerComponent)(new pe.wA("installations-internal",rn,"PRIVATE"))})(),(0,de.registerVersion)(ge,G),(0,de.registerVersion)(ge,G,"esm2017");const Fi="@firebase/remote-config",Rn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ep{constructor(S,O,F,Q){this.client=S,this.storage=O,this.storageCache=F,this.logger=Q}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-O,Q=F<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var O=this;return(0,P.Z)(function*(){const[F,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(S.cacheMaxAgeMillis,F))return Q;S.eTag=Q&&Q.eTag;const re=yield O.client.fetch(S),Ae=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Ae.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Ae),re})()}}function gc(C=navigator){return C.languages&&C.languages[0]||C.language}class fr{constructor(S,O,F,Q,re,Ae){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=F,this.projectId=Q,this.apiKey=re,this.appId=Ae}fetch(S){var O=this;return(0,P.Z)(function*(){var F,Q,re;const[Ae,He]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},lt={sdk_version:O.sdkVersion,app_instance_id:Ae,app_instance_id_token:He,app_id:O.appId,language_code:gc()},En={method:"POST",headers:Dt,body:JSON.stringify(lt)},_r=fetch(mt,En),cs=new Promise((yr,Zi)=>{S.signal.addEventListener(()=>{const Lc=new Error("The operation was aborted.");Lc.name="AbortError",Zi(Lc)})});let ds;try{yield Promise.race([_r,cs]),ds=yield _r}catch(yr){let Zi="fetch-client-network";throw"AbortError"===(null===(F=yr)||void 0===F?void 0:F.name)&&(Zi="fetch-timeout"),Rn.create(Zi,{originalErrorMessage:null===(Q=yr)||void 0===Q?void 0:Q.message})}let Ei=ds.status;const Fc=ds.headers.get("ETag")||void 0;let Nl,wo;if(200===ds.status){let yr;try{yr=yield ds.json()}catch(Zi){throw Rn.create("fetch-client-parse",{originalErrorMessage:null===(re=Zi)||void 0===re?void 0:re.message})}Nl=yr.entries,wo=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===wo?Ei=500:"NO_CHANGE"===wo?Ei=304:("NO_TEMPLATE"===wo||"EMPTY_CONFIG"===wo)&&(Nl={}),304!==Ei&&200!==Ei)throw Rn.create("fetch-status",{httpStatus:Ei});return{status:Ei,eTag:Fc,config:Nl}})()}}class tp{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,P.Z)(function*(){const F=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,F)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:F}){var Q=this;return(0,P.Z)(function*(){yield function Ps(C,S){return new Promise((O,F)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),F(Rn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const re=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function mc(C){if(!(C instanceof se.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const Ae={throttleEndTimeMillis:Date.now()+(0,se.$s)(F),backoffCount:F+1};return yield Q.storage.setThrottleMetadata(Ae),Q.attemptFetch(S,Ae)}})()}}class _c{constructor(S,O,F,Q,re){this.app=S,this._client=O,this._storageCache=F,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cu(C,S){var O;const F=C.target.error||void 0;return Rn.create(S,{originalErrorMessage:F&&(null===(O=F)||void 0===O?void 0:O.message)})}const Ns="app_namespace_store";class ip{constructor(S,O,F,Q=function rp(){return new Promise((C,S)=>{var O;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Q=>{S(cu(Q,"storage-open"))},F.onsuccess=Q=>{C(Q.target.result)},F.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Ns,{keyPath:"compositeKey"})}}catch(F){S(Rn.create("storage-open",{originalErrorMessage:null===(O=F)||void 0===O?void 0:O.message}))}})}()){this.appId=S,this.appName=O,this.namespace=F,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,P.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Q,re)=>{var Ae;const at=F.transaction([Ns],"readonly").objectStore(Ns),mt=O.createCompositeKey(S);try{const Dt=at.get(mt);Dt.onerror=lt=>{re(cu(lt,"storage-get"))},Dt.onsuccess=lt=>{const En=lt.target.result;Q(En?En.value:void 0)}}catch(Dt){re(Rn.create("storage-get",{originalErrorMessage:null===(Ae=Dt)||void 0===Ae?void 0:Ae.message}))}})})()}set(S,O){var F=this;return(0,P.Z)(function*(){const Q=yield F.openDbPromise;return new Promise((re,Ae)=>{var He;const mt=Q.transaction([Ns],"readwrite").objectStore(Ns),Dt=F.createCompositeKey(S);try{const lt=mt.put({compositeKey:Dt,value:O});lt.onerror=En=>{Ae(cu(En,"storage-set"))},lt.onsuccess=()=>{re()}}catch(lt){Ae(Rn.create("storage-set",{originalErrorMessage:null===(He=lt)||void 0===He?void 0:He.message}))}})})()}delete(S){var O=this;return(0,P.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Q,re)=>{var Ae;const at=F.transaction([Ns],"readwrite").objectStore(Ns),mt=O.createCompositeKey(S);try{const Dt=at.delete(mt);Dt.onerror=lt=>{re(cu(lt,"storage-delete"))},Dt.onsuccess=()=>{Q()}}catch(Dt){re(Rn.create("storage-delete",{originalErrorMessage:null===(Ae=Dt)||void 0===Ae?void 0:Ae.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class vc{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const O=S.storage.getLastFetchStatus(),F=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),re=yield O;re&&(S.lastFetchStatus=re);const Ae=yield F;Ae&&(S.lastSuccessfulFetchTimestampMillis=Ae);const He=yield Q;He&&(S.activeConfig=He)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function gl(){return bc.apply(this,arguments)}function bc(){return(bc=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Bo(){(0,de._registerComponent)(new pe.wA("remote-config",function C(S,{instanceIdentifier:O}){const F=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,se.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:re,apiKey:Ae,appId:He}=F.options;if(!re)throw Rn.create("registration-project-id");if(!Ae)throw Rn.create("registration-api-key");if(!He)throw Rn.create("registration-app-id");const at=new ip(He,F.name,O=O||"firebase"),mt=new vc(at),Dt=new ie.Yd(Fi);Dt.logLevel=ie.in.ERROR;const lt=new fr(Q,de.SDK_VERSION,O,re,Ae,He),En=new tp(lt,at),_r=new ep(En,at,mt,Dt),cs=new _c(F,_r,mt,at,Dt);return function an(C){const S=(0,se.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(cs),cs},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Fi,"0.3.11"),(0,de.registerVersion)(Fi,"0.3.11","esm2017")}();const wc="/firebase-messaging-sw.js",pr="/firebase-cloud-messaging-push-scope",ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uo="google.c.a.c_id",Ec="google.c.a.c_l",Yd="google.c.a.ts",Fs="google.c.a.e";var jo=(()=>{return(C=jo||(jo={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",jo;var C})();function Dr(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cc(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(O),Q=new Uint8Array(F.length);for(let re=0;re<F.length;++re)Q[re]=F.charCodeAt(re);return Q}const gr="fcm_token_details_db",Wr="fcm_token_object_Store";function du(C){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,P.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(gr))return null;let S=null;return(yield(0,ue.X3)(gr,5,{upgrade:(F=(0,P.Z)(function*(Q,re,Ae,He){var at;if(re<2||!Q.objectStoreNames.contains(Wr))return;const mt=He.objectStore(Wr),Dt=yield mt.index("fcmSenderId").get(C);if(yield mt.clear(),Dt)if(2===re){const lt=Dt;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;S={token:lt.fcmToken,createTime:null!==(at=lt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Dr(lt.vapidKey)}}}else if(3===re){const lt=Dt;S={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Dr(lt.auth),p256dh:Dr(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Dr(lt.vapidKey)}}}else if(4===re){const lt=Dt;S={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Dr(lt.auth),p256dh:Dr(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Dr(lt.vapidKey)}}}}),function(re,Ae,He,at){return F.apply(this,arguments)})})).close(),yield(0,ue.Lj)(gr),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),hu(S)?S:null;var F}),Dc.apply(this,arguments)}function hu(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const ji="firebase-messaging-store";let Qd=null;function ln(){return Qd||(Qd=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(C,S)=>{0===S&&C.createObjectStore(ji)}})),Qd}function wa(C){return so.apply(this,arguments)}function so(){return(so=(0,P.Z)(function*(C){const S=nr(C),F=yield(yield ln()).transaction(ji).objectStore(ji).get(S);if(F)return F;{const Q=yield du(C.appConfig.senderId);if(Q)return yield Qt(C,Q),Q}})).apply(this,arguments)}function Qt(C,S){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,P.Z)(function*(C,S){const O=nr(C),Q=(yield ln()).transaction(ji,"readwrite");return yield Q.objectStore(ji).put(S,O),yield Q.done,S})).apply(this,arguments)}function ml(C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,P.Z)(function*(C){const S=nr(C),F=(yield ln()).transaction(ji,"readwrite");yield F.objectStore(ji).delete(S),yield F.done})).apply(this,arguments)}function nr({appConfig:C}){return C.appId}const bn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hi(C,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,P.Z)(function*(C,S){var O;const F=yield Go(C),Q=zo(S),re={method:"POST",headers:F,body:JSON.stringify(Q)};let Ae;try{Ae=yield(yield fetch($i(C.appConfig),re)).json()}catch(He){throw bn.create("token-subscribe-failed",{errorInfo:null===(O=He)||void 0===O?void 0:O.toString()})}if(Ae.error)throw bn.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw bn.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function oo(C,S){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(C,S){var O;const F=yield Go(C),Q=zo(S.subscriptionOptions),re={method:"PATCH",headers:F,body:JSON.stringify(Q)};let Ae;try{Ae=yield(yield fetch(`${$i(C.appConfig)}/${S.token}`,re)).json()}catch(He){throw bn.create("token-update-failed",{errorInfo:null===(O=He)||void 0===O?void 0:O.toString()})}if(Ae.error)throw bn.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw bn.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function Ca(C,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*(C,S){var O;const Q={method:"DELETE",headers:yield Go(C)};try{const Ae=yield(yield fetch(`${$i(C.appConfig)}/${S}`,Q)).json();if(Ae.error)throw bn.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(re){throw bn.create("token-unsubscribe-failed",{errorInfo:null===(O=re)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function $i({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Go(C){return gt.apply(this,arguments)}function gt(){return(gt=(0,P.Z)(function*({appConfig:C,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function zo({p256dh:C,auth:S,endpoint:O,vapidKey:F}){const Q={web:{endpoint:O,auth:S,p256dh:C}};return F!==ro&&(Q.web.applicationPubKey=F),Q}const _l=6048e5;function Da(C){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(C){const S=yield fn(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:Dr(S.getKey("auth")),p256dh:Dr(S.getKey("p256dh"))},F=yield wa(C.firebaseDependencies);if(F){if(ao(F.subscriptionOptions,O))return Date.now()>=F.createTime+_l?_u(C,{token:F.token,createTime:Date.now(),subscriptionOptions:O}):F.token;try{yield Ca(C.firebaseDependencies,F.token)}catch(Q){console.warn(Q)}return kt(C.firebaseDependencies,O)}return kt(C.firebaseDependencies,O)})).apply(this,arguments)}function Ia(C){return mu.apply(this,arguments)}function mu(){return(mu=(0,P.Z)(function*(C){const S=yield wa(C.firebaseDependencies);S&&(yield Ca(C.firebaseDependencies,S.token),yield ml(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function _u(C,S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(C,S){try{const O=yield oo(C.firebaseDependencies,S),F=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield Qt(C.firebaseDependencies,F),O}catch(O){throw yield Ia(C),O}})).apply(this,arguments)}function kt(C,S){return yl.apply(this,arguments)}function yl(){return(yl=(0,P.Z)(function*(C,S){const F={token:yield Hi(C,S),createTime:Date.now(),subscriptionOptions:S};return yield Qt(C,F),F.token})).apply(this,arguments)}function fn(C,S){return qo.apply(this,arguments)}function qo(){return(qo=(0,P.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cc(S)})})).apply(this,arguments)}function ao(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}function Kr(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Sa(C,S){if(!S.notification)return;C.notification={};const O=S.notification.title;O&&(C.notification.title=O);const F=S.notification.body;F&&(C.notification.body=F);const Q=S.notification.image;Q&&(C.notification.image=Q)}(S,C),function yu(C,S){!S.data||(C.data=S.data)}(S,C),function sp(C,S){var O,F,Q,re,Ae;if(!S.fcmOptions&&!(null===(O=S.notification)||void 0===O?void 0:O.click_action))return;C.fcmOptions={};const He=null!==(Q=null===(F=S.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Q?Q:null===(re=S.notification)||void 0===re?void 0:re.click_action;He&&(C.fcmOptions.link=He);const at=null===(Ae=S.fcmOptions)||void 0===Ae?void 0:Ae.analytics_label;at&&(C.fcmOptions.analyticsLabel=at)}(S,C),S}function vl(C){return"object"==typeof C&&!!C&&Uo in C}function Ta(C,S){const O=[];for(let F=0;F<C.length;F++)O.push(C.charAt(F)),F<S.length&&O.push(S.charAt(F));return O.join("")}function kn(C){return bn.create("missing-app-config-values",{valueName:C})}Ta("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ta("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ss{constructor(S,O,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function bl(C){if(!C||!C.options)throw kn("App Configuration Object");if(!C.name)throw kn("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const F of S)if(!O[F])throw kn(F);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:O,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Aa(C){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,P.Z)(function*(C){var S;try{C.swRegistration=yield navigator.serviceWorker.register(wc,{scope:pr}),C.swRegistration.update().catch(()=>{})}catch(O){throw bn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=O)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function _i(C,S){return vu.apply(this,arguments)}function vu(){return(vu=(0,P.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield Aa(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function wl(C,S){return bu.apply(this,arguments)}function bu(){return(bu=(0,P.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=ro)})).apply(this,arguments)}function Ma(){return(Ma=(0,P.Z)(function*(C,S){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield wl(C,null==S?void 0:S.vapidKey),yield _i(C,null==S?void 0:S.serviceWorkerRegistration),Da(C)})).apply(this,arguments)}function Wo(C,S,O){return wu.apply(this,arguments)}function wu(){return(wu=(0,P.Z)(function*(C,S,O){const F=xa(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:O[Uo],message_name:O[Ec],message_time:O[Yd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xa(C){switch(C){case jo.NOTIFICATION_CLICKED:return"notification_open";case jo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Eu(){return(Eu=(0,P.Z)(function*(C,S){const O=S.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===jo.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Kr(O)):C.onMessageHandler.next(Kr(O)));const F=O.data;vl(F)&&"1"===F[Fs]&&(yield Wo(C,O.messageType,F))})).apply(this,arguments)}const Ko="@firebase/messaging",Ic=C=>{const S=new ss(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function op(C,S){return Eu.apply(this,arguments)}(S,O)),S},Zo=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:F=>function El(C,S){return Ma.apply(this,arguments)}(S,F)}};function Yo(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sc(){(0,de._registerComponent)(new pe.wA("messaging",Ic,"PUBLIC")),(0,de._registerComponent)(new pe.wA("messaging-internal",Zo,"PRIVATE")),(0,de.registerVersion)(Ko,"0.9.16"),(0,de.registerVersion)(Ko,"0.9.16","esm2017")}();const Tc="analytics",ap="firebase_id",os="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qo="https://www.googletagmanager.com/gtag/js",Qn=new ie.Yd("@firebase/analytics");function eh(C){return Promise.all(C.map(S=>S.catch(O=>O)))}function lo(C,S){const O=document.createElement("script");O.src=`${Qo}?l=${C}&id=${S}`,O.async=!0,document.head.appendChild(O)}function Mc(C,S,O,F,Q,re){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,P.Z)(function*(C,S,O,F,Q,re){const Ae=F[Q];try{if(Ae)yield S[Ae];else{const at=(yield eh(O)).find(mt=>mt.measurementId===Q);at&&(yield S[at.appId])}}catch(He){Qn.error(He)}C("config",Q,re)})).apply(this,arguments)}function Il(C,S,O,F,Q){return uo.apply(this,arguments)}function uo(){return(uo=(0,P.Z)(function*(C,S,O,F,Q){try{let re=[];if(Q&&Q.send_to){let Ae=Q.send_to;Array.isArray(Ae)||(Ae=[Ae]);const He=yield eh(O);for(const at of Ae){const mt=He.find(lt=>lt.measurementId===at),Dt=mt&&S[mt.appId];if(!Dt){re=[];break}re.push(Dt)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),C("event",F,Q||{})}catch(re){Qn.error(re)}})).apply(this,arguments)}function wn(){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(Qo))return S;return null}const Je=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cu=new class _n{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Oc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function qi(C){return Du.apply(this,arguments)}function Du(){return(Du=(0,P.Z)(function*(C){var S;const{appId:O,apiKey:F}=C,Q={method:"GET",headers:Oc(F)},re=os.replace("{app-id}",O),Ae=yield fetch(re,Q);if(200!==Ae.status&&304!==Ae.status){let He="";try{const at=yield Ae.json();(null===(S=at.error)||void 0===S?void 0:S.message)&&(He=at.error.message)}catch(at){}throw Je.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:He})}return Ae.json()})).apply(this,arguments)}function dn(C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(C,S=Cu,O){const{appId:F,apiKey:Q,measurementId:re}=C.options;if(!F)throw Je.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:F};throw Je.create("no-api-key")}const Ae=S.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Iu;return setTimeout((0,P.Z)(function*(){He.abort()}),void 0!==O?O:6e4),yi({appId:F,apiKey:Q,measurementId:re},Ae,He,S)})).apply(this,arguments)}function yi(C,S,O){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:O},F,Q=Cu){var re,Ae;const{appId:He,measurementId:at}=C;try{yield Sl(F,S)}catch(mt){if(at)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${null===(re=mt)||void 0===re?void 0:re.message}]`),{appId:He,measurementId:at};throw mt}try{const mt=yield qi(C);return Q.deleteThrottleMetadata(He),mt}catch(mt){const Dt=mt;if(!Rc(Dt)){if(Q.deleteThrottleMetadata(He),at)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${null==Dt?void 0:Dt.message}]`),{appId:He,measurementId:at};throw mt}const lt=503===Number(null===(Ae=null==Dt?void 0:Dt.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,se.$s)(O,Q.intervalMillis,30):(0,se.$s)(O,Q.intervalMillis),En={throttleEndTimeMillis:Date.now()+lt,backoffCount:O+1};return Q.setThrottleMetadata(He,En),Qn.debug(`Calling attemptFetch again in ${lt} millis`),yi(C,En,F,Q)}})).apply(this,arguments)}function Sl(C,S){return new Promise((O,F)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(O,Q);C.addEventListener(()=>{clearTimeout(re),F(Je.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Rc(C){if(!(C instanceof se.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Iu{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Na,Va;function Bs(){return(Bs=(0,P.Z)(function*(C,S,O,F,Q){if(Q&&Q.global)C("event",O,F);else{const re=yield S;C("event",O,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Ba(C){Va=C}function vi(C){Na=C}function po(){return as.apply(this,arguments)}function as(){return(as=(0,P.Z)(function*(){var C;if(!(0,se.hl)())return Qn.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return Qn.warn(Je.create("indexeddb-unavailable",{errorInfo:null===(C=S)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(C,S,O,F,Q,re,Ae){var He;const at=dn(C);at.then(_r=>{O[_r.measurementId]=_r.appId,C.options.measurementId&&_r.measurementId!==C.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>Qn.error(_r)),S.push(at);const mt=po().then(_r=>{if(_r)return F.getId()}),[Dt,lt]=yield Promise.all([at,mt]);wn()||lo(re,Dt.measurementId),Va&&(Q("consent","default",Va),Ba(void 0)),Q("js",new Date);const En=null!==(He=null==Ae?void 0:Ae.config)&&void 0!==He?He:{};return En.origin="firebase",En.update=!0,null!=lt&&(En[ap]=lt),Q("config",Dt.measurementId,En),Na&&(Q("set",Na),vi(void 0)),Dt.measurementId})).apply(this,arguments)}class go{constructor(S){this.app=S}_delete(){return delete Ki[this.app.options.appId],Promise.resolve()}}let Ki={},gn=[];const Sr={};let bi,yn,$n="dataLayer",mr=!1;function Su(C,S,O){!function Tl(){const C=[];if((0,se.ru)()&&C.push("This is a browser extension environment."),(0,se.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((F,Q)=>`(${Q+1}) ${F}`).join(" "),O=Je.create("invalid-analytics-context",{errorInfo:S});Qn.warn(O.message)}}();const F=C.options.appId;if(!F)throw Je.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Je.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ki[F])throw Je.create("already-exists",{id:F});if(!mr){!function Cl(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}($n);const{wrappedGtag:re,gtagCore:Ae}=function lp(C,S,O,F,Q){let re=function(...Ae){window[F].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function xc(C,S,O,F){function re(){return(re=(0,P.Z)(function*(Ae,He,at){try{"event"===Ae?yield Il(C,S,O,He,at):"config"===Ae?yield Mc(C,S,O,F,He,at):"consent"===Ae?C("consent","update",at):C("set",He)}catch(mt){Qn.error(mt)}})).apply(this,arguments)}return function Q(Ae,He,at){return re.apply(this,arguments)}}(re,C,S,O),{gtagCore:re,wrappedGtag:window[Q]}}(Ki,gn,Sr,$n,"gtag");yn=re,bi=Ae,mr=!0}return Ki[F]=function ir(C,S,O,F,Q,re,Ae){return In.apply(this,arguments)}(C,gn,Sr,S,bi,$n,O),new go(C)}function nh(){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(C){return!1}})).apply(this,arguments)}const Ml="@firebase/analytics";!function cp(){(0,de._registerComponent)(new pe.wA(Tc,(S,{options:O})=>Su(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,de._registerComponent)(new pe.wA("analytics-internal",function C(S){try{const O=S.getProvider(Tc).getImmediate();return{logEvent:(F,Q,re)=>function Al(C,S,O,F){C=(0,se.m9)(C),function pn(C,S,O,F,Q){return Bs.apply(this,arguments)}(yn,Ki[C.app.options.appId],S,O,F).catch(Q=>Qn.error(Q))}(O,F,Q,re)}}catch(O){throw Je.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,de.registerVersion)(Ml,"0.8.0"),(0,de.registerVersion)(Ml,"0.8.0","esm2017")}();var Tu=k(4408),Xr=k(7565);const _o=new class Jo extends Xr.v{}(class Qr extends Tu.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(S,O,F):S.flush(this)}});var Ol=k(4986),ja=k(8505),yo=k(9468),Au=k(5363);const Pt=new d.GfV("7.4.1"),Rl="__angularfire_symbol__analyticsIsSupportedValue",Pn="__angularfire_symbol__analyticsIsSupported",$s="__angularfire_symbol__remoteConfigIsSupportedValue",wi="__angularfire_symbol__remoteConfigIsSupported",Pc="__angularfire_symbol__messagingIsSupportedValue",kl="__angularfire_symbol__messagingIsSupported";function Pl(C,S,O){if(S){if(1===S.length)return S[0];const re=S.filter(Ae=>Ae.app===O);if(1===re.length)return re[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[Pn]||(globalThis[Pn]=nh().then(C=>globalThis[Rl]=C).catch(()=>globalThis[Rl]=!1)),globalThis[kl]||(globalThis[kl]=Yo().then(C=>globalThis[Pc]=C).catch(()=>globalThis[Pc]=!1)),globalThis[wi]||(globalThis[wi]=gl().then(C=>globalThis[$s]=C).catch(()=>globalThis[$s]=!1));const xu=(C,S)=>{const O=S?[S]:(0,J.C6)(),F=[];return O.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Ae=>{F.includes(Ae)||F.push(Ae)})}),F};function mn(){}class Gn{constructor(S,O=_o){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,F){const Q=this.zone;return this.delegate.schedule(function(Ae){Q.runGuarded(()=>{S.apply(this,[Ae])})},O,F)}}class dp{constructor(S){this.zone=S,this.task=null}call(S,O){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mn,{},mn,mn)),O.pipe((0,ja.b)({next:F,complete:F,error:F})).subscribe(S).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $a=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Gn(Zone.current)),this.insideAngular=O.run(()=>new Gn(Zone.current,Ol.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Jr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ga(C){return Jr(),function Ou(C){return function(O){return(O=O.lift(new dp(C.ngZone))).pipe((0,yo.R)(C.outsideAngular),(0,Au.Q)(C.insideAngular))}}(Jr())(C)}},2090:(Xe,ve,k)=>{k.d(ve,{BH:()=>je,LL:()=>le,ZR:()=>me,zI:()=>Y,US:()=>pe,tV:()=>ge,L:()=>ue,$s:()=>dr,r3:()=>wr,Sg:()=>De,ne:()=>yt,vZ:()=>$r,ZB:()=>$,pd:()=>Pr,m9:()=>xs,z$:()=>Re,jU:()=>Ce,ru:()=>Ge,d:()=>Te,xb:()=>Nt,w1:()=>_e,hl:()=>W,uI:()=>Be,UG:()=>he,b$:()=>Ye,G6:()=>Ue,Mn:()=>Ee,xO:()=>Ri,zd:()=>As,eu:()=>be});const de=function(U){const z=[];let V=0;for(let j=0;j<U.length;j++){let q=U.charCodeAt(j);q<128?z[V++]=q:q<2048?(z[V++]=q>>6|192,z[V++]=63&q|128):55296==(64512&q)&&j+1<U.length&&56320==(64512&U.charCodeAt(j+1))?(q=65536+((1023&q)<<10)+(1023&U.charCodeAt(++j)),z[V++]=q>>18|240,z[V++]=q>>12&63|128,z[V++]=q>>6&63|128,z[V++]=63&q|128):(z[V++]=q>>12|224,z[V++]=q>>6&63|128,z[V++]=63&q|128)}return z},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,z){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let q=0;q<U.length;q+=3){const xe=U[q],Ve=q+1<U.length,ct=Ve?U[q+1]:0,nn=q+2<U.length,qt=nn?U[q+2]:0;let zr=(15&ct)<<2|qt>>6,Ni=63&qt;nn||(Ni=64,Ve||(zr=64)),j.push(V[xe>>2],V[(3&xe)<<4|ct>>4],V[zr],V[Ni])}return j.join("")},encodeString(U,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(U):this.encodeByteArray(de(U),z)},decodeString(U,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(U):function(U){const z=[];let V=0,j=0;for(;V<U.length;){const q=U[V++];if(q<128)z[j++]=String.fromCharCode(q);else if(q>191&&q<224){const xe=U[V++];z[j++]=String.fromCharCode((31&q)<<6|63&xe)}else if(q>239&&q<365){const nn=((7&q)<<18|(63&U[V++])<<12|(63&U[V++])<<6|63&U[V++])-65536;z[j++]=String.fromCharCode(55296+(nn>>10)),z[j++]=String.fromCharCode(56320+(1023&nn))}else{const xe=U[V++],Ve=U[V++];z[j++]=String.fromCharCode((15&q)<<12|(63&xe)<<6|63&Ve)}}return z.join("")}(this.decodeStringToByteArray(U,z))},decodeStringToByteArray(U,z){this.init_();const V=z?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let q=0;q<U.length;){const xe=V[U.charAt(q++)],ct=q<U.length?V[U.charAt(q)]:0;++q;const qt=q<U.length?V[U.charAt(q)]:64;++q;const Rt=q<U.length?V[U.charAt(q)]:64;if(++q,null==xe||null==ct||null==qt||null==Rt)throw Error();j.push(xe<<2|ct>>4),64!==qt&&(j.push(ct<<4&240|qt>>2),64!==Rt&&j.push(qt<<6&192|Rt))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ue=function(U){return function(U){const z=de(U);return pe.encodeByteArray(z,!0)}(U).replace(/\./g,"")},ge=function(U){try{return pe.decodeString(U,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function $(U,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return z}for(const V in z)!z.hasOwnProperty(V)||!te(V)||(U[V]=$(U[V],z[V]));return U}function te(U){return"__proto__"!==U}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,V)=>{this.resolve=z,this.reject=V})}wrapCallback(z){return(V,j)=>{V?this.reject(V):this.resolve(j),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(V):z(V,j))}}}function De(U,z){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=z||"demo-project",q=U.iat||0,xe=U.sub||U.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:q,exp:q+3600,auth_time:q,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ve)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){return Re().indexOf("Electron/")>=0}function _e(){const U=Re();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ee(){return Re().indexOf("MSAppHost/")>=0}function Ue(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function be(){return new Promise((U,z)=>{try{let V=!0;const j="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(j);q.onsuccess=()=>{q.result.close(),V||self.indexedDB.deleteDatabase(j),U(!0)},q.onupgradeneeded=()=>{V=!1},q.onerror=()=>{var xe;z((null===(xe=q.error)||void 0===xe?void 0:xe.message)||"")}}catch(V){z(V)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(z,V,j){super(V),this.code=z,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(z,V,j){this.service=z,this.serviceName=V,this.errors=j}create(z,...V){const j=V[0]||{},q=`${this.service}/${z}`,xe=this.errors[z],Ve=xe?function ke(U,z){return U.replace(ht,(V,j)=>{const q=z[j];return null!=q?String(q):`<${j}?>`})}(xe,j):"Error";return new me(q,`${this.serviceName}: ${Ve} (${q}).`,j)}}const ht=/\{\$([^}]+)}/g;function wr(U,z){return Object.prototype.hasOwnProperty.call(U,z)}function Nt(U){for(const z in U)if(Object.prototype.hasOwnProperty.call(U,z))return!1;return!0}function $r(U,z){if(U===z)return!0;const V=Object.keys(U),j=Object.keys(z);for(const q of V){if(!j.includes(q))return!1;const xe=U[q],Ve=z[q];if(ur(xe)&&ur(Ve)){if(!$r(xe,Ve))return!1}else if(xe!==Ve)return!1}for(const q of j)if(!V.includes(q))return!1;return!0}function ur(U){return null!==U&&"object"==typeof U}function Ri(U){const z=[];for(const[V,j]of Object.entries(U))Array.isArray(j)?j.forEach(q=>{z.push(encodeURIComponent(V)+"="+encodeURIComponent(q))}):z.push(encodeURIComponent(V)+"="+encodeURIComponent(j));return z.length?"&"+z.join("&"):""}function As(U){const z={};return U.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[q,xe]=j.split("=");z[decodeURIComponent(q)]=decodeURIComponent(xe)}}),z}function Pr(U){const z=U.indexOf("?");if(!z)return"";const V=U.indexOf("#",z);return U.substring(z,V>0?V:void 0)}function yt(U,z){const V=new Nr(U,z);return V.subscribe.bind(V)}class Nr{constructor(z,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{z(this)}).catch(j=>{this.error(j)})}next(z){this.forEachObserver(V=>{V.next(z)})}error(z){this.forEachObserver(V=>{V.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,V,j){let q;if(void 0===z&&void 0===V&&void 0===j)throw new Error("Missing Observer.");q=function Bn(U,z){if("object"!=typeof U||null===U)return!1;for(const V of z)if(V in U&&"function"==typeof U[V])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:V,complete:j},void 0===q.next&&(q.next=Pi),void 0===q.error&&(q.error=Pi),void 0===q.complete&&(q.complete=Pi);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Ve){}}),this.observers.push(q),xe}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,z)}sendOne(z,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{V(this.observers[z])}catch(j){"undefined"!=typeof console&&console.error&&console.error(j)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pi(){}function dr(U,z=1e3,V=2){const j=z*Math.pow(V,U),q=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+q)}function xs(U){return U&&U._delegate?U._delegate:U}},5068:(Xe,ve,k)=>{var d=k(5e3);let J=null;function P(){return J}const ie=new d.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ge(){return(0,d.LFG)($)}()},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let $=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function je(){return new $((0,d.LFG)(ie))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function De(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,d.LFG)(ie).location;return new Ye((0,d.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ge=new d.OlP("appBaseHref");let Ye=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return De(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Be(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Be(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(Ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=De(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Be(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Be(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(Ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(Ue(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function Le(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=De,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ee(){return new _e((0,d.LFG)(he),(0,d.LFG)(ue))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}let ns=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Rs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Rs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),no(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{no(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function no(n,e){n.context.$implicit=e.item}let Hn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new an,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class an{constructor(){this.$implicit=null,this.ngIf=null}}function pl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class ya{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let hr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),qr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ya(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(hr,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),va=(()=>{class n{constructor(t,r,i){i._addDefault(new ya(t,r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(hr,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Ps{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class mc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const tp=new mc,rs=new Ps;let Kd=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return tp;if((0,d.F4k)(t))return rs;throw function fr(n,e){return new d.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),Fs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const io="browser";function Ho(n){return"server"===n}let hu=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new $o((0,d.LFG)(ie),window)}),n})();class $o{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ji(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fu(this.window.history)||fu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class so extends class wa extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){J||(J=n)}(new so)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ea(){return Qt=Qt||document.querySelector("base"),Qt?Qt.getAttribute("href"):null}();return null==t?null:function Ls(n){ml=ml||document.createElement("a"),ml.setAttribute("href",n);const e=ml.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _a(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ml,Qt=null;const nr=new d.OlP("TRANSITION_ID"),bn=[{provide:d.ip1,useFactory:function pu(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[nr,ie,d.zs3],multi:!0}];class Hi{static init(){(0,d.VLi)(new Hi)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let rr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new d.OlP("EventManagerPlugins");let is=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ca{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),$i=(()=>{class n extends mi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Go),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Go))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Go(n){P().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zo=/%COMP%/g;function Ie(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ie(n,i,t):(i=i.replace(zo,n),t.push(i))}return t}function kt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Sa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new yu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ie(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(is),d.LFG($i),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class qo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=gt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kt(r)):this.eventManager.addEventListener(e,t,kt(r))}}class Sa extends qo{constructor(e,t,r,i){super(e),this.component=r;const a=Ie(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function mu(n){return"_ngcontent-%COMP%".replace(zo,n)}(i+"-"+r.id),this.hostAttr=function _u(n){return"_nghost-%COMP%".replace(zo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yu extends qo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ie(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sp=(()=>{class n extends Ca{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vl=["alt","control","meta","shift"],bl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ss={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Aa=(()=>{class n extends Ca{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(vl.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function Vs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&kn.hasOwnProperty(e)&&(e=kn[e]))}return bl[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vl.forEach(a=>{a!=i&&ss[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const El=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:io},{provide:d.g9A,useValue:function _i(){so.makeCurrent(),Hi.init()},multi:!0},{provide:ie,useFactory:function wl(){return(0,d.RDi)(document),document},deps:[]}]),Ma=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function vu(){return new d.qLn},deps:[]},{provide:oo,useClass:sp,multi:!0,deps:[ie,d.R0b,d.Lbi]},{provide:oo,useClass:Aa,multi:!0,deps:[ie]},{provide:fn,useClass:fn,deps:[is,$i,d.AFp]},{provide:d.FYo,useExisting:fn},{provide:mi,useExisting:$i},{provide:$i,useClass:$i,deps:[ie]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:is,useClass:is,deps:[oo,d.R0b]},{provide:class ln{},useClass:rr,deps:[]}];let Wo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:nr,useExisting:d.AFp},bn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Ma,imports:[Fs,d.hGG]}),n})();"undefined"!=typeof window&&window;var wn=k(8996),ka=k(3269);function Je(...n){const e=(0,ka.yG)(n);return(0,wn.D)(n,e)}var jt=k(7579);class Ir extends jt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var _n=k(8306);const{isArray:Cu}=Array,{getPrototypeOf:Oc,prototype:qi,keys:Du}=Object;function dn(n){if(1===n.length){const e=n[0];if(Cu(e))return{args:e,keys:null};if(function Pa(n){return n&&"object"==typeof n&&Oc(n)===qi}(e)){const t=Du(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var yi=k(4671),Ct=k(4004);const{isArray:Sl}=Array;function Iu(n){return(0,Ct.U)(e=>function Rc(n,e){return Sl(e)?n(...e):n(e)}(n,e))}function Na(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var pn=k(5403),Bs=k(9672);function Fa(...n){const e=(0,ka.yG)(n),t=(0,ka.jO)(n),{args:r,keys:i}=dn(n);if(0===r.length)return(0,wn.D)([],e);const a=new _n.y(function Wi(n,e,t=yi.y){return r=>{Us(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)Us(e,()=>{const w=(0,wn.D)(n[_],e);let I=!1;w.subscribe((0,pn.x)(r,M=>{a[_]=M,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Na(i,c):yi.y));return t?a.pipe(Iu(t)):a}function Us(n,e,t){n?(0,Bs.f)(t,n,e):e()}var Zr=k(576);function co(n,e){const t=(0,Zr.m)(n)?n:()=>n,r=i=>i.error(t());return new _n.y(e?i=>e.schedule(r,0,i):r)}const ho=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var fo=k(8189);function Ba(...n){return function Va(){return(0,fo.J)(1)}()((0,wn.D)(n,(0,ka.yG)(n)))}var vi=k(8421);function po(n){return new _n.y(e=>{(0,vi.Xf)(n()).subscribe(e)})}var as=k(515),ir=k(727),In=k(4482);function go(){return(0,In.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ki extends _n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,In.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ir.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ir.w0.EMPTY)}return e}refCount(){return go()(this)}}function gn(n,e){return(0,In.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,pn.x)(r,_=>{null==i||i.unsubscribe();let w=0;const I=a++;(0,vi.Xf)(n(_,I)).subscribe(i=(0,pn.x)(r,M=>r.next(e?e(_,M,I,w++):M),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function Sr(n){return n<=0?()=>as.E:(0,In.e)((e,t)=>{let r=0;e.subscribe((0,pn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $n(...n){const e=(0,ka.yG)(n);return(0,In.e)((t,r)=>{(e?Ba(n,t,e):Ba(n,t)).subscribe(r)})}function js(n,e,t,r,i){return(a,c)=>{let f=t,_=e,w=0;a.subscribe((0,pn.x)(c,I=>{const M=w++;_=f?n(_,I,M):(f=!0,I),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}function bi(n,e){return(0,In.e)(js(n,e,arguments.length>=2,!0))}function yn(n,e){return(0,In.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function mr(n){return(0,In.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,pn.x)(t,void 0,void 0,c=>{a=(0,vi.Xf)(n(c,mr(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Sn=k(5577);function Tl(n,e){return(0,Zr.m)(e)?(0,Sn.z)(n,e,1):(0,Sn.z)(n,1)}function Su(n){return n<=0?()=>as.E:(0,In.e)((e,t)=>{let r=[];e.subscribe((0,pn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vn(n=th){return(0,In.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function th(){return new ho}function nh(n){return(0,In.e)((e,t)=>{let r=!1;e.subscribe((0,pn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ua(n,e){const t=arguments.length>=2;return r=>r.pipe(n?yn((i,a)=>n(i,a,r)):yi.y,Sr(1),t?nh(e):vn(()=>new ho))}var Yr=k(8505);class mo{constructor(e,t){this.id=e,this.url=t}}class Xo extends mo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends mo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tn extends mo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ml extends mo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hs extends mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cp extends mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu extends mo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qr extends mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr extends mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _o{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xl{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ol{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Au{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Rl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pn(n){return new Rl(n)}const $s="ngNavigationCancelingError";function wi(n){const e=Error("NavigationCancelingError: "+n);return e[$s]=!0,e}function kl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ls(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Mu(n[i],e[i]))return!1;return!0}function Mu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function rh(n){return Array.prototype.concat.apply([],n)}function Pl(n){return n.length>0?n[n.length-1]:null}function mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gn(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,wn.D)(Promise.resolve(n)):Je(n)}const $a={exact:function ih(n,e,t){if(!F(n.segments,e.segments)||!Gs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ih(n.children[r],e.children[r],t))return!1;return!0},subset:Ga},Jr={exact:function us(n,e){return ls(n,e)},subset:function Nc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Mu(n[t],e[t]))},ignored:()=>!0};function vo(n,e,t){return $a[t.paths](n.root,e.root,t.matrixParams)&&Jr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ga(n,e,t){return Ou(n,e,e.segments,t)}function Ou(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!F(i,t)||e.hasChildren()||!Gs(i,t,r))}if(n.segments.length===t.length){if(!F(n.segments,t)||!Gs(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ga(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(F(n.segments,i)&&Gs(n.segments,i,r)&&n.children[Pt])&&Ou(n.children[Pt],e,a,r)}}function Gs(n,e,t){return e.every((r,i)=>Jr[t](n[i].parameters,r.parameters))}class bo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return He.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return at(this)}}class S{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return Ei(this)}}function F(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class re{}class Ae{parse(e){const t=new Rm(e);return new bo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mt(e.root,!0)}`,r=function Nl(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lt(t)}=${lt(i)}`).join("&"):`${lt(t)}=${lt(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function En(n){return encodeURI(n)}(e.fragment)}`:""}`}}const He=new Ae;function at(n){return n.segments.map(e=>Ei(e)).join("/")}function mt(n,e){if(!n.hasChildren())return at(n);if(e){const t=n.children[Pt]?mt(n.children[Pt],!1):"",r=[];return mn(n.children,(i,a)=>{a!==Pt&&r.push(`${a}:${mt(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Q(n,e){let t=[];return mn(n.children,(r,i)=>{i===Pt&&(t=t.concat(e(r,i)))}),mn(n.children,(r,i)=>{i!==Pt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Pt?[mt(n.children[Pt],!1)]:[`${i}:${mt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${at(n)}/${t[0]}`:`${at(n)}/(${t.join("//")})`}}function Dt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lt(n){return Dt(n).replace(/%3B/gi,";")}function _r(n){return Dt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cs(n){return decodeURIComponent(n)}function ds(n){return cs(n.replace(/\+/g,"%20"))}function Ei(n){return`${_r(n.path)}${function Fc(n){return Object.keys(n).map(e=>`;${_r(e)}=${_r(n[e])}`).join("")}(n.parameters)}`}const wo=/^[^\/()?;=#]+/;function yr(n){const e=n.match(wo);return e?e[0]:""}const Zi=/^[^=?&#]+/,hp=/^[^&#]+/;class Rm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new C(e,t)),r}parseSegment(){const e=yr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new S(cs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yr(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yr(this.remaining);i&&(r=i,this.capture(r))}e[cs(t)]=cs(r)}parseQueryParam(e){const t=function Lc(n){const e=n.match(Zi);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function fp(n){const e=n.match(hp);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ds(t),a=ds(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yr(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Pt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Pt]:new C([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class pp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=sh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fl(e,this._root).map(t=>t.value)}}function sh(n,e){if(n===e.value)return e;for(const t of e.children){const r=sh(n,t);if(r)return r}return null}function Fl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Fl(n,t);if(r.length)return r.unshift(e),r}return[]}class Eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Co(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vc extends pp{constructor(e,t){super(e),this.snapshot=t,Uc(this,e)}toString(){return this.snapshot.toString()}}function za(n,e){const t=function km(n,e){const c=new ea([],{},{},"",{},Pt,e,null,n.root,-1,{});return new oh("",new Eo(c,[]))}(n,e),r=new Ir([new S("",{})]),i=new Ir({}),a=new Ir({}),c=new Ir({}),f=new Ir(""),_=new Ll(r,i,c,f,a,Pt,e,t.root);return _.snapshot=t.root,new Vc(new Eo(_,[]),t)}class Ll{constructor(e,t,r,i,a,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>Pn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>Pn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Bc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ea{constructor(e,t,r,i,a,c,f,_,w,I,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oh extends pp{constructor(e,t){super(t),this.url=e,Uc(this,t)}toString(){return ah(this._root)}}function Uc(n,e){e.value._routerState=n,e.children.forEach(t=>Uc(n,t))}function ah(n){const e=n.children.length>0?` { ${n.children.map(ah).join(", ")} } `:"";return`${n.value}${e}`}function jc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ls(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ls(e.params,t.params)||n.params.next(t.params),function Ha(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ls(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ls(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lh(n,e){const t=ls(n.params,e.params)&&function O(n,e){return F(n,e)&&n.every((t,r)=>ls(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lh(n.parent,e.parent))}function Ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Nm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ru(n,r,i);return Ru(n,r)})}(n,e,t);return new Eo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Ru(n,f)),c}}const r=function Fm(n){return new Ll(new Ir(n.url),new Ir(n.params),new Ir(n.queryParams),new Ir(n.fragment),new Ir(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Ru(n,a));return new Eo(r,i)}}function zs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ku(n){return"object"==typeof n&&null!=n&&n.outlets}function Hc(n,e,t,r,i){let a={};if(r&&mn(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new bo(t,a,i);const c=Lm(n,e,t);return new bo(c,a,i)}function Lm(n,e,t){const r={};return mn(n.children,(i,a)=>{r[a]=i===e?t:Lm(i,e,t)}),new C(n.segments,r)}class mp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zs(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ku);if(i&&i!==Pl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $c{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function bp(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return Gc(n,e,t);const r=function Rb(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(ku(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!hs(_,w,c))return a;r+=2}else{if(!hs(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new C(n.segments.slice(0,r.pathIndex),{});return a.children[Pt]=new C(n.segments.slice(r.pathIndex),n.children),Gc(a,0,i)}return r.match&&0===i.length?new C(n.segments,{}):r.match&&!n.hasChildren()?wp(n,e,t):r.match?Gc(n,0,i):wp(n,e,t)}function Gc(n,e,t){if(0===t.length)return new C(n.segments,{});{const r=function vp(n){return ku(n[0])?n[0].outlets:{[Pt]:n}}(t),i={};return mn(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=bp(n.children[c],e,a))}),mn(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new C(n.segments,i)}}function wp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(ku(a)){const _=qs(a.outlets);return new C(r,_)}if(0===i&&zs(t[0])){r.push(new S(n.segments[e].path,uh(t[0]))),i++;continue}const c=ku(a)?a.outlets[Pt]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&zs(f)?(r.push(new S(c,uh(f))),i+=2):(r.push(new S(c,{})),i++)}return new C(r,{})}function qs(n){const e={};return mn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wp(new C([],{}),0,t))}),e}function uh(n){const e={};return mn(n,(t,r)=>e[r]=`${t}`),e}function hs(n,e,t){return n==t.path&&ls(e,t.parameters)}class Ep{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Co(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),mn(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Co(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Co(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Co(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new yo(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Ol(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(jc(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),jc(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function zc(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class qc{constructor(e,t){this.routes=e,this.module=t}}function Wa(n){return"function"==typeof n}function Vl(n){return n instanceof bo}const Wc=Symbol("INITIAL_VALUE");function Bl(){return gn(n=>Fa(n.map(e=>e.pipe(Sr(1),$n(Wc)))).pipe(bi((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Wc?i:(a===Wc&&(r=!0),r||!1!==a&&c!==t.length-1&&!Vl(a)?i:a),e)},Wc),yn(e=>e!==Wc),(0,Ct.U)(e=>Vl(e)?e:!0===e),Sr(1)))}class Vm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ul,this.attachRef=null}}class Ul{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Vm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Nu=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Bm(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ul),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Bm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ll?this.route:e===Ul?this.childContexts:this.parent.get(e,t)}}let hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Nu],encapsulation:2}),n})();function Ka(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];fh(r,ph(e,r))}}function fh(n,e){n.children&&Ka(n.children,e)}function ph(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function gh(n){const e=n.children&&n.children.map(gh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=hh),t}function Wt(n){return n.outlet||Pt}function Dp(n,e){const t=n.filter(r=>Wt(r)===e);return t.push(...n.filter(r=>Wt(r)!==e)),t}const Ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ip):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||kl)(t,n,e);if(!a)return Object.assign({},Ip);const c={};mn(a.posParams,(_,w)=>{c[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Hl(n,e,t,r,i="corrected"){if(t.length>0&&function Hm(n,e,t){return t.some(r=>na(n,e,r)&&Wt(r)!==Pt)}(n,t,r)){const c=new C(e,function jm(n,e,t,r){const i={};i[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Wt(a)!==Pt){const c=new C([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Wt(a)]=c}return i}(n,e,r,new C(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function $m(n,e,t){return t.some(r=>na(n,e,r))}(n,t,r)){const c=new C(n.segments,function Um(n,e,t,r,i,a){const c={};for(const f of r)if(na(n,t,f)&&!i[Wt(f)]){const _=new C([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Wt(f)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new C(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function na(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gm(n,e,t,r){return!!(Wt(n)===r||r!==Pt&&na(e,t,n))&&("**"===n.path||jl(e,n,t).matched)}function Sp(n,e,t){return 0===e.length&&!n.children[t]}class ra{constructor(e){this.segmentGroup=e||null}}class Tr{constructor(e){this.urlTree=e}}function Za(n){return co(new ra(n))}function mh(n){return co(new Tr(n))}class Kc{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Hl(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,Ct.U)(a=>this.createUrlTree(Fu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mr(a=>{if(a instanceof Tr)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ra?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,Ct.U)(i=>this.createUrlTree(Fu(i),e.queryParams,e.fragment))).pipe(mr(i=>{throw i instanceof ra?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new C([],{[Pt]:e}):e;return new bo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(a=>new C([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,wn.D)(i).pipe(Tl(a=>{const c=r.children[a],f=Dp(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Ct.U)(_=>({segment:_,outlet:a})))}),bi((a,c)=>(a[c.outlet]=c.segment,a),{}),function kc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?yn((i,a)=>n(i,a,r)):yi.y,Su(1),t?nh(e):vn(()=>new ho))}())}expandSegment(e,t,r,i,a,c){return(0,wn.D)(r).pipe(Tl(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(mr(w=>{if(w instanceof ra)return Je(null);throw w}))),Ua(f=>!!f),mr((f,_)=>{if(f instanceof ho||"EmptyError"===f.name)return Sp(t,i,a)?Je(new C([],{})):Za(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Gm(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Za(t):Za(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mh(a):this.lineralizeSegments(r,a).pipe((0,Sn.z)(c=>{const f=new C(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=jl(t,i,a);if(!f)return Za(t);const M=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?mh(M):this.lineralizeSegments(i,M).pipe((0,Sn.z)(L=>this.expandSegment(e,t,r,L.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Je(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ct.U)(M=>(r._loadedConfig=M,new C(i,{})))):Je(new C(i,{}));const{matched:c,consumedSegments:f,remainingSegments:_}=jl(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Sn.z)(I=>{const M=I.module,L=I.routes,{segmentGroup:B,slicedSegments:Z}=Hl(t,f,_,L),oe=new C(B.segments,B.children);if(0===Z.length&&oe.hasChildren())return this.expandChildren(M,L,oe).pipe((0,Ct.U)(st=>new C(f,st)));if(0===L.length&&0===Z.length)return Je(new C(f,{}));const Me=Wt(r)===a;return this.expandSegment(M,oe,L,Z,Me?Pt:a,!0).pipe((0,Ct.U)(rt=>new C(f.concat(rt.segments),rt.children)))})):Za(t)}getChildConfig(e,t,r){return t.children?Je(new qc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Je(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Sn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ct.U)(a=>(t._loadedConfig=a,a))):function sr(n){return co(wi(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Je(new qc([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Je(i.map(c=>{const f=e.get(c);let _;if(function ch(n){return n&&Wa(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Wa(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return Gn(_)})).pipe(Bl(),(0,Yr.b)(c=>{if(!Vl(c))return;const f=wi(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Ct.U)(c=>!0===c)):Je(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Je(r);if(i.numberOfChildren>1||!i.children[Pt])return co(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new bo(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return mn(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new C(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Fu(n){const e={};for(const r of Object.keys(n.children)){const a=Fu(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function zm(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}class ei{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Do{constructor(e,t){this.component=e,this.route=t}}function Ap(n,e,t){const r=n._root;return Qa(r,e?e._root:null,t,[r.value])}function $l(n,e,t){const r=function yh(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Qa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Co(e);return n.children.forEach(c=>{(function xp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function qm(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!F(n.url,e.url);case"pathParamsOrQueryParamsChange":return!F(n.url,e.url)||!ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lh(n,e)||!ls(n.queryParams,e.queryParams);default:return!lh(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ei(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Qa(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Do(f.outlet.component,c))}else c&&ti(e,f,i),i.canActivateChecks.push(new ei(r)),Qa(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),mn(a,(c,f)=>ti(c,t.getContext(f),i)),i}function ti(n,e,t){const r=Co(n),i=n.value;mn(r,(a,c)=>{ti(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Do(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class kp{}function Ws(n){return new _n.y(e=>e.error(n))}class Pp{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=Hl(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new ea([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Eo(r,t),a=new oh(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Pm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=Dp(e,a),_=this.processSegmentGroup(f,c,a);if(null===_)return null;r.push(..._)}const i=Fp(r);return function Np(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return Sp(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Gm(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const B=r.length>0?Pl(r).parameters:{};a=new ea(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Wt(e),e.component,e,Xa(t),fs(t)+r.length,p(e))}else{const B=jl(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,a=new ea(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Wt(e),e.component,e,Xa(t),fs(t)+c.length,p(e))}const _=function Zm(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=Hl(t,c,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const B=this.processChildren(_,w);return null===B?null:[new Eo(a,B)]}if(0===_.length&&0===I.length)return[new Eo(a,[])];const M=Wt(e)===i,L=this.processSegment(_,w,I,M?Pt:i);return null===L?null:[new Eo(a,L)]}}function wh(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fp(n){const e=[],t=new Set;for(const r of n){if(!wh(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Fp(r.children);e.push(new Eo(r.value,i))}return e.filter(r=>!t.has(r))}function Xa(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fs(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ne(n){return gn(e=>{const t=n(e);return t?(0,wn.D)(t).pipe((0,Ct.U)(()=>e)):Je(e)})}class pt extends class vt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const An=new d.OlP("ROUTES");class ri{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ct.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new qc(rh(c.injector.get(An,void 0,d.XFs.Self|d.XFs.Optional)).map(gh),c)}),mr(a=>{throw t._loader$=void 0,a}));return t._loader$=new Ki(i,()=>new jt.x).pipe(go()),t._loader$}loadModuleFactory(e){return Gn(e()).pipe((0,Sn.z)(t=>t instanceof d.YKP?Je(t):(0,wn.D)(this.compiler.compileModuleAsync(t))))}}class Ym{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ia(n){throw n}function Yc(n,e,t){return e.parse("/")}function Qc(n,e){return Je(null)}const Eh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{class n{constructor(t,r,i,a,c,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jt.x,this.errorHandler=ia,this.malformedUriErrorHandler=Yc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qc,afterPreactivation:Qc},this.urlHandlingStrategy=new Ym,this.routeReuseStrategy=new pt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const M=c.get(d.R0b);this.isNgZoneEnabled=M instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function dp(){return new bo(new C([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ri(c,f,L=>this.triggerEvent(new Jo(L)),L=>this.triggerEvent(new _o(L))),this.routerState=za(this.currentUrlTree,this.rootComponentType),this.transitions=new Ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(yn(i=>0!==i.id),(0,Ct.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),gn(i=>{let a=!1,c=!1;return Je(i).pipe((0,Yr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Dh(f.source)&&(this.browserUrlTree=f.extractedUrl),Je(f).pipe(gn(M=>{const L=this.transitions.getValue();return r.next(new Xo(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?as.E:Promise.resolve(M)}),function Tp(n,e,t,r){return gn(i=>function Ya(n,e,t,r,i){return new Kc(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ct.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function m(n,e,t,r,i){return(0,Sn.z)(a=>function Lu(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new Pp(n,e,t,r,i,a).recognize();return null===c?Ws(new kp):Je(c)}catch(c){return Ws(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Ct.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new Hs(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:Z,restoredState:oe,extras:Me}=f,et=new Xo(L,this.serializeUrl(B),Z,oe);r.next(et);const rt=za(B,this.rootComponentType).snapshot;return Je(Object.assign(Object.assign({},f),{targetSnapshot:rt,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Me),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),as.E}),Ne(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Yr.b)(f=>{const _=new cp(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Ct.U)(f=>Object.assign(Object.assign({},f),{guards:Ap(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Op(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?Je(Object.assign(Object.assign({},t),{guardsResult:!0})):function Wm(n,e,t,r){return(0,wn.D)(n).pipe((0,Sn.z)(i=>function bh(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Je(a.map(f=>{const _=$l(f,e,i);let w;if(function kb(n){return n&&Wa(n.canDeactivate)}(_))w=Gn(_.canDeactivate(n,e,t,r));else{if(!Wa(_))throw new Error("Invalid CanDeactivate guard");w=Gn(_(n,e,t,r))}return w.pipe(Ua())})).pipe(Bl()):Je(!0)}(i.component,i.route,t,e,r)),Ua(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Sn.z)(f=>f&&function Cp(n){return"boolean"==typeof n}(f)?function Zc(n,e,t,r){return(0,wn.D)(e).pipe(Tl(i=>Ba(function Rp(n,e){return null!==n&&e&&e(new xl(n)),Je(!0)}(i.route.parent,r),function Km(n,e){return null!==n&&e&&e(new ja(n)),Je(!0)}(i.route,r),function vh(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Mp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>po(()=>Je(c.guards.map(_=>{const w=$l(_,c.node,t);let I;if(function dh(n){return n&&Wa(n.canActivateChild)}(w))I=Gn(w.canActivateChild(r,n));else{if(!Wa(w))throw new Error("Invalid CanActivateChild guard");I=Gn(w(r,n))}return I.pipe(Ua())})).pipe(Bl())));return Je(a).pipe(Bl())}(n,i.path,t),function ni(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const i=r.map(a=>po(()=>{const c=$l(a,e,t);let f;if(function Pu(n){return n&&Wa(n.canActivate)}(c))f=Gn(c.canActivate(e,n));else{if(!Wa(c))throw new Error("Invalid CanActivate guard");f=Gn(c(e,n))}return f.pipe(Ua())}));return Je(i).pipe(Bl())}(n,i.route,t))),Ua(i=>!0!==i,!0))}(r,a,n,e):Je(f)),(0,Ct.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Yr.b)(f=>{if(Vl(f.guardsResult)){const w=wi(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new Tu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),yn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ne(f=>{if(f.guards.canActivateChecks.length)return Je(f).pipe((0,Yr.b)(_=>{const w=new Qr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),gn(_=>{let w=!1;return Je(_).pipe(function b(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Je(t);let a=0;return(0,wn.D)(i).pipe(Tl(c=>function T(n,e,t,r){return function R(n,e,t,r){const i=K(n);if(0===i.length)return Je({});const a={};return(0,wn.D)(i).pipe((0,Sn.z)(c=>function ce(n,e,t,r){const i=$l(n,e,r);return Gn(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Yr.b)(f=>{a[c]=f}))),Su(1),(0,Sn.z)(()=>K(a).length===i.length?Je(a):as.E))}(n._resolve,n,e,r).pipe((0,Ct.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Pm(n,t).resolve),null)))}(c.route,r,n,e)),(0,Yr.b)(()=>a++),Su(1),(0,Sn.z)(c=>a===i.length?Je(t):as.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Yr.b)(_=>{const w=new Xr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Ne(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Ct.U)(f=>{const _=function gp(n,e,t){const r=Ru(n,e._root,t?t._root:void 0);return new Vc(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Yr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new Ep(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Yr.b)({next(){a=!0},complete(){a=!0}}),function up(n){return(0,In.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),mr(f=>{if(c=!0,function Pc(n){return n&&n[$s]}(f)){const _=Vl(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Tn(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dh(i.source)};this.scheduleNavigation(I,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Ml(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return as.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ka(t),this.config=t.map(gh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:c;let M=null;switch(f){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),function ta(n,e,t,r,i){if(0===t.length)return Hc(e.root,e.root,e.root,r,i);const a=function Ob(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mp(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return mn(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new mp(t,e,r)}(t);if(a.toRoot())return Hc(e.root,e.root,new C([],{}),r,i);const c=function _p(n,e,t){if(n.isAbsolute)return new $c(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new $c(a,a===e.root,0)}const r=zs(n.commands[0])?0:1;return function yp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $c(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?Gc(c.segmentGroup,c.index,a.commands):bp(c.segmentGroup,c.index,a.commands);return Hc(e.root,c.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,M,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Ch(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Eh):!1===r?Object.assign({},Xc):r,Vl(t))return vo(this.currentUrlTree,t,i);const a=this.parseUrl(t);return vo(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Al(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,_;if(this.disposed)return Promise.resolve(!1);let w,I,M;c?(w=c.resolve,I=c.reject,M=c.promise):M=new Promise((Z,oe)=>{w=Z,I=oe});const L=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:L,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:I,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(Z=>Promise.reject(Z))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Tn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Dh(n){return"imperative"!==n}let Gl=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new jt.x,this.subscription=t.events.subscribe(a=>{a instanceof Al&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:zl(this.skipLocationChange),replaceUrl:zl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Br),d.Y36(Ll),d.Y36(he))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function zl(n){return""===n||!!n}class Xm{}class Fb{preload(e,t){return Je(null)}}let Lb=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new ri(i,r,_=>t.triggerEvent(new Jo(_)),_=>t.triggerEvent(new _o(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(yn(t=>t instanceof Al),Tl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,wn.D)(i).pipe((0,fo.J)(),(0,Ct.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Je(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Sn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Br),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Xm))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Lp=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Al&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Au&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Au(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ps=new d.OlP("ROUTER_CONFIGURATION"),e_=new d.OlP("ROUTER_FORROOT_GUARD"),Vb=[_e,{provide:re,useClass:Ae},{provide:Br,useFactory:function n_(n,e,t,r,i,a,c={},f,_){const w=new Br(null,n,e,t,r,i,rh(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function jb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,w),c.enableTracing&&w.events.subscribe(I=>{var M,L;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(L=console.groupEnd)||void 0===L||L.call(console)}),w},deps:[re,Ul,_e,d.zs3,d.Sil,An,ps,[class Vu{},new d.FiY],[class We{},new d.FiY]]},Ul,{provide:Ll,useFactory:function Vp(n){return n.routerState.root},deps:[Br]},Lb,Fb,class Jm{preload(e,t){return t().pipe(mr(()=>Je(null)))}},{provide:ps,useValue:{enableTracing:!1}}];function dD(){return new d.PXZ("Router",Br)}let Jc=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Vb,t_(t),{provide:e_,useFactory:Ub,deps:[[Br,new d.FiY,new d.tp0]]},{provide:ps,useValue:r||{}},{provide:he,useFactory:Bb,deps:[ue,[new d.tBr(Ge),new d.FiY],ps]},{provide:Lp,useFactory:hD,deps:[Br,hu,ps]},{provide:Xm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Fb},{provide:d.PXZ,multi:!0,useFactory:dD},[ed,{provide:d.ip1,multi:!0,useFactory:Hb,deps:[ed]},{provide:i_,useFactory:r_,deps:[ed]},{provide:d.tb,multi:!0,useExisting:i_}]]}}static forChild(t){return{ngModule:n,providers:[t_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(e_,8),d.LFG(Br,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function hD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Lp(n,e,t)}function Bb(n,e,t={}){return t.useHash?new Te(n,e):new Ye(n,e)}function Ub(n){return"guarded"}function t_(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:An,multi:!0,useValue:n}]}let ed=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new jt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Br),c=this.injector.get(ps);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Je(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ps),i=this.injector.get(Lb),a=this.injector.get(Lp),c=this.injector.get(Br),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Hb(n){return n.appInitializer.bind(n)}function r_(n){return n.bootstrapListener.bind(n)}const i_=new d.OlP("Router Initializer");let o_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Bu=(()=>{class n extends o_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const sa=new d.OlP("NgValueAccessor"),Gb={provide:sa,useExisting:(0,d.Gpc)(()=>jp),multi:!0},zb=new d.OlP("CompositionEventMode");let jp=(()=>{class n extends o_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gO(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(zb,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([Gb]),d.qOj]}),n})();function Ja(n){return null==n||0===n.length}function qb(n){return null!=n&&"number"==typeof n.length}const ii=new d.OlP("NgValidators"),Ar=new d.OlP("NgAsyncValidators"),pD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class td{static min(e){return function Wb(n){return e=>{if(Ja(e.value)||Ja(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Kb(n){return e=>{if(Ja(e.value)||Ja(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Zb(n){return Ja(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Yb(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function a_(n){return Ja(n.value)||pD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Qb(n){return e=>Ja(e.value)||!qb(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Xb(n){return e=>qb(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Jb(n){if(!n)return It;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ja(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return e0(e)}static composeAsync(e){return oa(e)}}function It(n){return null}function l_(n){return null!=n}function u_(n){const e=(0,d.QGY)(n)?(0,wn.D)(n):n;return(0,d.CqO)(e),e}function c_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Sh(n,e){return e.map(t=>t(n))}function d_(n){return n.map(e=>function Io(n){return!n.validate}(e)?e:t=>e.validate(t))}function e0(n){if(!n)return null;const e=n.filter(l_);return 0==e.length?null:function(t){return c_(Sh(t,e))}}function Th(n){return null!=n?e0(d_(n)):null}function oa(n){if(!n)return null;const e=n.filter(l_);return 0==e.length?null:function(t){return function fD(...n){const e=(0,ka.jO)(n),{args:t,keys:r}=dn(n),i=new _n.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,w=c;for(let I=0;I<c;I++){let M=!1;(0,vi.Xf)(t[I]).subscribe((0,pn.x)(a,L=>{M||(M=!0,w--),f[I]=L},()=>_--,void 0,()=>{(!_||!M)&&(w||a.next(r?Na(r,f):f),a.complete())}))}});return e?i.pipe(Iu(e)):i}(Sh(t,e).map(u_)).pipe((0,Ct.U)(c_))}}function Ah(n){return null!=n?oa(d_(n)):null}function h_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hp(n){return n._rawValidators}function gD(n){return n._rawAsyncValidators}function $p(n){return n?Array.isArray(n)?n:[n]:[]}function f_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Mh(n,e){const t=$p(e);return $p(n).forEach(i=>{f_(t,i)||t.push(i)}),t}function xh(n,e){return $p(e).filter(t=>!f_(n,t))}class Gp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Th(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ah(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ks extends Gp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ur extends Gp{get formDirective(){return null}get path(){return null}}class mD{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let t0=(()=>{class n extends mD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ks,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),n0=(()=>{class n extends mD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ur,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function qp(n,e){Wp(n,e),e.valueAccessor.writeValue(n.value),function a0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&l0(n,e)})}(n,e),function ql(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function m_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&l0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function So(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function nd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Wp(n,e){const t=Hp(n);null!==e.validator?n.setValidators(h_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=gD(n);null!==e.asyncValidator?n.setAsyncValidators(h_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();nd(e._rawValidators,i),nd(e._rawAsyncValidators,i)}function rd(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Hp(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=gD(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return nd(e._rawValidators,r),nd(e._rawAsyncValidators,r),t}function l0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function __(n,e){Wp(n,e)}function Uu(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Wl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const kh="VALID",Ph="INVALID",ju="PENDING",Hu="DISABLED";function Zp(n){return(C_(n)?n.validators:n)||null}function Nh(n){return Array.isArray(n)?Th(n):n||null}function w_(n,e){return(C_(e)?e.asyncValidators:n)||null}function E_(n){return Array.isArray(n)?Ah(n):n||null}function C_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const D_=n=>n instanceof Fh,Yp=n=>n instanceof Qp;function I_(n){return D_(n)?n.value:n.getRawValue()}function c0(n,e){const t=Yp(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function d0(n,e){Yp(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new d.vHH(1002,"")})}class Ci{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Nh(this._rawValidators),this._composedAsyncValidatorFn=E_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kh}get invalid(){return this.status===Ph}get pending(){return this.status==ju}get disabled(){return this.status===Hu}get enabled(){return this.status!==Hu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Nh(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=E_(e)}addValidators(e){this.setValidators(Mh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Mh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xh(e,this._rawAsyncValidators))}hasValidator(e){return f_(this._rawValidators,e)}hasAsyncValidator(e){return f_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kh||this.status===ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hu:kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ju,this._hasOwnPendingAsyncValidator=!0;const t=u_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function b_(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Yp(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof DO)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Hu:this.errors?Ph:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ju)?ju:this._anyControlsHaveStatus(Ph)?Ph:kh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){C_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fh extends Ci{constructor(e=null,t,r){super(Zp(t),w_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),C_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Qp extends Ci{constructor(e,t,r){super(Zp(t),w_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){d0(this,e),Object.keys(e).forEach(r=>{c0(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=I_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class DO extends Ci{constructor(e,t,r){super(Zp(t),w_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){d0(this,e),e.forEach((r,i)=>{c0(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>I_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const IO={provide:Ur,useExisting:(0,d.Gpc)(()=>Xp)},id=(()=>Promise.resolve(null))();let Xp=(()=>{class n extends Ur{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Qp({},Th(t),Ah(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){id.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),qp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){id.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){id.then(()=>{const r=this._findContainer(t.path),i=new Qp({});__(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){id.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){id.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Uu(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ii,10),d.Y36(Ar,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([IO]),d.qOj]}),n})(),g0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const x_=new d.OlP("NgModelWithFormControlWarning"),O_={provide:Ur,useExisting:(0,d.Gpc)(()=>sd)};let sd=(()=>{class n extends Ur{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return qp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){So(t.control||null,t,!1),Wl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Uu(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(So(r||null,t),D_(i)&&(qp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);__(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function wD(n,e){return rd(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wp(this.form,this),this._oldForm&&rd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ii,10),d.Y36(Ar,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([O_]),d.qOj,d.TTD]}),n})();const P_={provide:Ks,useExisting:(0,d.Gpc)(()=>tg)};let tg=(()=>{class n extends Ks{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Rh(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===jp?t=a:function Oh(n){return Object.getPrototypeOf(n.constructor)===Bu}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function v_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function g_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Ur,13),d.Y36(ii,10),d.Y36(Ar,10),d.Y36(sa,10),d.Y36(x_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([P_]),d.qOj,d.TTD]}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Jp]]}),n})(),VD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:x_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[LD]}),n})();function jr(n){return null!=n&&"false"!=`${n}`}function ig(n,e=0){return function A0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function z_(n){return Array.isArray(n)?n:[n]}function or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function nl(n){return n instanceof d.SBq?n.nativeElement:n}var sg=k(4986);function q_(n,e=sg.z){return(0,In.e)((t,r)=>{let i=null,a=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=c+n,I=e.now();if(I<w)return i=this.schedule(void 0,w-I),void r.add(i);f()}t.subscribe((0,pn.x)(r,w=>{a=w,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}let BD=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M0=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=nl(t);return new _n.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new jt.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(BD))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UD=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=jr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ig(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(q_(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(M0),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[BD]}),n})();const PO=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function NO(){return(0,d.f3M)(ie)}}),W_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let x0,Bh=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function HD(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?W_.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(PO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();try{x0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){x0=!1}let $u,To=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function gr(n){return n===io}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function O0(){if($u)return $u;if("object"!=typeof document||!document)return $u=new Set(K_),$u;let n=document.createElement("input");return $u=new Set(K_.filter(e=>(n.setAttribute("type",e),n.type===e))),$u}let ag,rl,Z_;function cd(n){return function R0(){if(null==ag&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ag=!0}))}finally{ag=ag||!1}return ag}()?n:!!n.capture}function zD(){if(null==rl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return rl=!1,rl;if("scrollBehavior"in document.documentElement.style)rl=!0;else{const n=Element.prototype.scrollTo;rl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return rl}function la(n){return n.composedPath?n.composedPath()[0]:n.target}function Zl(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function pd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ny(n,e=yi.y){return n=null!=n?n:W0,(0,In.e)((t,r)=>{let i,a=!0;t.subscribe((0,pn.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function W0(n,e){return n===e}var VI=k(5032);function Yi(n){return(0,In.e)((e,t)=>{(0,vi.Xf)(n).subscribe((0,pn.x)(t,()=>t.complete(),VI.Z)),!t.closed&&e.subscribe(t)})}class $I extends class HI{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new jt.x,this._typeaheadSubscription=ir.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new jt.x,this.change=new jt.x,e instanceof d.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Yr.b)(t=>this._pressedLetters.push(t)),q_(e),yn(()=>this._pressedLetters.length>0),(0,Ct.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,c=r[a];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||pd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function ay(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ly(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const X0=new d.OlP("cdk-input-modality-detector-options"),J0={ignoreKeys:[18,17,224,91,16]},qu=cd({passive:!0,capture:!0});let ew=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Ir(null),this._lastTouchMs=0,this._onKeydown=c=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=la(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ay(c)?"keyboard":"mouse"),this._mostRecentTarget=la(c))},this._onTouchstart=c=>{ly(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=la(c))},this._options=Object.assign(Object.assign({},J0),a),this.modalityDetected=this._modality.pipe(function LI(n){return yn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(ny()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,qu),i.addEventListener("mousedown",this._onMousedown,qu),i.addEventListener("touchstart",this._onTouchstart,qu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qu),document.removeEventListener("mousedown",this._onMousedown,qu),document.removeEventListener("touchstart",this._onTouchstart,qu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(To),d.LFG(d.R0b),d.LFG(ie),d.LFG(X0,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tw=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function nS(){return null}}),rS=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let iS=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[a,c]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tw,8),d.LFG(d.R0b),d.LFG(ie),d.LFG(rS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sS=new d.OlP("cdk-focus-monitor-default-options"),dg=cd({passive:!0,capture:!0});let nw=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new jt.x,this._rootNodeFocusAndBlurListener=f=>{const _=la(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,r=!1){const i=nl(t);if(!this._platform.isBrowser||1!==i.nodeType)return Je(null);const a=function WD(n){if(function qD(){if(null==Z_){const n="undefined"!=typeof document?document.head:null;Z_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Z_}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const f={checkChildren:r,subject:new jt.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=nl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=nl(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=la(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yi(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(To),d.LFG(ew),d.LFG(ie,8),d.LFG(sS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rw="cdk-high-contrast-black-on-white",iw="cdk-high-contrast-white-on-black",cy="cdk-high-contrast-active";let oS=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cy),t.remove(rw),t.remove(iw),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(cy),t.add(rw)):2===r&&(t.add(cy),t.add(iw))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(To),d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sw{}const ol="*";function dy(n,e){return{type:7,name:n,definitions:e,options:{}}}function hg(n,e=null){return{type:4,styles:e,timings:n}}function hy(n,e=null){return{type:2,steps:n,options:e}}function al(n){return{type:6,styles:n,offset:null}}function Kh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Zh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ow(n=null){return{type:9,options:n}}function lw(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function uw(n){Promise.resolve(null).then(n)}class Yh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Wu{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?uw(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Ht=!1;function py(n){return new d.vHH(3e3,Ht)}function IS(){return"undefined"!=typeof window&&void 0!==window.document}function _g(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ll(n){switch(n.length){case 0:return new Yh;case 1:return n[0];default:return new Wu(n)}}function gy(n,e,t,r,i={},a={}){const c=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const M=I.offset,L=M==_,B=L&&w||{};Object.keys(I).forEach(Z=>{let oe=Z,Me=I[Z];if("offset"!==Z)switch(oe=e.normalizePropertyName(oe,c),Me){case"!":Me=i[Z];break;case ol:Me=a[Z];break;default:Me=e.normalizeStyleValue(Z,oe,Me,c)}B[oe]=Me}),L||f.push(B),w=B,_=M}),c.length)throw function bS(n){return new d.vHH(3502,Ht)}();return f}function my(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yg(t,"destroy",n)))}}function yg(n,e,t){const r=t.totalTime,a=_y(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function _y(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function gs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function SS(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let bw=(n,e)=>!1,TS=(n,e,t)=>[],AS=null;function vg(n){const e=n.parentNode||n.host;return e===AS?null:e}(_g()||"undefined"!=typeof Element)&&(IS()?(AS=(()=>document.documentElement)(),bw=(n,e)=>{for(;e;){if(e===n)return!0;e=vg(e)}return!1}):bw=(n,e)=>n.contains(e),TS=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ku=null,vy=!1;function _d(n){Ku||(Ku=function xS(){return"undefined"!=typeof document?document.body:null}()||{},vy=!!Ku.style&&"WebkitAppearance"in Ku.style);let e=!0;return Ku.style&&!function MS(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ku.style,!e&&vy&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ku.style)),e}const ww=bw,Ew=TS;let Cw=(()=>{class n{validateStyleProperty(t){return _d(t)}matchesElement(t,r){return!1}containsElement(t,r){return ww(t,r)}getParentElement(t){return vg(t)}query(t,r,i){return Ew(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],_){return new Yh(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),bg=(()=>{class n{}return n.NOOP=new Cw,n})();const by="ng-enter",ef="ng-leave",wg="ng-trigger",tf=".ng-trigger",Iw="ng-animating",Eg=".ng-animating";function Zu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nf(parseFloat(e[1]),e[2])}function nf(n,e){return"s"===e?1e3*n:n}function Cg(n,e,t){return n.hasOwnProperty("duration")?n:function Sw(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(py()),{duration:0,delay:0,easing:""};i=nf(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=nf(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function dw(){return new d.vHH(3100,Ht)}()),f=!0),a<0&&(e.push(function vR(){return new d.vHH(3101,Ht)}()),f=!0),f&&e.splice(_,0,py())}return{duration:i,delay:a,easing:c}}(n,e,t)}function Yu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Xl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Yu(n,t);return t}function Aw(n,e,t){return t?e+":"+t+";":""}function Dg(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Aw(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Aw(0,xw(t),n.style[t]));n.setAttribute("style",e)}function ha(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Ey(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),_g()&&Dg(n))}function Jl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Ey(t);n.style[r]=""}),_g()&&Dg(n))}function rf(n){return Array.isArray(n)?1==n.length?n[0]:hy(n):n}const wy=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mw(n){let e=[];if("string"==typeof n){let t;for(;t=wy.exec(n);)e.push(t[1]);wy.lastIndex=0}return e}function Ig(n,e,t){const r=n.toString(),i=r.replace(wy,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function dS(n){return new d.vHH(3003,Ht)}()),f=""),f.toString()});return i==r?n:i}function Sg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const kS=/-+([a-z0-9])/g;function Ey(n){return n.replace(kS,(...e)=>e[1].toUpperCase())}function xw(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ms(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function hS(n){return new d.vHH(3004,Ht)}()}}function Cy(n,e){return window.getComputedStyle(n)[e]}function LS(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Sy(n,e,t){if(":"==n[0]){const _=function VS(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function _S(n){return new d.vHH(3016,Ht)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function mw(n){return new d.vHH(3015,Ht)}()),e;const i=r[1],a=r[2],c=r[3];e.push(Ty(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(Ty(c,i))}(r,t,e)):t.push(n),t}const sf=new Set(["true","1"]),xg=new Set(["false","0"]);function Ty(n,e){const t=sf.has(n)||xg.has(n),r=sf.has(e)||xg.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?sf.has(n):xg.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?sf.has(e):xg.has(e)),c&&f}}const Pw=new RegExp("s*:selfs*,?","g");function Nw(n,e,t,r){return new Og(n).build(e,t,r)}class Og{constructor(e){this._driver=e}build(e,t,r){const i=new af(t);this._resetContextStyleTimingState(i);const a=ms(this,rf(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function fg(){return new d.vHH(3006,Ht)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function pS(){return new d.vHH(3007,Ht)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(Ay(f)){const _=f;Object.keys(_).forEach(w=>{Mw(_[w]).forEach(I=>{c.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(Sg(a.values()),t.errors.push(function pg(n,e){return new d.vHH(3008,Ht)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ms(this,rf(e.animation),t);return{type:1,matchers:LS(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ms(this,r,t)),options:Qu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=ms(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Qu(e.options)}}visitAnimate(e,t){const r=function Lw(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return My(Cg(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=My(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||Cg(r,e),My(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:al({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};r.easing&&(w.easing=r.easing),c=al(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==ol?r.push(c):t.errors.push(function gg(n){return new d.vHH(3002,Ht)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(Ay(c)){const f=c,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let I=!0;w&&(a!=i&&a>=w.startTime&&i<=w.endTime&&(t.errors.push(function bR(n,e,t,r,i){return new d.vHH(3010,Ht)}()),I=!1),a=w.startTime),I&&(_[f]={startTime:a,endTime:i}),t.options&&function RS(n,e,t){const r=e.params||{},i=Mw(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function bt(n){return new d.vHH(3001,Ht)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hw(){return new d.vHH(3011,Ht)}()),r;let a=0;const c=[];let f=!1,_=!1,w=0;const I=e.steps.map(et=>{const rt=this._makeStyleAst(et,t);let st=null!=rt.offset?rt.offset:function US(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Ay(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Ay(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(rt.styles),it=0;return null!=st&&(a++,it=rt.offset=st),_=_||it<0||it>1,f=f||it<w,w=it,c.push(it),rt});_&&t.errors.push(function gS(){return new d.vHH(3012,Ht)}()),f&&t.errors.push(function mS(){return new d.vHH(3200,Ht)}());const M=e.steps.length;let L=0;a>0&&a<M?t.errors.push(function fw(){return new d.vHH(3202,Ht)}()):0==a&&(L=1/(M-1));const B=M-1,Z=t.currentTime,oe=t.currentAnimateTimings,Me=oe.duration;return I.forEach((et,rt)=>{const st=L>0?rt==B?1:L*rt:c[rt],it=st*Me;t.currentTime=Z+oe.delay+it,oe.duration=it,this._validateStyleAst(et,t),et.offset=st,r.styles.push(et)}),r}visitReference(e,t){return{type:8,animation:ms(this,rf(e.animation),t),options:Qu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function BS(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Pw,"")),n=n.replace(/@\*/g,tf).replace(/@\w+/g,t=>tf+"-"+t.substr(1)).replace(/:animating/g,Eg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,gs(t.collectedStyles,t.currentQuerySelector,{});const f=ms(this,rf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Qu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pw(){return new d.vHH(3013,Ht)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cg(e.timings,t.errors,!0);return{type:12,animation:ms(this,rf(e.animation),t),timings:r,options:null}}}class af{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ay(n){return!Array.isArray(n)&&"object"==typeof n}function Qu(n){return n?(n=Yu(n)).params&&(n.params=function vd(n){return n?Yu(n):null}(n.params)):n={},n}function My(n,e,t){return{duration:n,delay:e,easing:t}}function xy(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class Rg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Oy=new RegExp(":enter","g"),lf=new RegExp(":leave","g");function Ry(n,e,t,r,i,a={},c={},f,_,w=[]){return(new Uw).buildKeyframes(n,e,t,r,i,a,c,f,_,w)}class Uw{buildKeyframes(e,t,r,i,a,c,f,_,w,I=[]){w=w||new Rg;const M=new ky(e,t,w,i,a,I,[]);M.options=_,M.currentTimeline.setStyles([c],null,M.errors,_),ms(this,r,M);const L=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let Z=L.length-1;Z>=0;Z--){const oe=L[Z];if(oe.element===t){B=oe;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,M.errors,_)}return L.length?L.map(B=>B.buildKeyframes()):[xy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Zu(r.duration):null,f=null!=r.delay?Zu(r.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ms(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uf);const c=Zu(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ms(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Zu(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ms(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Cg(t.params?Ig(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Zu(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uf);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(_=M.currentTimeline),ms(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;ms(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const uf={};class ky{constructor(e,t,r,i,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Pg(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Zu(r.duration)),null!=r.delay&&(i.delay=Zu(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Ig(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new ky(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=uf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new Py(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Oy,"."+this._enterClassName)).replace(lf,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&c.push(function gw(n){return new d.vHH(3014,Ht)}()),f}}class Pg{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Pg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ol,this._currentKeyframe[t]=ol}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function CR(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=ol})):Xl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const _=Ig(c[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ol),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=Xl(f,!0);Object.keys(w).forEach(I=>{const M=w[I];"!"==M?e.add(I):M==ol&&t.add(I)}),r||(w.offset=_/this.duration),i.push(w)});const a=e.size?Sg(e.values()):[],c=t.size?Sg(t.values()):[];if(r){const f=i[0],_=Yu(f);f.offset=0,_.offset=1,i=[f,_]}return xy(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class Py extends Pg{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,_=Xl(e[0],!1);_.offset=0,a.push(_);const w=Xl(e[0],!1);w.offset=jw(f),a.push(w);const I=e.length-1;for(let M=1;M<=I;M++){let L=Xl(e[M],!1);L.offset=jw((t+L.offset*r)/c),a.push(L)}r=c,t=0,i="",e=a}return xy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function jw(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ny{}class Hw extends Ny{normalizePropertyName(e,t){return Ey(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(bd[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function fS(n,e){return new d.vHH(3005,Ht)}())}return c+a}}const bd=(()=>function IR(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Fy(n,e,t,r,i,a,c,f,_,w,I,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:M,errors:L}}const Ly={};class jS{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function $w(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,_,w,I){const M=[],L=this.ast.options&&this.ast.options.params||Ly,Z=this.buildStyles(r,f&&f.params||Ly,M),oe=_&&_.params||Ly,Me=this.buildStyles(i,oe,M),et=new Set,rt=new Map,st=new Map,it="void"===i,Ot={params:Object.assign(Object.assign({},L),oe)},Lt=I?[]:Ry(e,t,this.ast.animation,a,c,Z,Me,Ot,w,M);let cn=0;if(Lt.forEach(dc=>{cn=Math.max(dc.duration+dc.delay,cn)}),M.length)return Fy(t,this._triggerName,r,i,it,Z,Me,[],[],rt,st,cn,M);Lt.forEach(dc=>{const hc=dc.element,oV=gs(rt,hc,{});dc.preStyleProps.forEach(Qf=>oV[Qf]=!0);const Ab=gs(st,hc,{});dc.postStyleProps.forEach(Qf=>Ab[Qf]=!0),hc!==t&&et.add(hc)});const Ss=Sg(et.values());return Fy(t,this._triggerName,r,i,it,Z,Me,Lt,Ss,rt,st,cn)}}class SR{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Yu(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let _=c[f];_.length>1&&(_=Ig(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class Vy{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new SR(i.style,i.options&&i.options.params||{},r)}),zw(this.states,"true","1"),zw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new jS(e,i,this.states))}),this.fallbackTransition=function HS(n,e,t){return new jS(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zw(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const $S=new Rg;class GS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=Nw(this._driver,t,r,[]);if(r.length)throw function wS(n){return new d.vHH(3503,Ht)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=gy(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=Ry(this._driver,t,a,by,ef,{},{},r,$S,i),c.forEach(I=>{const M=gs(f,I.element,{});I.postStyleProps.forEach(L=>M[L]=null)})):(i.push(function ES(){return new d.vHH(3300,Ht)}()),c=[]),i.length)throw function mg(n){return new d.vHH(3504,Ht)}();f.forEach((I,M)=>{Object.keys(I).forEach(L=>{I[L]=this._driver.computeStyle(M,L,ol)})});const w=ll(c.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,{},M)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function _w(n){return new d.vHH(3301,Ht)}();return t}listen(e,t,r,i){const a=_y(t,"","","");return my(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const qw="ng-animate-queued",By="ng-animate-disabled",df=[],Uy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ww={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_s="__ng_removed";class Ng{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function QS(n){return null!=n?n:null}(r?e.value:e),r){const a=Yu(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const wd="void",Fg=new Ng(wd);class ZS{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function yw(n,e){return new d.vHH(3302,Ht)}();if(null==r||0==r.length)throw function vw(n){return new d.vHH(3303,Ht)}();if(!function hf(n){return"start"==n||"done"==n}(r))throw function CS(n,e){return new d.vHH(3400,Ht)}();const a=gs(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=gs(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Qs(e,wg),Qs(e,wg+"-"+t),f[t]=Fg),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Xh(n){return new d.vHH(3401,Ht)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new jy(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Qs(e,wg),Qs(e,wg+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new Ng(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=Fg),w.value!==wd&&_.value===w.value){if(!function JS(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const oe=[],Me=a.matchStyles(_.value,_.params,oe),et=a.matchStyles(w.value,w.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{Jl(e,Me),ha(e,et)})}return}const L=gs(this._engine.playersByElement,e,[]);L.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let B=a.matchTransition(_.value,w.value,e,w.params),Z=!1;if(!B){if(!i)return;B=a.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:w,player:c,isFallbackTransition:Z}),Z||(Qs(e,qw),c.onStart(()=>{ul(e,qw)})),c.onDone(()=>{let oe=this.players.indexOf(c);oe>=0&&this.players.splice(oe,1);const Me=this._engine.playersByElement.get(e);if(Me){let et=Me.indexOf(c);et>=0&&Me.splice(et,1)}}),this.players.push(c),L.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,tf,!0);r.forEach(i=>{if(i[_s])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(c.set(_,a[_].value),this._triggers[_]){const w=this.trigger(e,_,wd,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&ll(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,w=r[c]||Fg,I=new Ng(wd),M=new jy(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[_s];(!a||a===Uy)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=_y(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,my(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Kw{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ZS(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(Lg(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Lg(t))return;const a=t[_s];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qs(e,By)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ul(e,By))}removeNode(e,t,r,i){if(Lg(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[_s]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Lg(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,tf,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Eg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ll(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[_s];if(r&&r.setForRemoval){if(e[_s]=Uy,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(By))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ll(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Jh(n){return new d.vHH(3402,Ht)}()}_flushAnimations(e,t){const r=new Rg,i=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(ut=>{I.add(ut);const Et=this.driver.query(ut,".ng-animate-queued",!0);for(let Mt=0;Mt<Et.length;Mt++)I.add(Et[Mt])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=Ao(L,this.collectedEnterElements),Z=new Map;let oe=0;B.forEach((ut,Et)=>{const Mt=by+oe++;Z.set(Et,Mt),ut.forEach(sn=>Qs(sn,Mt))});const Me=[],et=new Set,rt=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Et=this.collectedLeaveElements[ut],Mt=Et[_s];Mt&&Mt.setForRemoval&&(Me.push(Et),et.add(Et),Mt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(sn=>et.add(sn)):rt.add(Et))}const st=new Map,it=Ao(L,Array.from(et));it.forEach((ut,Et)=>{const Mt=ef+oe++;st.set(Et,Mt),ut.forEach(sn=>Qs(sn,Mt))}),e.push(()=>{B.forEach((ut,Et)=>{const Mt=Z.get(Et);ut.forEach(sn=>ul(sn,Mt))}),it.forEach((ut,Et)=>{const Mt=st.get(Et);ut.forEach(sn=>ul(sn,Mt))}),Me.forEach(ut=>{this.processLeaveNode(ut)})});const Ot=[],Lt=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(Mt=>{const sn=Mt.player,fi=Mt.element;if(Ot.push(sn),this.collectedEnterElements.length){const Ts=fi[_s];if(Ts&&Ts.setForMove){if(Ts.previousTriggersValues&&Ts.previousTriggersValues.has(Mt.triggerName)){const Xf=Ts.previousTriggersValues.get(Mt.triggerName),Wd=this.statesByElement.get(Mt.element);Wd&&Wd[Mt.triggerName]&&(Wd[Mt.triggerName].value=Xf)}return void sn.destroy()}}const lu=!M||!this.driver.containsElement(M,fi),No=st.get(fi),qd=Z.get(fi),er=this._buildInstruction(Mt,r,qd,No,lu);if(er.errors&&er.errors.length)return void Lt.push(er);if(lu)return sn.onStart(()=>Jl(fi,er.fromStyles)),sn.onDestroy(()=>ha(fi,er.toStyles)),void i.push(sn);if(Mt.isFallbackTransition)return sn.onStart(()=>Jl(fi,er.fromStyles)),sn.onDestroy(()=>ha(fi,er.toStyles)),void i.push(sn);const uV=[];er.timelines.forEach(Ts=>{Ts.stretchStartingKeyframe=!0,this.disabledNodes.has(Ts.element)||uV.push(Ts)}),er.timelines=uV,r.append(fi,er.timelines),c.push({instruction:er,player:sn,element:fi}),er.queriedElements.forEach(Ts=>gs(f,Ts,[]).push(sn)),er.preStyleProps.forEach((Ts,Xf)=>{const Wd=Object.keys(Ts);if(Wd.length){let Jf=_.get(Xf);Jf||_.set(Xf,Jf=new Set),Wd.forEach(pO=>Jf.add(pO))}}),er.postStyleProps.forEach((Ts,Xf)=>{const Wd=Object.keys(Ts);let Jf=w.get(Xf);Jf||w.set(Xf,Jf=new Set),Wd.forEach(pO=>Jf.add(pO))})});if(Lt.length){const ut=[];Lt.forEach(Et=>{ut.push(function DS(n,e){return new d.vHH(3505,Ht)}())}),Ot.forEach(Et=>Et.destroy()),this.reportError(ut)}const cn=new Map,Ss=new Map;c.forEach(ut=>{const Et=ut.element;r.has(Et)&&(Ss.set(Et,Et),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,cn))}),i.forEach(ut=>{const Et=ut.element;this._getPreviousPlayers(Et,!1,ut.namespaceId,ut.triggerName,null).forEach(sn=>{gs(cn,Et,[]).push(sn),sn.destroy()})});const dc=Me.filter(ut=>pf(ut,_,w)),hc=new Map;Vg(hc,this.driver,rt,w,ol).forEach(ut=>{pf(ut,_,w)&&dc.push(ut)});const Ab=new Map;B.forEach((ut,Et)=>{Vg(Ab,this.driver,new Set(ut),_,"!")}),dc.forEach(ut=>{const Et=hc.get(ut),Mt=Ab.get(ut);hc.set(ut,Object.assign(Object.assign({},Et),Mt))});const Qf=[],aV=[],lV={};c.forEach(ut=>{const{element:Et,player:Mt,instruction:sn}=ut;if(r.has(Et)){if(I.has(Et))return Mt.onDestroy(()=>ha(Et,sn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(sn.totalTime),void i.push(Mt);let fi=lV;if(Ss.size>1){let No=Et;const qd=[];for(;No=No.parentNode;){const er=Ss.get(No);if(er){fi=er;break}qd.push(No)}qd.forEach(er=>Ss.set(er,fi))}const lu=this._buildAnimation(Mt.namespaceId,sn,cn,a,Ab,hc);if(Mt.setRealPlayer(lu),fi===lV)Qf.push(Mt);else{const No=this.playersByElement.get(fi);No&&No.length&&(Mt.parentPlayer=ll(No)),i.push(Mt)}}else Jl(Et,sn.fromStyles),Mt.onDestroy(()=>ha(Et,sn.toStyles)),aV.push(Mt),I.has(Et)&&i.push(Mt)}),aV.forEach(ut=>{const Et=a.get(ut.element);if(Et&&Et.length){const Mt=ll(Et);ut.setRealPlayer(Mt)}}),i.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<Me.length;ut++){const Et=Me[ut],Mt=Et[_s];if(ul(Et,ef),Mt&&Mt.hasAnimation)continue;let sn=[];if(f.size){let lu=f.get(Et);lu&&lu.length&&sn.push(...lu);let No=this.driver.query(Et,Eg,!0);for(let qd=0;qd<No.length;qd++){let er=f.get(No[qd]);er&&er.length&&sn.push(...er)}}const fi=sn.filter(lu=>!lu.destroyed);fi.length?ff(this,Et,fi):this.processLeaveNode(Et)}return Me.length=0,Qf.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Et=this.players.indexOf(ut);this.players.splice(Et,1)}),ut.play()}),Qf}elementContainsData(e,t){let r=!1;const i=t[_s];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==wd;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,M=gs(r,w,[]);this._getPreviousPlayers(w,I,c,f,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),M.push(B)})}Jl(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,_=t.element,w=[],I=new Set,M=new Set,L=t.timelines.map(Z=>{const oe=Z.element;I.add(oe);const Me=oe[_s];if(Me&&Me.removedBeforeQueried)return new Yh(Z.duration,Z.delay);const et=oe!==_,rt=function XS(n){const e=[];return Yw(n,e),e}((r.get(oe)||df).map(cn=>cn.getRealPlayer())).filter(cn=>!!cn.element&&cn.element===oe),st=a.get(oe),it=c.get(oe),Ot=gy(0,this._normalizer,0,Z.keyframes,st,it),Lt=this._buildPlayer(Z,Ot,rt);if(Z.subTimeline&&i&&M.add(oe),et){const cn=new jy(e,f,oe);cn.setRealPlayer(Lt),w.push(cn)}return Lt});w.forEach(Z=>{gs(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function YS(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Z.element,Z))}),I.forEach(Z=>Qs(Z,Iw));const B=ll(L);return B.onDestroy(()=>{I.forEach(Z=>ul(Z,Iw)),ha(_,t.toStyles)}),M.forEach(Z=>{gs(i,Z,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yh(e.duration,e.delay)}}class jy{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>my(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Lg(n){return n&&1===n.nodeType}function Zw(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Vg(n,e,t,r,i){const a=[];t.forEach(_=>a.push(Zw(_)));const c=[];r.forEach((_,w)=>{const I={};_.forEach(M=>{const L=I[M]=e.computeStyle(w,M,i);(!L||0==L.length)&&(w[_s]=Ww,c.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>Zw(_,a[f++])),c}function Ao(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Qs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function ul(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function ff(n,e,t){ll(t).onDone(()=>n.processLeaveNode(e))}function Yw(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Wu?Yw(r.players,e):e.push(r)}}function pf(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Xu{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Kw(e,t,r),this._timelineEngine=new GS(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],I=Nw(this._driver,a,_,[]);if(_.length)throw function Qh(n,e){return new d.vHH(3404,Ht)}();f=function Gw(n,e,t){return new Vy(n,e,t)}(i,I,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=SS(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=SS(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tT=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ha(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ha(this._element,this._initialStyles),this._endStyles&&(ha(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jl(this._element,this._endStyles),this._endStyles=null),ha(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Bg(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Qw(i)&&(e=e||{},e[i]=n[i])}return e}function Qw(n){return"display"===n||"position"===n}class Ug{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Cy(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Xw{validateStyleProperty(e){return _d(e)}matchesElement(e,t){return!1}containsElement(e,t){return ww(e,t)}getParentElement(e){return vg(e)}query(e,t,r){return Ew(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w={},I=c.filter(L=>L instanceof Ug);(function Ow(n,e){return 0===n||0===e})(r,i)&&I.forEach(L=>{let B=L.currentSnapshot;Object.keys(B).forEach(Z=>w[Z]=B[Z])}),t=function PS(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(_){f[_]=Cy(n,_)})}}return e}(e,t=t.map(L=>Xl(L,!1)),w);const M=function eT(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Bg(e[0]),e.length>1&&(r=Bg(e[e.length-1]))):e&&(t=Bg(e)),t||r?new tT(n,t,r):null}(e,t);return new Ug(e,t,_,M)}}let nT=(()=>{class n extends sw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?hy(t):t;return jg(this._renderer,null,r,"register",[i]),new rT(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class rT extends class aS{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new TR(this._id,e,t||{},this._renderer)}}class TR{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return jg(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function jg(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Hy="@.disabled";let $y=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new Hg("",a,this.engine),this._rendererCache.set(a,I)),I}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(c,f,t,I.name,I)};return r.data.animation.forEach(_),new iT(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(Xu),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Hg{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Hy?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iT extends Hg{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Hy?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function sT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function oT(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let aT=(()=>{class n extends Xu{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(bg),d.LFG(Ny))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=new d.OlP("AnimationModuleType"),zy=[{provide:sw,useClass:nT},{provide:Ny,useFactory:function Jw(){return new Hw}},{provide:Xu,useClass:aT},{provide:d.FYo,useFactory:function Gy(n,e,t){return new $y(n,e,t)},deps:[fn,Xu,d.R0b]}],qy=[{provide:bg,useFactory:()=>new Xw},{provide:eu,useValue:"BrowserAnimations"},...zy],eE=[{provide:bg,useClass:Cw},{provide:eu,useValue:"NoopAnimations"},...zy];let lT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?eE:qy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:qy,imports:[Wo]}),n})();function tE(n,e){if(1&n&&d._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=d.oxw();d.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function dT(n,e){if(1&n&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.hij("(",t.group.label,")")}}const Di=["*"],gf=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function OR(){return!0}});let Mo=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Zl()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oS),d.LFG(gf,8),d.LFG(ie))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[og],og]}),n})();function rE(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=jr(e)}}}function iE(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function $g(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jr(e)}}}function sE(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ig(t):this.defaultTabIndex}}}function Wy(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new jt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Yy=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uE{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Qy={enterDuration:225,exitDuration:150},Xy=cd({passive:!0}),Jy=["mousedown","touchstart"],cE=["mouseup","mouseleave","touchend","touchcancel"];class dE{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=nl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},Qy),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function fE(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-c+"px",I.style.top=_-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function hE(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const M=new uE(this,I,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const L=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!L||!this._isPointerDown)&&M.fadeOut()},w),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},Qy),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=nl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Jy))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cE),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=ay(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ly(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Xy)})})}_removeTriggerEvents(){this._triggerElement&&(Jy.forEach(e=>{this._triggerElement.removeEventListener(e,this,Xy)}),this._pointerUpEventsRegistered&&cE.forEach(e=>{this._triggerElement.removeEventListener(e,this,Xy)}))}}const pE=new d.OlP("mat-ripple-global-options");let Gg=(()=>{class n{constructor(t,r,i,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new dE(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(To),d.Y36(pE,8),d.Y36(eu,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),gE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Mo],Mo]}),n})(),VR=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(eu,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&d.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Mo]]}),n})();const yT=new d.OlP("MAT_OPTION_PARENT_COMPONENT"),vT=new d.OlP("MatOptgroup");let BR=0;class UR{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let zg=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+BR++,this.onSelectionChange=new d.vpe,this._stateChanges=new jt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=jr(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!pd(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new UR(this,t))}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),bT=(()=>{class n extends zg{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(yT,8),d.Y36(vT,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(d.Ikx("id",r.id),d.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),d.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[d.qOj],ngContentSelectors:Di,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(d.F$t(),d.YNc(0,tE,1,2,"mat-pseudo-checkbox",0),d.TgZ(1,"span",1),d.Hsn(2),d.qZA(),d.YNc(3,dT,2,1,"span",2),d._UZ(4,"div",3)),2&t&&(d.Q6J("ngIf",r.multiple),d.xp6(3),d.Q6J("ngIf",r.group&&r.group._inert),d.xp6(1),d.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[VR,Hn,Gg],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function ev(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let c=0;c<n+1;c++)r[c].group&&r[c].group===i[a]&&a++;return a}return 0}let nv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gE,Fs,Mo,mE]]}),n})();var ec=k(6451),jR=k(1144);const rv=["addListener","removeListener"],_E=["addEventListener","removeEventListener"],yE=["on","off"];function mf(n,e,t,r){if((0,Zr.m)(t)&&(r=t,t=void 0),r)return mf(n,e,t).pipe(Iu(r));const[i,a]=function iv(n){return(0,Zr.m)(n.addEventListener)&&(0,Zr.m)(n.removeEventListener)}(n)?_E.map(c=>f=>n[c](e,f,t)):function vE(n){return(0,Zr.m)(n.addListener)&&(0,Zr.m)(n.removeListener)}(n)?rv.map(wT(n,e)):function ET(n){return(0,Zr.m)(n.on)&&(0,Zr.m)(n.off)}(n)?yE.map(wT(n,e)):[];if(!i&&(0,jR.z)(n))return(0,Sn.z)(c=>mf(c,e,t))((0,vi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new _n.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function wT(n,e){return t=>r=>n[t](e,r)}const CT=["connectionContainer"],HR=["inputContainer"],$R=["label"];function GR(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15)(3,"div",16)(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15)(7,"div",16)(8,"div",17),d.qZA(),d.BQk())}function DT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function IT(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function ST(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function zR(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function TT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,IT,4,1,"ng-container",12),d.YNc(3,ST,1,0,"ng-content",12),d.YNc(4,zR,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function sv(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function AT(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function xo(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function MT(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function ov(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,MT,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const xT=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],OT=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],wE=new d.OlP("MatError"),kT={transitionMessages:dy("transitionMessages",[Kh("enter",al({opacity:1,transform:"translateY(0%)"})),Zh("void => enter",[al({opacity:0,transform:"translateY(-5px)"}),hg("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const Oo=new d.OlP("MatHint");let CE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),NT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const DE=new d.OlP("MatPrefix"),FT=new d.OlP("MatSuffix");let IE=0;const SE=iE(class{constructor(n){this._elementRef=n}},"primary"),VT=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lv=new d.OlP("MatFormField");let TE=(()=>{class n extends SE{constructor(t,r,i,a,c,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=c,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new jt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+IE++,this._labelId="mat-form-field-label-"+IE++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=jr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe($n(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Yi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Yi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ec.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($n(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($n(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Yi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,mf(this._label.nativeElement,"transitionend").pipe(Sr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=r.querySelectorAll(`${i}, ${a}`);for(let M=0;M<I.length;M++)I[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,f=0;const _=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=r.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(I),L=t.children,B=this._getStartEnd(L[0].getBoundingClientRect());let Z=0;for(let oe=0;oe<L.length;oe++)Z+=L[oe].offsetWidth;c=Math.abs(B-M)-5,f=Z>0?.75*Z+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${c}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Bh,8),d.Y36(VT,8),d.Y36(To),d.Y36(d.R0b),d.Y36(eu,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,_f,5),d.Suo(i,_f,7),d.Suo(i,CE,5),d.Suo(i,CE,7),d.Suo(i,NT,5),d.Suo(i,wE,5),d.Suo(i,Oo,5),d.Suo(i,DE,5),d.Suo(i,FT,5)),2&t){let a;d.iGM(a=d.CRH())&&(r._controlNonStatic=a.first),d.iGM(a=d.CRH())&&(r._controlStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildNonStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildStatic=a.first),d.iGM(a=d.CRH())&&(r._placeholderChild=a.first),d.iGM(a=d.CRH())&&(r._errorChildren=a),d.iGM(a=d.CRH())&&(r._hintChildren=a),d.iGM(a=d.CRH())&&(r._prefixChildren=a),d.iGM(a=d.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(d.Gf(CT,7),d.Gf(HR,5),d.Gf($R,5)),2&t){let i;d.iGM(i=d.CRH())&&(r._connectionContainerRef=i.first),d.iGM(i=d.CRH())&&(r._inputContainerRef=i.first),d.iGM(i=d.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:lv,useExisting:n}]),d.qOj],ngContentSelectors:OT,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(xT),d.TgZ(0,"div",0)(1,"div",1,2),d.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),d.YNc(3,GR,9,0,"ng-container",3),d.YNc(4,DT,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,TT,5,16,"label",8),d.qZA()(),d.YNc(10,sv,2,0,"div",9),d.qZA(),d.YNc(11,AT,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,xo,2,1,"div",12),d.YNc(14,ov,5,2,"div",13),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[Hn,UD,hr,qr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[kT.transitionMessages]},changeDetection:0}),n})(),Dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Fs,Mo,jD],Mo]}),n})();var qg=k(4408);const Id={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Id;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new ir.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Id;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Id;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var uv=k(7565);new class AE extends uv.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class BT extends qg.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Id.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Id.cancelAnimationFrame(t),e._scheduled=void 0)}});let ME,XR=1;const yf={};function xE(n){return n in yf&&(delete yf[n],!0)}const jT={setImmediate(n){const e=XR++;return yf[e]=!0,ME||(ME=Promise.resolve()),ME.then(()=>xE(e)&&n()),e},clearImmediate(n){xE(n)}},{setImmediate:ek,clearImmediate:tk}=jT,cv={setImmediate(...n){const{delegate:e}=cv;return((null==e?void 0:e.setImmediate)||ek)(...n)},clearImmediate(n){const{delegate:e}=cv;return((null==e?void 0:e.clearImmediate)||tk)(n)},delegate:void 0};new class rk extends uv.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class nk extends qg.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=cv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(cv.clearImmediate(t),e._scheduled=void 0)}});var GT=k(3532);function hv(n,e=sg.z){return function $T(n){return(0,In.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const w=i;i=null,t.next(w)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,pn.x)(t,w=>{r=!0,i=w,a||(0,vi.Xf)(n(w)).subscribe(a=(0,pn.x)(t,f,_))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function tc(n=0,e,t=sg.P){let r=-1;return null!=e&&((0,GT.K)(e)?t=e:r=e),new _n.y(i=>{let a=function OE(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let ok=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new jt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _n.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(hv(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(yn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=nl(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(To),d.LFG(ie,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wg=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new jt.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(hv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(To),d.LFG(d.R0b),d.LFG(ie,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[og,Kg],og,Kg]}),n})();class vf{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class KT extends vf{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class LE extends vf{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class pk extends vf{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class ZT extends class gk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof KT?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof LE?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof pk?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let _k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const YT=zD();class bk{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=or(-this._previousScrollPosition.left),e.style.top=or(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),YT&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),YT&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class s{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class o{enable(){}disable(){}attach(){}}function l(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function u(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class h{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();l(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let g=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new o,this.close=c=>new s(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new bk(this._viewportRuler,this._document),this.reposition=c=>new h(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ok),d.LFG(Wg),d.LFG(d.R0b),d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class v{constructor(e){if(this.scrollStrategy=new o,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class A{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class H{constructor(e,t,r,i,a,c,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new jt.x,this._attachments=new jt.x,this._detachments=new jt.x,this._locationChanges=ir.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new jt.x,this._outsidePointerEvents=new jt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Sr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=or(this._config.width),e.height=or(this._config.height),e.minWidth=or(this._config.minWidth),e.minHeight=or(this._config.minHeight),e.maxWidth=or(this._config.maxWidth),e.maxHeight=or(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=z_(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Yi((0,ec.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let X=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Zl()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Zl()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(To))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ye="cdk-overlay-connected-position-bounding-box",Fe=/([A-Za-z%]+)$/;class $e{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jt.x,this._resizeSubscription=ir.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(ye),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<I.visibleArea)&&(c={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ye),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?c:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=_t(t);let{x:c,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(c+=_),w&&(f+=w);let L=0-f,B=f+a.height-r.height,Z=this._subtractOverflows(a.width,0-c,c+a.width-r.width),oe=this._subtractOverflows(a.height,L,B),Me=Z*oe;return{visibleArea:Me,isCompletelyWithinViewport:a.width*a.height===Me,fitsInViewportVertically:oe===a.height,fitsInViewportHorizontally:Z==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=Se(this._overlayRef.getConfig().minHeight),f=Se(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=_t(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let I=0,M=0;return I=i.width<=a.width?w||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,M=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:M},{x:e.x+I,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new A(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,f,I,M,L;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const B=Math.min(r.bottom-e.y+r.top,e.y),Z=this._lastBoundingBoxSize.height;a=2*B,c=e.y-B,a>Z&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-Z/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)L=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)M=e.x,I=r.right-e.x;else{const B=Math.min(r.right-e.x+r.left,e.x),Z=this._lastBoundingBoxSize.width;I=2*B,M=e.x-B,I>Z&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-Z/2)}return{top:c,left:M,bottom:f,right:L,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=or(r.height),i.top=or(r.top),i.bottom=or(r.bottom),i.width=or(r.width),i.left=or(r.left),i.right=or(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=or(a)),c&&(i.maxWidth=or(c))}this._lastBoundingBoxSize=r,Qe(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();Qe(r,this._getExactOverlayY(t,e,I)),Qe(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),c.maxHeight&&(i?r.maxHeight=or(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=or(c.maxWidth):a&&(r.maxWidth="")),Qe(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=or(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=or(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:u(e,r),isOriginOutsideView:l(e,r),isOverlayClipped:u(t,r),isOverlayOutsideView:l(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&z_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Qe(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Se(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Fe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function _t(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $t="cdk-global-overlay-wrapper";class un{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add($t),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove($t),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ys=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new un}flexibleConnectedTo(t){return new $e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wg),d.LFG(ie),d.LFG(To),d.LFG(X))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tu=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gv=(()=>{class n extends tu{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mv=(()=>{class n extends tu{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=la(a)},this._clickListener=a=>{const c=la(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(c)||I.overlayElement.contains(f))break;const M=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(To),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_v=0,Sd=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,L){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=M,this._outsideClickDispatcher=L}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new v(t);return c.direction=c.direction||this._directionality.value,new H(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+_v++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new ZT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(g),d.LFG(X),d.LFG(d._Vd),d.LFG(ys),d.LFG(gv),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ie),d.LFG(Bh),d.LFG(_e),d.LFG(mv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yv=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Zg=new d.OlP("cdk-connected-overlay-scroll-strategy");let Yg=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Qg=(()=>{class n{constructor(t,r,i,a,c){this._overlay=t,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ir.w0.EMPTY,this._attachSubscription=ir.w0.EMPTY,this._detachSubscription=ir.w0.EMPTY,this._positionSubscription=ir.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new d.vpe,this.positionChange=new d.vpe,this.attach=new d.vpe,this.detach=new d.vpe,this.overlayKeydown=new d.vpe,this.overlayOutsideClick=new d.vpe,this._templatePortal=new LE(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=jr(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=jr(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=jr(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=jr(t)}get push(){return this._push}set push(t){this._push=jr(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=yv);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!pd(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new v({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Yg?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function vk(n,e=!1){return(0,In.e)((t,r)=>{let i=0;t.subscribe((0,pn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Sd),d.Y36(d.Rgc),d.Y36(d.s_b),d.Y36(Zg),d.Y36(Bh,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[d.TTD]}),n})();const BV={provide:Zg,deps:[Sd],useFactory:function vv(n){return()=>n.scrollStrategies.reposition()}};let UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Sd,BV],imports:[[og,_k,pv],pv]}),n})();class jV{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new jt.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const HV=["trigger"],$V=["panel"];function GV(n,e){if(1&n&&(d.TgZ(0,"span",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Oqu(t.placeholder)}}function zV(n,e){if(1&n&&(d.TgZ(0,"span",12),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.Oqu(t.triggerValue)}}function qV(n,e){1&n&&d.Hsn(0,0,["*ngSwitchCase","true"])}function WV(n,e){if(1&n&&(d.TgZ(0,"span",9),d.YNc(1,zV,2,1,"span",10),d.YNc(2,qV,1,0,"ng-content",11),d.qZA()),2&n){const t=d.oxw();d.Q6J("ngSwitch",!!t.customTrigger),d.xp6(2),d.Q6J("ngSwitchCase",!0)}}function KV(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",13)(1,"div",14,15),d.NdJ("@transformPanel.done",function(i){return d.CHM(t),d.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return d.CHM(t),d.oxw()._handleKeydown(i)}),d.Hsn(3,1),d.qZA()()}if(2&n){const t=d.oxw();d.Q6J("@transformPanelWrap",void 0),d.xp6(1),d.Gre("mat-select-panel ",t._getPanelTheme(),""),d.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),d.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),d.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const ZV=[[["mat-select-trigger"]],"*"],YV=["mat-select-trigger","*"],wk={transformPanelWrap:dy("transformPanelWrap",[Zh("* => void",lw("@transformPanel",[ow()],{optional:!0}))]),transformPanel:dy("transformPanel",[Kh("void",al({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Kh("showing",al({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Kh("showing-multiple",al({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Zh("void => *",hg("120ms cubic-bezier(0, 0, 0.2, 1)")),Zh("* => void",hg("100ms 25ms linear",al({opacity:0})))])};let Ek=0;const Dk=new d.OlP("mat-select-scroll-strategy"),eB=new d.OlP("MAT_SELECT_CONFIG"),tB={provide:Dk,deps:[Sd],useFactory:function JV(n){return()=>n.scrollStrategies.reposition()}};class nB{constructor(e,t){this.source=e,this.value=t}}const rB=$g(sE(rE(Wy(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),iB=new d.OlP("MatSelectTrigger");let sB=(()=>{class n extends rB{constructor(t,r,i,a,c,f,_,w,I,M,L,B,Z,oe){var Me,et,rt;super(c,a,_,w,M),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=I,this._liveAnnouncer=Z,this._defaultOptions=oe,this._panelOpen=!1,this._compareWith=(st,it)=>st===it,this._uid="mat-select-"+Ek++,this._triggerAriaLabelledBy=null,this._destroy=new jt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Ek++,this._panelDoneAnimatingStream=new jt.x,this._overlayPanelClass=(null===(Me=this._defaultOptions)||void 0===Me?void 0:Me.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(rt=null===(et=this._defaultOptions)||void 0===et?void 0:et.disableOptionCentering)&&void 0!==rt&&rt,this.ariaLabel="",this.optionSelectionChanges=po(()=>{const st=this.options;return st?st.changes.pipe($n(st),gn(()=>(0,ec.T)(...st.map(it=>it.onSelectionChange)))):this._ngZone.onStable.pipe(Sr(1),gn(()=>this.optionSelectionChanges))}),this.openedChange=new d.vpe,this._openedStream=this.openedChange.pipe(yn(st=>st),(0,Ct.U)(()=>{})),this._closedStream=this.openedChange.pipe(yn(st=>!st),(0,Ct.U)(()=>{})),this.selectionChange=new d.vpe,this.valueChange=new d.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==oe?void 0:oe.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=oe.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(L)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(td.required))&&void 0!==a&&a}set required(t){this._required=jr(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=jr(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=jr(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=ig(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new jV(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ny(),Yi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Yi(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe($n(null),Yi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,c=this._keyManager;if(!c.isTyping()&&a&&!pd(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;c.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,c=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(c||13!==i&&32!==i||!r.activeItem||pd(t))if(!c&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Sr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new $I(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Yi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Yi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,ec.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Yi(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ec.T)(...this.options.map(r=>r._stateChanges)).pipe(Yi(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wg),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(Yy),d.Y36(d.SBq),d.Y36(Bh,8),d.Y36(Xp,8),d.Y36(sd,8),d.Y36(lv,8),d.Y36(Ks,10),d.$8M("tabindex"),d.Y36(Dk),d.Y36(iS),d.Y36(eB,8))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&(d.Gf(HV,5),d.Gf($V,5),d.Gf(Qg,5)),2&t){let i;d.iGM(i=d.CRH())&&(r.trigger=i.first),d.iGM(i=d.CRH())&&(r.panel=i.first),d.iGM(i=d.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[d.qOj,d.TTD]}),n})(),oB=(()=>{class n extends sB{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Yi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Sr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=ev(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function tv(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new nB(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let w=this._selectionModel.selected[0]||this.options.first;c=w&&w.group?32:16}i||(c*=-1);const f=0-(t.left+c-(i?a:0)),_=t.right+c-r.width+(i?0:a);f>0?c+=f+8:_>0&&(c-=_+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),c=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*_-c))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,c=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;w>c?this._adjustPanelUp(w,c):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),c=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=ev(f,this.options,this.optionGroups);const _=i/2;this._scrollTop=this._calculateOverlayScroll(f,_,c),this._offsetY=this._calculateOverlayOffsetY(f,_,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,iB,5),d.Suo(i,bT,5),d.Suo(i,vT,5)),2&t){let a;d.iGM(a=d.CRH())&&(r.customTrigger=a.first),d.iGM(a=d.CRH())&&(r.options=a),d.iGM(a=d.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&d.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(d.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),d.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[d._Bn([{provide:_f,useExisting:n},{provide:yT,useExisting:n}]),d.qOj],ngContentSelectors:YV,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(d.F$t(ZV),d.TgZ(0,"div",0,1),d.NdJ("click",function(){return r.toggle()}),d.TgZ(3,"div",2),d.YNc(4,GV,2,1,"span",3),d.YNc(5,WV,3,2,"span",4),d.qZA(),d.TgZ(6,"div",5),d._UZ(7,"div",6),d.qZA()(),d.YNc(8,KV,4,14,"ng-template",7),d.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=d.MAs(1);d.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),d.xp6(3),d.Q6J("ngSwitch",r.empty),d.uIk("id",r._valueId),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1),d.xp6(3),d.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[Yg,hr,qr,va,Qg,ns],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[wk.transformPanelWrap,wk.transformPanel]},changeDetection:0}),n})(),aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[tB],imports:[[Fs,UV,nv,Mo],Kg,Dd,nv,Mo]}),n})();const Ik=cd({passive:!0});let lB=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return as.E;const r=nl(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new jt.x,c="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,Ik),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,Ik)}}),a}stopMonitoring(t){const r=nl(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(To),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const uB=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),cB=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let dB=0;const hB=Wy(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let fB=(()=>{class n extends hB{constructor(t,r,i,a,c,f,_,w,I,M){super(f,a,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=M,this._uid="mat-input-"+dB++,this.focused=!1,this.stateChanges=new jt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Z=>O0().has(Z)),this._iOSKeyupListener=Z=>{const oe=Z.target;!oe.value&&0===oe.selectionStart&&0===oe.selectionEnd&&(oe.setSelectionRange(1,1),oe.setSelectionRange(0,0))};const L=this._elementRef.nativeElement,B=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=jr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(td.required))&&void 0!==a&&a}set required(t){this._required=jr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&O0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=jr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){cB.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(To),d.Y36(Ks,10),d.Y36(Xp,8),d.Y36(sd,8),d.Y36(Yy),d.Y36(uB,10),d.Y36(lB),d.Y36(d.R0b),d.Y36(lv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:_f,useExisting:n}]),d.qOj,d.TTD]}),n})(),pB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Yy],imports:[[Sk,Dd,Mo],Sk,Dd]}),n})();const Tk=["mat-button",""],Ak=["*"],_B=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yB=iE(rE($g(class{constructor(n){this._elementRef=n}})));let Mk=(()=>{class n extends yB{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of _B)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(nw),d.Y36(eu,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(Gg,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:Tk,ngContentSelectors:Ak,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Gg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),vB=(()=>{class n extends Mk{constructor(t,r,i,a){super(r,t,i),this._ngZone=a,this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nw),d.Y36(d.SBq),d.Y36(eu,8),d.Y36(d.R0b,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:Tk,ngContentSelectors:Ak,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Gg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gE,Mo],Mo]}),n})(),bB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[Fs,VD,Dd,aB,pB,xk]]}),n})();var Ii=k(5813);function QT(){return(0,In.e)((n,e)=>{let t,r=!1;n.subscribe((0,pn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var tt,cl=k(2011),wB=(k(1451),k(3942)),we=k(5861),bf=k(9681),BE=k(4859),Td=k(1877),Kt=k(2090),EB="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nc={},XT=XT||{},xt=EB||self;function UE(){}function JT(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var eA="closure_uid_"+(1e9*Math.random()>>>0),DB=0;function IB(n,e,t){return n.call.apply(n.bind,arguments)}function SB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?IB:SB).apply(null,arguments)}function jE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ti(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Ad(){this.s=this.s,this.o=this.o}var AB={};Ad.prototype.s=!1,Ad.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function CB(n){return Object.prototype.hasOwnProperty.call(n,eA)&&n[eA]||(n[eA]=++DB)}(this);delete AB[n]}},Ad.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ok=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Rk=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function kk(n){return Array.prototype.concat.apply([],arguments)}function tA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function HE(n){return/^[\s\xa0]*$/.test(n)}var bs,Pk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vs(n,e){return-1!=n.indexOf(e)}function nA(n,e){return n<e?-1:n>e?1:0}e:{var Nk=xt.navigator;if(Nk){var Fk=Nk.userAgent;if(Fk){bs=Fk;break e}}bs=""}function rA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lk(n){const e={};for(const t in n)e[t]=n[t];return e}var Vk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bk(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Vk.length;a++)t=Vk[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function iA(n){return iA[" "](n),n}iA[" "]=UE;var $E,n,OB=vs(bs,"Opera"),Jg=vs(bs,"Trident")||vs(bs,"MSIE"),Uk=vs(bs,"Edge"),sA=Uk||Jg,jk=vs(bs,"Gecko")&&!(vs(bs.toLowerCase(),"webkit")&&!vs(bs,"Edge"))&&!(vs(bs,"Trident")||vs(bs,"MSIE"))&&!vs(bs,"Edge"),RB=vs(bs.toLowerCase(),"webkit")&&!vs(bs,"Edge");function Hk(){var n=xt.document;return n?n.documentMode:void 0}e:{var oA="",aA=(n=bs,jk?/rv:([^\);]+)(\)|;)/.exec(n):Uk?/Edge\/([\d\.]+)/.exec(n):Jg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RB?/WebKit\/(\S+)/.exec(n):OB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aA&&(oA=aA?aA[1]:""),Jg){var lA=Hk();if(null!=lA&&lA>parseFloat(oA)){$E=String(lA);break e}}$E=oA}var kB={};var NB=xt.document&&Jg&&(Hk()||parseInt($E,10))||void 0,FB=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",UE,e),xt.removeEventListener("test",UE,e)}catch(t){}return n}();function Qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ev(n,e){if(Qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jk){e:{try{iA(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ev.Z.h.call(this)}}Qi.prototype.h=function(){this.defaultPrevented=!0},Ti(Ev,Qi);var LB={2:"touch",3:"pen",4:"mouse"};Ev.prototype.h=function(){Ev.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cv="closure_listenable_"+(1e6*Math.random()|0),VB=0;function BB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++VB,this.ca=this.fa=!1}function GE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function zE(n){this.src=n,this.g={},this.h=0}function cA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Ok(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(GE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}zE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=dA(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new BB(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var hA="closure_lm_"+(1e6*Math.random()|0),fA={};function Gk(n,e,t,r,i){if(r&&r.once)return qk(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Gk(n,e[a],t,r,i);return null}return t=_A(t),n&&n[Cv]?n.N(e,t,wv(r)?!!r.capture:!!r,i):zk(n,e,t,!1,r,i)}function zk(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=wv(i)?!!i.capture:!!i,f=gA(n);if(f||(n[hA]=f=new zE(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function UB(){var e=jB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)FB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Kk(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qk(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)qk(n,e[a],t,r,i);return null}return t=_A(t),n&&n[Cv]?n.O(e,t,wv(r)?!!r.capture:!!r,i):zk(n,e,t,!0,r,i)}function Wk(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Wk(n,e[a],t,r,i);else r=wv(r)?!!r.capture:!!r,t=_A(t),n&&n[Cv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dA(a=n.g[e],t,r,i))&&(GE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=gA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dA(e,t,r,i)),(t=-1<n?e[n]:null)&&pA(t))}function pA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Cv])cA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Kk(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gA(e))?(cA(t,n),0==t.h&&(t.src=null,e[hA]=null)):GE(n)}}}function Kk(n){return n in fA?fA[n]:fA[n]="on"+n}function jB(n,e){if(n.ca)n=!0;else{e=new Ev(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&pA(n),n=t.call(r,e)}return n}function gA(n){return(n=n[hA])instanceof zE?n:null}var mA="__closure_events_fn_"+(1e9*Math.random()>>>0);function _A(n){return"function"==typeof n?n:(n[mA]||(n[mA]=function(e){return n.handleEvent(e)}),n[mA])}function oi(){Ad.call(this),this.i=new zE(this),this.P=this,this.I=null}function Ai(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Qi(e,n);else if(e instanceof Qi)e.target=e.target||n;else{var i=e;Bk(e=new Qi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=qE(c,r,!0,e)&&i}if(i=qE(c=e.g=n,r,!0,e)&&i,i=qE(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=qE(c=e.g=t[a],r,!1,e)&&i}function qE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&cA(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ti(oi,Ad),oi.prototype[Cv]=!0,oi.prototype.removeEventListener=function(n,e,t,r){Wk(this,n,e,t,r)},oi.prototype.M=function(){if(oi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)GE(t[r]);delete n.g[e],n.h--}}this.I=null},oi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yA=xt.JSON.stringify;function HB(){var n=Yk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bA,Zk=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new GB,n=>n.reset());class GB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zB(n){xt.setTimeout(()=>{throw n},0)}function vA(n,e){bA||function qB(){var n=xt.Promise.resolve(void 0);bA=function(){n.then(WB)}}(),wA||(bA(),wA=!0),Yk.add(n,e)}var wA=!1,Yk=new class $B{constructor(){this.h=this.g=null}add(e,t){const r=Zk.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function WB(){for(var n;n=HB();){try{n.h.call(n.g)}catch(t){zB(t)}var e=Zk;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wA=!1}function WE(n,e){oi.call(this),this.h=n||1,this.g=e||xt,this.j=Si(this.kb,this),this.l=Date.now()}function EA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function CA(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function Qk(n){n.g=CA(()=>{n.g=null,n.i&&(n.i=!1,Qk(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ti(WE,oi),(tt=WE.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ai(this,"tick"),this.da&&(EA(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){WE.Z.M.call(this),EA(this),delete this.g};class KB extends Ad{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qk(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dv(n){Ad.call(this),this.h=n,this.g={}}Ti(Dv,Ad);var Xk=[];function Jk(n,e,t,r){Array.isArray(t)||(t&&(Xk[0]=t.toString()),t=Xk);for(var i=0;i<t.length;i++){var a=Gk(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function eP(n){rA(n.g,function(e,t){this.g.hasOwnProperty(t)&&pA(e)},n),n.g={}}function KE(){this.g=!0}function em(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function XB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return yA(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Dv.prototype.M=function(){Dv.Z.M.call(this),eP(this)},Dv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},KE.prototype.Aa=function(){this.g=!1},KE.prototype.info=function(){};var wf={},tP=null;function ZE(){return tP=tP||new oi}function nP(n){Qi.call(this,wf.Ma,n)}function Iv(n){const e=ZE();Ai(e,new nP(e,n))}function rP(n,e){Qi.call(this,wf.STAT_EVENT,n),this.stat=e}function ws(n){const e=ZE();Ai(e,new rP(e,n))}function iP(n,e){Qi.call(this,wf.Na,n),this.size=e}function Sv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}wf.Ma="serverreachability",Ti(nP,Qi),wf.STAT_EVENT="statevent",Ti(rP,Qi),wf.Na="timingevent",Ti(iP,Qi);var YE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function DA(){}function aP(){}DA.prototype.h=null;var TA,Tv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function IA(){Qi.call(this,"d")}function SA(){Qi.call(this,"c")}function QE(){}function Av(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Dv(this),this.P=JB,this.W=new WE(n=sA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lP}function lP(){this.i=null,this.g="",this.h=!1}Ti(IA,Qi),Ti(SA,Qi),Ti(QE,DA),QE.prototype.g=function(){return new XMLHttpRequest},QE.prototype.i=function(){return{}},TA=new QE;var JB=45e3,AA={},XE={};function MA(n,e,t){n.K=1,n.v=rC(rc(e)),n.s=t,n.U=!0,uP(n,null)}function uP(n,e){n.F=Date.now(),Mv(n),n.A=rc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),yP(t.h,"t",r),n.C=0,t=n.l.H,n.h=new lP,n.g=jP(n.l,t?e:null,!n.s),0<n.O&&(n.L=new KB(Si(n.Ia,n,n.g),n.O)),Jk(n.V,n.g,"readystatechange",n.gb),e=n.H?Lk(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Iv(1),function ZB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var M=I.split("_");c=2<=M.length&&"type"==M[1]?c+(I+"=")+w+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function cP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function dP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=eU(n,t),i==XE){4==e&&(n.o=4,ws(14),r=!1),em(n.j,n.m,null,"[Incomplete Response]");break}if(i==AA){n.o=4,ws(15),em(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}em(n.j,n.m,i,null),xA(n,i)}cP(n)&&i!=XE&&i!=AA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ws(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),jA(e),e.L=!0,ws(11))):(em(n.j,n.m,t,"[Invalid Chunked Response]"),Ef(n),xv(n))}function eU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?XE:(t=Number(e.substring(t,r)),isNaN(t)?AA:(r+=1)+t>e.length?XE:(e=e.substr(r,t),n.C=r+t,e))}function Mv(n){n.Y=Date.now()+n.P,hP(n,n.P)}function hP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sv(Si(n.eb,n),e)}function JE(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function xv(n){0==n.l.G||n.I||LP(n.l,n)}function Ef(n){JE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,EA(n.W),eP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kA(t.i,n)))if(t.I=n.N,!n.J&&kA(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Sv(Si(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;uC(t),aC(t)}UA(t),ws(18)}if(1>=wP(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else If(t,11)}else if((n.J||t.g==n)&&uC(t),!HE(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const M=w[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var a=r.i;!a.g&&(vs(Z,"spdy")||vs(Z,"quic")||vs(Z,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(PA(a,a.h),a.h=null))}if(r.D){const oe=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(r.sa=oe,zn(r.F,r.D,oe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=UP(r,r.H?r.la:null,r.W),c.J){EP(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(JE(f),Mv(f)),r.g=c}else NP(r);0<t.l.length&&lC(t)}else"stop"!=w[0]&&"close"!=w[0]||If(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?If(t,7):VA(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}Iv(4)}catch(w){}}function OA(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(JT(n)||"string"==typeof n)Rk(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(JT(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function tU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(JT(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function tm(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof tm)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function RA(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Cf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Cf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(tt=Av.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const e=this.L;e&&3==ic(n)?e.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const I=ic(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>I)&&(3!=I||sA||this.g&&(this.h.h||this.g.ga()||xP(this.g)))){this.I||4!=I||7==e||Iv(8==e||0>=M?3:2),JE(this);var t=this.g.ba();this.N=t;t:if(cP(this)){var r=xP(this.g);n="";var i=r.length,a=4==ic(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ef(this),xv(this);var c="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function YB(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!HE(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ws(12),Ef(this),xv(this);break e}em(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xA(this,t)}this.U?(dP(this,I,c),sA&&this.i&&3==I&&(Jk(this.V,this.W,"tick",this.fb),this.W.start())):(em(this.j,this.m,c,null),xA(this,c)),4==I&&Ef(this),this.i&&!this.I&&(4==I?LP(this.l,this):(this.i=!1,Mv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),Ef(this),xv(this)}}}catch(I){}},tt.fb=function(){if(this.g){var n=ic(this.g),e=this.g.ga();this.C<e.length&&(JE(this),dP(this,n,e),this.i&&4!=n&&Mv(this))}},tt.cancel=function(){this.I=!0,Ef(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function QB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Iv(3),ws(17)),Ef(this),this.o=2,xv(this)):hP(this,this.Y-n)},(tt=tm.prototype).R=function(){RA(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},tt.T=function(){return RA(this),this.g.concat()},tt.get=function(n,e){return Cf(this.h,n)?this.h[n]:e},tt.set=function(n,e){Cf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},tt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var fP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Df(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Df){this.g=void 0!==e?e:n.g,eC(this,n.j),this.s=n.s,tC(this,n.i),nC(this,n.m),this.l=n.l,e=n.h;var t=new kv;t.i=e.i,e.g&&(t.g=new tm(e.g),t.h=e.h),pP(this,t),this.o=n.o}else n&&(t=String(n).match(fP))?(this.g=!!e,eC(this,t[1]||"",!0),this.s=Ov(t[2]||""),tC(this,t[3]||"",!0),nC(this,t[4]),this.l=Ov(t[5]||"",!0),pP(this,t[6]||"",!0),this.o=Ov(t[7]||"")):(this.g=!!e,this.h=new kv(null,this.g))}function rc(n){return new Df(n)}function eC(n,e,t){n.j=t?Ov(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tC(n,e,t){n.i=t?Ov(e,!0):e}function nC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pP(n,e,t){e instanceof kv?(n.h=e,function cU(n,e){e&&!n.j&&(Md(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mP(this,r),yP(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Rv(e,lU)),n.h=new kv(e,n.g))}function zn(n,e,t){n.h.set(e,t)}function rC(n){return zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ov(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,sU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function sU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Df.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rv(e,gP,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rv(e,gP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rv(t,"/"==t.charAt(0)?aU:oU,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rv(t,uU)),n.join("")};var gP=/[#\/\?@]/g,oU=/[#\?:]/g,aU=/[#\?]/g,lU=/[#\?@]/g,uU=/#/g;function kv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Md(n){n.g||(n.g=new tm,n.h=0,n.i&&function nU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mP(n,e){Md(n),e=nm(n,e),Cf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&RA(n)))}function _P(n,e){return Md(n),e=nm(n,e),Cf(n.g.h,e)}function yP(n,e,t){mP(n,e),0<t.length&&(n.i=null,n.g.set(nm(n,e),tA(t)),n.h+=t.length)}function nm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vP(n){this.l=n||hU,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=kv.prototype).add=function(n,e){Md(this),this.i=null,n=nm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){Md(this),this.g.forEach(function(t,r){Rk(t,function(i){n.call(e,i,r,this)},this)},this)},tt.T=function(){Md(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},tt.R=function(n){Md(this);var e=[];if("string"==typeof n)_P(this,n)&&(e=kk(e,this.g.get(nm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=kk(e,n[t])}return e},tt.set=function(n,e){return Md(this),this.i=null,_P(this,n=nm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var hU=10;function bP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wP(n){return n.h?1:n.g?n.g.size:0}function kA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function PA(n,e){n.g?n.g.add(e):n.h=e}function EP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function CP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tA(n.i)}function NA(){}function fU(){this.g=new NA}function pU(n,e,t){const r=t||"";try{OA(n,function(i,a){let c=i;wv(i)&&(c=yA(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Pv(n){this.l=n.$b||null,this.j=n.ib||!1}function sC(n,e){oi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vP.prototype.cancel=function(){if(this.i=CP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NA.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},NA.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},Ti(Pv,DA),Pv.prototype.g=function(){return new sC(this.l,this.j)},Pv.prototype.i=function(n){return function(){return n}}({}),Ti(sC,oi);var FA=0;function DP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Nv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fv(n)}function Fv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=sC.prototype).open=function(n,e){if(this.readyState!=FA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fv(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nv(this)),this.readyState=FA},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fv(this)),this.g&&(this.readyState=3,Fv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Nv(this):Fv(this),3==this.readyState&&DP(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,Nv(this))},tt.Ta=function(n){this.g&&(this.response=n,Nv(this))},tt.ha=function(){this.g&&Nv(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mU=xt.JSON.parse;function Mr(n){oi.call(this),this.headers=new tm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IP,this.K=this.L=!1}Ti(Mr,oi);var IP="",_U=/^https?$/i,yU=["POST","PUT"];function bU(n){return"content-type"==n.toLowerCase()}function SP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,TP(n),oC(n)}function TP(n){n.D||(n.D=!0,Ai(n,"complete"),Ai(n,"error"))}function AP(n){if(n.h&&void 0!==XT&&(!n.C[1]||4!=ic(n)||2!=n.ba()))if(n.v&&4==ic(n))CA(n.Fa,0,n);else if(Ai(n,"readystatechange"),4==ic(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(fP)[1]||null;if(!i&&xt.self&&xt.self.location){var a=xt.self.location.protocol;i=a.substr(0,a.length-1)}r=!_U.test(i?i.toLowerCase():"")}t=r}if(t)Ai(n,"complete"),Ai(n,"success");else{n.m=6;try{var c=2<ic(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.ba()+"]",TP(n)}}finally{oC(n)}}}function oC(n,e){if(n.g){MP(n);const t=n.g,r=n.C[0]?UE:null;n.g=null,n.C=null,e||Ai(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function MP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function ic(n){return n.g?n.g.readyState:0}function xP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function LA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function wU(n){let e="";return rA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zn(n,e,t))}function Lv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function OP(n){this.za=0,this.l=[],this.h=new KE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lv("baseRetryDelayMs",5e3,n),this.$a=Lv("retryDelaySeedMs",1e4,n),this.Ya=Lv("forwardChannelMaxRetries",2,n),this.ra=Lv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vP(n&&n.concurrentRequestLimit),this.Ca=new fU,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function VA(n){if(RP(n),3==n.G){var e=n.V++,t=rc(n.F);zn(t,"SID",n.J),zn(t,"RID",e),zn(t,"TYPE","terminate"),Vv(n,t),(e=new Av(n,n.h,e,void 0)).K=2,e.v=rC(rc(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Mv(e)}BP(n)}function aC(n){n.g&&(jA(n),n.g.cancel(),n.g=null)}function RP(n){aC(n),n.u&&(xt.clearTimeout(n.u),n.u=null),uC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function BA(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&lC(n)}function lC(n){bP(n.i)||n.m||(n.m=!0,vA(n.Ha,n),n.C=0)}function kP(n,e){var t;t=e?e.m:n.V++;const r=rc(n.F);zn(r,"SID",n.J),zn(r,"RID",t),zn(r,"AID",n.U),Vv(n,r),n.o&&n.s&&LA(r,n.o,n.s),t=new Av(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=PP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),PA(n.i,t),MA(t,r,e)}function Vv(n,e){n.j&&OA({},function(t,r){zn(e,r,t)})}function PP(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Si(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{pU(I,c,"req"+w+"_")}catch(M){r&&r(I)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function NP(n){n.g||n.u||(n.Y=1,vA(n.Ga,n),n.A=0)}function UA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Sv(Si(n.Ga,n),VP(n,n.A)),n.A++,0))}function jA(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function FP(n){n.g=new Av(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=rc(n.oa);zn(e,"RID","rpc"),zn(e,"SID",n.J),zn(e,"CI",n.N?"0":"1"),zn(e,"AID",n.U),Vv(n,e),zn(e,"TYPE","xmlhttp"),n.o&&n.s&&LA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=rC(rc(e)),t.s=null,t.U=!0,uP(t,n)}function uC(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function LP(n,e){var t=null;if(n.g==e){uC(n),jA(n),n.g=null;var r=2}else{if(!kA(n.i,e))return;t=e.D,EP(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ai(r=ZE(),new iP(r,t,e,i)),lC(n)}else NP(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function EU(n,e){return!(wP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Sv(Si(n.Ha,n,e),VP(n,n.C)),n.C++,0)))}(n,e)||2==r&&UA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:If(n,5);break;case 4:If(n,10);break;case 3:If(n,6);break;default:If(n,2)}}function VP(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function If(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Si(n.jb,n);t||(t=new Df("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||eC(t,"https"),rC(t)),function gU(n,e){const t=new KE;if(xt.Image){const r=new Image;r.onload=jE(iC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jE(iC,t,r,"TestLoadImage: error",!1,e),r.onabort=jE(iC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jE(iC,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ws(2);n.G=0,n.j&&n.j.va(e),BP(n),RP(n)}function BP(n){n.G=0,n.I=-1,n.j&&((0!=CP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,tA(n.l),n.l.length=0),n.j.ua())}function UP(n,e,t){let r=function rU(n){return n instanceof Df?rc(n):new Df(n,void 0)}(t);if(""!=r.i)e&&tC(r,e+"."+r.i),nC(r,r.m);else{const i=xt.location;r=function iU(n,e,t,r){var i=new Df(null,void 0);return n&&eC(i,n),e&&tC(i,e),t&&nC(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&rA(n.aa,function(i,a){zn(r,a,i)}),t=n.sa,(e=n.D)&&t&&zn(r,e,t),zn(r,"VER",n.ma),Vv(n,r),r}function jP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mr(t&&n.Ba&&!n.qa?new Pv({ib:!0}):n.qa)).L=n.H,e}function HP(){}function cC(){if(Jg&&!(10<=Number(NB)))throw Error("Environmental error: no available transport.")}function Ro(n,e){oi.call(this),this.g=new OP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!HE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!HE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rm(this)}function $P(n){IA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function GP(){SA.call(this),this.status=1}function rm(n){this.g=n}(tt=Mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():TA.g(),this.C=function oP(n){return n.h||(n.h=n.i())}(this.u?this.u:TA),this.g.onreadystatechange=Si(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void SP(this,a)}n=t||"";const i=new tm(this.headers);r&&OA(r,function(a,c){i.set(c,a)}),r=function MB(n){e:{var e=bU;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=Ok(yU,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MP(this),0<this.B&&((this.K=function vU(n){return Jg&&function PB(){return function xB(n){var e=kB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Pk(String($E)).split("."),t=Pk("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=nA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||nA(0==i[2].length,0==a[2].length)||nA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.pa,this)):this.A=CA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){SP(this,a)}},tt.pa=function(){void 0!==XT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ai(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ai(this,"complete"),Ai(this,"abort"),oC(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oC(this,!0)),Mr.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?AP(this):this.cb())},tt.cb=function(){AP(this)},tt.ba=function(){try{return 2<ic(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mU(e)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=OP.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Av(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Lk(a),Bk(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=PP(this,i,e),zn(t=rc(this.F),"RID",n),zn(t,"CVER",22),this.D&&zn(t,"X-HTTP-Session-Id",this.D),Vv(this,t),this.o&&a&&LA(t,this.o,a),PA(this.i,i),this.Ra&&zn(t,"TYPE","init"),this.ja?(zn(t,"$req",e),zn(t,"SID","null"),i.$=!0,MA(i,t,null)):MA(i,t,e),this.G=2}}else 3==this.G&&(n?kP(this,n):0==this.l.length||bP(this.i)||kP(this))},tt.Ga=function(){if(this.u=null,FP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Sv(Si(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ws(10),aC(this),FP(this))},tt.ab=function(){null!=this.v&&(this.v=null,aC(this),UA(this),ws(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ws(2)):(this.h.info("Failed to ping google.com"),ws(1))},(tt=HP.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},cC.prototype.g=function(n,e){return new Ro(n,e)},Ti(Ro,oi),Ro.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),vA(Si(n.hb,n,e))),ws(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=UP(n,null,n.W),lC(n)},Ro.prototype.close=function(){VA(this.g)},Ro.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,BA(this.g,e)}else this.v?((e={}).__data__=yA(n),BA(this.g,e)):BA(this.g,n)},Ro.prototype.M=function(){this.g.j=null,delete this.j,VA(this.g),delete this.g,Ro.Z.M.call(this)},Ti($P,IA),Ti(GP,SA),Ti(rm,HP),rm.prototype.xa=function(){Ai(this.g,"a")},rm.prototype.wa=function(n){Ai(this.g,new $P(n))},rm.prototype.va=function(n){Ai(this.g,new GP(n))},rm.prototype.ua=function(){Ai(this.g,"b")},cC.prototype.createWebChannel=cC.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,YE.NO_ERROR=0,YE.TIMEOUT=8,YE.HTTP_ERROR=6,sP.COMPLETE="complete",aP.EventType=Tv,Tv.OPEN="a",Tv.CLOSE="b",Tv.ERROR="c",Tv.MESSAGE="d",oi.prototype.listen=oi.prototype.N,Mr.prototype.listenOnce=Mr.prototype.O,Mr.prototype.getLastError=Mr.prototype.La,Mr.prototype.getLastErrorCode=Mr.prototype.Da,Mr.prototype.getStatus=Mr.prototype.ba,Mr.prototype.getResponseJson=Mr.prototype.Qa,Mr.prototype.getResponseText=Mr.prototype.ga,Mr.prototype.send=Mr.prototype.ea;var CU=nc.createWebChannelTransport=function(){return new cC},DU=nc.getStatEventTarget=function(){return ZE()},HA=nc.ErrorCode=YE,IU=nc.EventType=sP,SU=nc.Event=wf,zP=nc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TU=nc.FetchXmlHttpFactory=Pv,dC=nc.WebChannel=aP,AU=nc.XhrIo=Mr;const qP="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let im="9.9.0";const xd=new Td.Yd("@firebase/firestore");function $A(){return xd.logLevel}function Pe(n,...e){if(xd.logLevel<=Td.in.DEBUG){const t=e.map(GA);xd.debug(`Firestore (${im}): ${n}`,...t)}}function xr(n,...e){if(xd.logLevel<=Td.in.ERROR){const t=e.map(GA);xd.error(`Firestore (${im}): ${n}`,...t)}}function Bv(n,...e){if(xd.logLevel<=Td.in.WARN){const t=e.map(GA);xd.warn(`Firestore (${im}): ${n}`,...t)}}function GA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${im}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function At(n,e){n||nt()}function Ze(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class RU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kU{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new li;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new li,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new li)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new WP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new ai(e)}}class PU{constructor(e,t,r){this.type="FirstParty",this.user=ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class NU{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PU(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FU{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.p=t.token,new KP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LU(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZP{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function sm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function YP(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new qn(0,0))}static max(){return new St(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Uv{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Uv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends Uv{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new en(t)}static emptyPath(){return new en([])}}const VU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends Uv{construct(e,t,r){return new br(e,t,r)}static isValidIdentifier(e){return VU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(t)}static emptyPath(){return new br([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(en.fromString(e))}static fromName(e){return new qe(en.fromString(e).popFirst(5))}static empty(){return new qe(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new en(e.slice()))}}class hC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function zA(n){return n.fields.find(e=>2===e.kind)}function Sf(n){return n.fields.filter(e=>2!==e.kind)}hC.UNKNOWN_ID=-1;class fC{constructor(e,t){this.fieldPath=e,this.kind=t}}class jv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jv(0,ko.min())}}function QP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=St.fromTimestamp(1e9===r?new qn(t+1,0):new qn(t,r));return new ko(i,qe.empty(),e)}function XP(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ko(St.min(),qe.empty(),-1)}static max(){return new ko(St.max(),qe.empty(),-1)}}function qA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const JP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Od(n){return WA.apply(this,arguments)}function WA(){return WA=(0,we.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==JP)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),WA.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{c[w]=I,++f,f===a&&r(c)},I=>i(I))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class pC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new li,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Hv(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=KA(r.target.error);this.T.reject(new Hv(e,i))}}static open(e,t,r,i){try{return new pC(t,e.transaction(i,r))}catch(a){throw new Hv(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new UU(t)}}class dl{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===dl.v((0,Kt.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Tf(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Kt.hl)())return!1;if(dl.S())return!0;const e=(0,Kt.z$)(),t=dl.v(e),r=0<t&&t<10,i=dl.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,we.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Hv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Oe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Hv(e,f))},a.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(e);const _=pC.open(a.db,e,c?"readonly":"readwrite",r),w=i(_).next(I=>(_.R(),I)).catch(I=>(_.abort(I),ae.reject(I))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class BU{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Tf(this.$.delete())}}class Hv extends Oe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rd(n){return"IndexedDbTransactionError"===n.name}class UU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tf(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Tf(this.store.add(e))}get(e){return Tf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Tf(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Tf(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.G(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ae((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(a,c,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=a=>{const c=KA(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}G(e,t){const r=[];return new ae((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new BU(f),w=t(f.primaryKey,f.value,_);if(w instanceof ae){const I=w.catch(M=>(_.done(),ae.reject(M)));r.push(I)}_.isDone?i():null===_.U?f.continue():f.continue(_.U)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tf(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=KA(r.target.error);t(i)}})}let tN=!1;function KA(n){const e=dl.v((0,Kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tN||(tN=!0,setTimeout(()=>{throw r},0)),r}}return n}class jU{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Rd(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Od(r)}yield t.Z(1)}))}}class HU{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,a=!0;return ae.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,i).next(f=>{i-=f,r.add(c)});a=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(i,a)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=XP(a);qA(c,r)>0&&(r=c)}),new ko(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function nN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Af(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Xs.ot=-1;class ar{constructor(e,t){this.comparator=e,this.root=t||Mi.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gC(this.root,e,this.comparator,!1)}getReverseIterator(){return new gC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gC(this.root,e,this.comparator,!0)}}class gC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Mi.RED,this.left=null!=i?i:Mi.EMPTY,this.right=null!=a?a:Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Mi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Mi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iN(this.data.getIterator())}getIteratorFrom(e){return new iN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class iN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function om(n){return n.hasNext()?n.getNext():void 0}class Po{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new Po([])}unionWith(e){let t=new Cn(br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const GU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kd(n){if(At(!!n),"string"==typeof n){let e=0;const t=GU.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mf(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function ZA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sN(n){const e=n.mapValue.fields.__previous_value__;return ZA(e)?sN(e):e}function $v(n){const e=kd(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class zU{constructor(e,t,r,i,a,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class sc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}function Gv(n){return null==n}function zv(n){return 0===n&&1/n==-1/0}function oN(n){return"number"==typeof n&&Number.isInteger(n)&&!zv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mC={nullValue:"NULL_VALUE"};function xf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ZA(n)?4:cN(n)?9007199254740991:10:nt()}function nu(n,e){if(n===e)return!0;const t=xf(n);if(t!==xf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $v(n).isEqual($v(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=kd(r.timestampValue),c=kd(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Mf(n.bytesValue).isEqual(Mf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lr(r.geoPointValue.latitude)===lr(i.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lr(r.integerValue)===lr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=lr(r.doubleValue),c=lr(i.doubleValue);return a===c?zv(a)===zv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return sm(n.arrayValue.values||[],e.arrayValue.values||[],nu);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(nN(a)!==nN(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!nu(a[f],c[f])))return!1;return!0}(n,e);default:return nt()}var i}function qv(n,e){return void 0!==(n.values||[]).find(t=>nu(t,e))}function Nd(n,e){if(n===e)return 0;const t=xf(n),r=xf(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=lr(i.integerValue||i.doubleValue),f=lr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return aN(n.timestampValue,e.timestampValue);case 4:return aN($v(n),$v(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Mf(i),f=Mf(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=Ft(c[_],f[_]);if(0!==w)return w}return Ft(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Ft(lr(i.latitude),lr(a.latitude));return 0!==c?c:Ft(lr(i.longitude),lr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=Nd(c[_],f[_]);if(w)return w}return Ft(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Pd.mapValue&&a===Pd.mapValue)return 0;if(i===Pd.mapValue)return 1;if(a===Pd.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const M=Ft(f[I],w[I]);if(0!==M)return M;const L=Nd(c[f[I]],_[w[I]]);if(0!==L)return L}return Ft(f.length,w.length)}(n.mapValue,e.mapValue);default:throw nt()}}function aN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=kd(n),r=kd(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function am(n){return YA(n)}function YA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=kd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mf(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=YA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${YA(r.fields[f])}`;return a+"}"}(n.mapValue):nt();var e}function Of(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function QA(n){return!!n&&"integerValue"in n}function Wv(n){return!!n&&"arrayValue"in n}function lN(n){return!!n&&"nullValue"in n}function uN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _C(n){return!!n&&"mapValue"in n}function Kv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Af(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qU(n){return"nullValue"in n?mC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Of(sc.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:nt()}function WU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Of(sc.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Pd:nt()}function dN(n,e){const t=Nd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hN(n,e){const t=Nd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_C(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kv(t)}setAll(e){let t=br.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Kv(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());_C(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_C(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Af(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xi(Kv(this.value))}}function fN(n){const e=[];return Af(n.fields,(t,r)=>{const i=new br([t]);if(_C(r)){const a=fN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Po(e)}class Nn{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,St.min(),St.min(),xi.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new Nn(e,2,t,St.min(),xi.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,St.min(),xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class KU{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.ut=null}}function pN(n,e=null,t=[],r=[],i=null,a=null,c=null){return new KU(n,e,t,r,i,a,c)}function Rf(n){const e=Ze(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+am(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>am(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>am(r)).join(",")),e.ut=t}return e.ut}function Zv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!r2(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!nu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vN(n.startAt,e.startAt)&&vN(n.endAt,e.endAt)}function yC(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vC(n,e){return n.filters.filter(t=>t instanceof Oi&&t.field.isEqual(e))}function gN(n,e,t){let r=mC,i=!0;for(const a of vC(n,e)){let c=mC,f=!0;switch(a.op){case"<":case"<=":c=qU(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=mC}dN({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];dN({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function mN(n,e,t){let r=Pd,i=!0;for(const a of vC(n,e)){let c=Pd,f=!0;switch(a.op){case">=":case">":c=WU(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=Pd}hN({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];hN({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new YU(e,t,r):"array-contains"===t?new JU(e,r):"in"===t?new e2(e,r):"not-in"===t?new t2(e,r):"array-contains-any"===t?new n2(e,r):new Oi(e,t,r)}static ct(e,t,r){return"in"===t?new QU(e,r):new XU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Nd(t,this.value)):null!==t&&xf(this.value)===xf(t)&&this.at(Nd(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class YU extends Oi{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.at(t)}}class QU extends Oi{constructor(e,t){super(e,"in",t),this.keys=_N(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XU extends Oi{constructor(e,t){super(e,"not-in",t),this.keys=_N(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _N(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class JU extends Oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wv(t)&&qv(t.arrayValue,this.value)}}class e2 extends Oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qv(this.value.arrayValue,t)}}class t2 extends Oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qv(this.value.arrayValue,t)}}class n2 extends Oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qv(this.value.arrayValue,r))}}class Fd{constructor(e,t){this.position=e,this.inclusive=t}}class lm{constructor(e,t="asc"){this.field=e,this.dir=t}}function r2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function yN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?qe.comparator(qe.fromName(c.referenceValue),t.key):Nd(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nu(n.position[t],e.position[t]))return!1;return!0}class oc{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.lt=null,this.ft=null}}function bN(n,e,t,r,i,a,c,f){return new oc(n,e,t,r,i,a,c,f)}function um(n){return new oc(n)}function XA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JA(n){for(const e of n.filters)if(e.ht())return e.field;return null}function eM(n){return null!==n.collectionGroup}function cm(n){const e=Ze(n);if(null===e.lt){e.lt=[];const t=JA(e),r=XA(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new lm(t)),e.lt.push(new lm(br.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new lm(br.keyField(),a))}}}return e.lt}function fa(n){const e=Ze(n);if(!e.ft)if("F"===e.limitType)e.ft=pN(e.path,e.collectionGroup,cm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of cm(e))t.push(new lm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Fd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fd(e.startAt.position,e.startAt.inclusive):null;e.ft=pN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function wN(n,e,t){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yv(n,e){return Zv(fa(n),fa(e))&&n.limitType===e.limitType}function EN(n){return`${Rf(fa(n))}|lt:${n.limitType}`}function tM(n){return`Query(target=${function ZU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${am(r.value)}`;var r}).join(", ")}]`),Gv(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>am(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>am(t)).join(",")),`Target(${e})`}(fa(n))}; limitType=${n.limitType})`}function nM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=yN(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,cm(t),r)||t.endAt&&!function(i,a,c){const f=yN(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,cm(t),r)));var t,r}function CN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DN(n){return(e,t)=>{let r=!1;for(const i of cm(n)){const a=o2(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function o2(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Nd(f,_):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}function IN(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zv(e)?"-0":e}}function SN(n){return{integerValue:""+n}}function TN(n,e){return oN(e)?SN(e):IN(n,e)}class bC{constructor(){this._=void 0}}function a2(n,e,t){return n instanceof dm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof kf?MN(n,e):n instanceof Pf?xN(n,e):function(r,i){const a=AN(r,i),c=ON(a)+ON(r._t);return QA(a)&&QA(r._t)?SN(c):IN(r.wt,c)}(n,e)}function l2(n,e,t){return n instanceof kf?MN(n,e):n instanceof Pf?xN(n,e):t}function AN(n,e){return n instanceof hm?QA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class dm extends bC{}class kf extends bC{constructor(e){super(),this.elements=e}}function MN(n,e){const t=RN(e);for(const r of n.elements)t.some(i=>nu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pf extends bC{constructor(e){super(),this.elements=e}}function xN(n,e){let t=RN(e);for(const r of n.elements)t=t.filter(i=>!nu(i,r));return{arrayValue:{values:t}}}class hm extends bC{constructor(e,t){super(),this.wt=e,this._t=t}}function ON(n){return lr(n.integerValue||n.doubleValue)}function RN(n){return Wv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qv{constructor(e,t){this.field=e,this.transform=t}}class c2{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class EC{}function kN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pm(n.key,Jn.none()):new fm(n.key,n.data,Jn.none());{const t=n.data,r=xi.empty();let i=new Cn(br.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new ac(n.key,r,new Po(i.toArray()),Jn.none())}}function d2(n,e,t){n instanceof fm?function(r,i,a){const c=r.value.clone(),f=FN(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ac?function(r,i,a){if(!wC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=FN(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(NN(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xv(n,e,t,r){return n instanceof fm?function(i,a,c,f){if(!wC(i.precondition,a))return c;const _=i.value.clone(),w=LN(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ac?function(i,a,c,f){if(!wC(i.precondition,a))return c;const _=LN(i.fieldTransforms,f,a),w=a.data;return w.setAll(NN(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(c=t,wC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function h2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=AN(r.transform,i||null);null!=a&&(null===t&&(t=xi.empty()),t.set(r.field,a))}return t||null}function PN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sm(t,r,(i,a)=>function u2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof kf&&r instanceof kf||t instanceof Pf&&r instanceof Pf?sm(t.elements,r.elements,nu):t instanceof hm&&r instanceof hm?nu(t._t,r._t):t instanceof dm&&r instanceof dm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class fm extends EC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ac extends EC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function NN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FN(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,l2(c,f,t[i]))}return r}function LN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,a2(a,c,e))}return r}class pm extends EC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends EC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f2{constructor(e){this.count=e}}var Or,tn;function VN(n){switch(n){default:return nt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function BN(n){if(void 0===n)return xr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Or.OK:return fe.OK;case Or.CANCELLED:return fe.CANCELLED;case Or.UNKNOWN:return fe.UNKNOWN;case Or.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Or.INTERNAL:return fe.INTERNAL;case Or.UNAVAILABLE:return fe.UNAVAILABLE;case Or.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Or.NOT_FOUND:return fe.NOT_FOUND;case Or.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Or.ABORTED:return fe.ABORTED;case Or.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Or.DATA_LOSS:return fe.DATA_LOSS;default:return nt()}}(tn=Or||(Or={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Ld{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Af(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return rN(this.inner)}size(){return this.innerSize}}const p2=new ar(qe.comparator);function Js(){return p2}const UN=new ar(qe.comparator);function Jv(...n){let e=UN;for(const t of n)e=e.insert(t.key,t);return e}function jN(n){let e=UN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ru(){return eb()}function HN(){return eb()}function eb(){return new Ld(n=>n.toString(),(n,e)=>n.isEqual(e))}const g2=new ar(qe.comparator),m2=new Cn(qe.comparator);function Ut(...n){let e=m2;for(const t of n)e=e.add(t);return e}const _2=new Cn(Ft);function CC(){return _2}class tb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,nb.createSynthesizedTargetChangeForCurrentChange(e,t)),new tb(St.min(),r,CC(),Js(),Ut())}}class nb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new nb(Hr.EMPTY_BYTE_STRING,t,Ut(),Ut(),Ut())}}class DC{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class $N{constructor(e,t){this.targetId=e,this.It=t}}class GN{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zN{constructor(){this.Tt=0,this.Et=WN(),this.At=Hr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Ut(),t=Ut(),r=Ut();return this.Et.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:nt()}}),new nb(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=WN()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class y2{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Js(),this.Bt=qN(),this.Lt=new Cn(Ft)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const a=i.target;if(yC(a))if(0===r){const c=new qe(a.path);this.Kt(t,c,Nn.newNoDocument(c,St.min()))}else At(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,c)=>{const f=this.Ht(c);if(f){if(a.current&&yC(f.target)){const _=new qe(f.target.path);null!==this.$t.get(_)||this.Xt(c,_)||this.Kt(c,_,Nn.newNoDocument(_,e))}a.vt&&(t.set(c,a.St()),a.Dt())}});let r=Ut();this.Bt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.$t.forEach((a,c)=>c.setReadTime(e));const i=new tb(e,t,this.Lt,this.$t,r);return this.$t=Js(),this.Bt=qN(),this.Lt=new Cn(Ft),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new zN,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Cn(Ft),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new zN),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function qN(){return new ar(qe.comparator)}function WN(){return new ar(qe.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class w2{constructor(e,t){this.databaseId=e,this.dt=t}}function rb(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KN(n,e){return n.dt?e.toBase64():e.toUint8Array()}function E2(n,e){return rb(n,e.toTimestamp())}function ui(n){return At(!!n),St.fromTimestamp(function(e){const t=kd(e);return new qn(t.seconds,t.nanos)}(n))}function iM(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZN(n){const e=en.fromString(n);return At(iF(e)),e}function ib(n,e){return iM(n.databaseId,e.path)}function iu(n,e){const t=ZN(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(QN(t))}function sM(n,e){return iM(n.databaseId,e)}function YN(n){const e=ZN(n);return 4===e.length?en.emptyPath():QN(e)}function sb(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QN(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XN(n,e,t){return{name:ib(n,e),fields:t.value.mapValue.fields}}function JN(n,e,t){const r=iu(n,e.name),i=ui(e.updateTime),a=new xi({mapValue:{fields:e.fields}}),c=Nn.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function ob(n,e){let t;if(e instanceof fm)t={update:XN(n,e.key,e.value)};else if(e instanceof pm)t={delete:ib(n,e.key)};else if(e instanceof ac)t={update:XN(n,e.key,e.data),updateMask:O2(e.fieldMask)};else{if(!(e instanceof rM))return nt();t={verify:ib(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof dm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hm)return{fieldPath:a.field.canonicalString(),increment:c._t};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:E2(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:nt()),t;var i}function oM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Jn.updateTime(ui(i.updateTime)):void 0!==i.exists?Jn.exists(i.exists):Jn.none():Jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(At("REQUEST_TIME"===c.setToServerValue),f=new dm):"appendMissingElements"in c?f=new kf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Pf(c.removeAllFromArray.values||[]):"increment"in c?f=new hm(a,c.increment):nt();const _=br.fromServerFormat(c.fieldPath);return new Qv(_,f)}(n,i)):[];var i;if(e.update){const i=iu(n,e.update.name),a=new xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Po((e.updateMask.fieldPaths||[]).map(w=>br.fromServerFormat(w)));return new ac(i,a,c,t,r)}return new fm(i,a,t,r)}if(e.delete){const i=iu(n,e.delete);return new pm(i,t)}if(e.verify){const i=iu(n,e.verify);return new rM(i,t)}return nt()}function eF(n,e){return{documents:[sM(n,e.path)]}}function tF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(M){if("=="===M.op){if(uN(M.value))return{unaryFilter:{field:gm(M.field),op:"IS_NAN"}};if(lN(M.value))return{unaryFilter:{field:gm(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(uN(M.value))return{unaryFilter:{field:gm(M.field),op:"IS_NOT_NAN"}};if(lN(M.value))return{unaryFilter:{field:gm(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gm(M.field),op:A2(M.op),value:M.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:gm((I=w).field),direction:T2(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.dt||Gv(w)?w:{value:w});var w,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function nF(n){let e=YN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=rF(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new lm(mm((M=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,Gv(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new Fd((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new Fd(I.values||[],!I.before)}(t.endAt)),bN(e,i,c,a,f,"F",_,w)}function rF(n){return n?void 0!==n.unaryFilter?[x2(n)]:void 0!==n.fieldFilter?[M2(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>rF(e)).reduce((e,t)=>e.concat(t)):nt():[]}function T2(n){return v2[n]}function A2(n){return b2[n]}function gm(n){return{fieldPath:n.canonicalString()}}function mm(n){return br.fromServerFormat(n.fieldPath)}function M2(n){return Oi.create(mm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function x2(n){switch(n.unaryFilter.op){case"IS_NAN":const e=mm(n.unaryFilter.field);return Oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=mm(n.unaryFilter.field);return Oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mm(n.unaryFilter.field);return Oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mm(n.unaryFilter.field);return Oi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function O2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Es(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sF(e)),e=R2(n.get(t),e);return sF(e)}function R2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function sF(n){return n+"\x01\x01"}function su(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&nt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:nt()}a=c+2}return new en(r)}const oF=["userId","batchId"];function IC(n,e){return[n,Es(e)]}function aF(n,e,t){return[n,Es(e),t]}const k2={},P2=["prefixPath","collectionGroup","readTime","documentId"],N2=["prefixPath","collectionGroup","documentId"],F2=["collectionGroup","readTime","prefixPath","documentId"],L2=["canonicalId","targetId"],V2=["targetId","path"],B2=["path","targetId"],U2=["collectionId","parent"],j2=["indexId","uid"],H2=["uid","sequenceNumber"],$2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G2=["indexId","uid","orderedDocumentKey"],z2=["userId","collectionPath","documentId"],q2=["userId","collectionPath","largestBatchId"],W2=["userId","collectionGroup","largestBatchId"],lF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],K2=[...lF,"documentOverlays"],uF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cF=uF,Z2=[...cF,"indexConfiguration","indexState","indexEntries"];class aM extends eN{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function ci(n,e){const t=Ze(n);return dl.N(t.ee,e)}class lM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&d2(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HN();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const _=kN(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&sm(this.mutations,e.mutations,(t,r)=>PN(t,r))&&sm(this.baseMutations,e.baseMutations,(t,r)=>PN(t,r))}}class uM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=g2;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new uM(e,t,r,i)}}class cM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vd{constructor(e,t,r,i,a=St.min(),c=St.min(),f=Hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Vd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dF{constructor(e){this.ne=e}}function hF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:SC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ib(i=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:rb(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Nf(e.version)};else{if(!e.isUnknownDocument())return nt();r.unknownDocument={path:t.path.toArray(),version:Nf(e.version)}}var i,a;return r}function SC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ff(n){const e=new qn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Lf(n,e){const t=(e.baseMutations||[]).map(a=>oM(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>oM(n.ne,a)),i=qn.fromMillis(e.localWriteTimeMs);return new lM(e.batchId,i,t,r)}function ab(n){const e=Ff(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ff(n.lastLimboFreeSnapshotVersion):St.min();let r;var i;return void 0!==n.query.documents?(At(1===(i=n.query).documents.length),r=fa(um(YN(i.documents[0])))):r=fa(nF(n.query)),new Vd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Hr.fromBase64String(n.resumeToken))}function fF(n,e){const t=Nf(e.snapshotVersion),r=Nf(e.lastLimboFreeSnapshotVersion);let i;i=yC(e.target)?eF(n.ne,e.target):tF(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dM(n){const e=nF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wN(e,e.limit,"L"):e}function hM(n,e){return new cM(e.largestBatchId,oM(n.ne,e.overlayMutation))}function pF(n,e){const t=e.path.lastSegment();return[n,Es(e.path.popLast()),t]}function gF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Nf(r.readTime),documentKey:Es(r.documentKey.path),largestBatchId:r.largestBatchId}}class Q2{getBundleMetadata(e,t){return mF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ff(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return mF(e).put({bundleId:(r=t).id,createTime:Nf(ui(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return _F(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:dM(i.bundledQuery),readTime:Ff(i.readTime)};var i})}saveNamedQuery(e,t){return _F(e).put({name:(r=t).name,readTime:Nf(ui(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mF(n){return ci(n,"bundles")}function _F(n){return ci(n,"namedQueries")}class TC{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new TC(e,t.uid||"")}getOverlay(e,t){return lb(e).get(pF(this.userId,t)).next(r=>r?hM(this.wt,r):null)}getOverlays(e,t){const r=ru();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new cM(t,c);i.push(this.ie(e,f))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Es(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(lb(e).W("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,r){const i=ru(),a=Es(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lb(e).K("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=hM(this.wt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=ru();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lb(e).J({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const M=hM(this.wt,w);a.size()<i||M.largestBatchId===c?(a.set(M.getKey(),M),c=M.largestBatchId):I.done()}).next(()=>a)}ie(e,t){return lb(e).put(function(r,i,a){const[c,f,_]=pF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ob(r.ne,a.mutation)}}(this.wt,this.userId,t))}}function lb(n){return ci(n,"documentOverlays")}class Vf{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(lr(e.integerValue));else if("doubleValue"in e){const r=lr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),zv(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Mf(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?cN(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):nt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),qe.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function X2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function yF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=X2(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Vf.ye=new Vf;class J2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=yF(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=yF(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ej{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class tj{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class ub{constructor(){this.Me=new J2,this.Fe=new ej(this.Me),this.$e=new tj(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Bf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Bf(this.indexId,this.documentKey,this.arrayValue,r)}}function Uf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vF(n.arrayValue,e.arrayValue),0!==t?t:(t=vF(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function vF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class nj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=zA(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Sf(e);let i=0,a=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ue.length||!this.We(this.Ue[a++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class rj{constructor(){this.ze=new fM}addToCollectionParentIndex(e,t){return this.ze.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ko.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class fM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Cn(en.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(en.comparator)).toArray()}}const AC=new Uint8Array(0);class ij{constructor(e,t){this.user=e,this.databaseId=t,this.He=new fM,this.Je=new Ld(r=>Rf(r),(r,i)=>Zv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:r,parent:Es(i)};return bF(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[YP(t),""],!1,!0);return bF(e).K(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(su(c.parent))}return r})}addFieldIndex(e,t){const r=MC(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=db(e);return a.next(f=>{c.put(gF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=MC(e),i=db(e),a=cb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cb(e);let i=!0;const a=new Map;return ae.forEach(this.Ye(t),c=>this.Xe(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=Ut();const f=[];return ae.forEach(a,(_,w)=>{var I;Pe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${Rf(t)}`);const M=function(st,it){const Ot=zA(it);if(void 0===Ot)return null;for(const Lt of vC(st,Ot.fieldPath))switch(Lt.op){case"array-contains-any":return Lt.value.arrayValue.values||[];case"array-contains":return[Lt.value]}return null}(w,_),L=function(st,it){const Ot=new Map;for(const Lt of Sf(it))for(const cn of vC(st,Lt.fieldPath))switch(cn.op){case"==":case"in":Ot.set(Lt.fieldPath.canonicalString(),cn.value);break;case"not-in":case"!=":return Ot.set(Lt.fieldPath.canonicalString(),cn.value),Array.from(Ot.values())}return null}(w,_),B=function(st,it){const Ot=[];let Lt=!0;for(const cn of Sf(it)){const Ss=0===cn.kind?gN(st,cn.fieldPath,st.startAt):mN(st,cn.fieldPath,st.startAt);Ot.push(Ss.value),Lt&&(Lt=Ss.inclusive)}return new Fd(Ot,Lt)}(w,_),Z=function(st,it){const Ot=[];let Lt=!0;for(const cn of Sf(it)){const Ss=0===cn.kind?mN(st,cn.fieldPath,st.endAt):gN(st,cn.fieldPath,st.endAt);Ot.push(Ss.value),Lt&&(Lt=Ss.inclusive)}return new Fd(Ot,Lt)}(w,_),oe=this.Ze(_,w,B),Me=this.Ze(_,w,Z),et=this.tn(_,w,L),rt=this.en(_.indexId,M,oe,B.inclusive,Me,Z.inclusive,et);return ae.forEach(rt,st=>r.j(st,t.limit).next(it=>{it.forEach(Ot=>{const Lt=qe.fromSegments(Ot.documentKey);c.has(Lt)||(c=c.add(Lt),f.push(Lt))})}))}).next(()=>f)}return ae.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,a,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const L=t?this.nn(t[M/w]):AC,B=this.sn(e,L,r[M%w],i),Z=this.rn(e,L,a[M%w],c),oe=f.map(Me=>this.sn(e,L,Me,!0));I.push(...this.createRange(B,Z,oe))}return I}sn(e,t,r,i){const a=new Bf(e,qe.empty(),t,r);return i?a:a.Le()}rn(e,t,r,i){const a=new Bf(e,qe.empty(),t,r);return i?a.Le():a}Xe(e,t){const r=new nj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const f of a)r.Ge(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return ae.forEach(this.Ye(t),i=>this.Xe(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let f=new Cn(br.comparator),_=!1;for(const w of c.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of c.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new ub;for(const i of Sf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Be(i.kind);Vf.ye.re(a,c)}return r.Oe()}nn(e){const t=new ub;return Vf.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new ub;return Vf.ye.re(Of(this.databaseId,t),r.Be(function(i){const a=Sf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new ub);let a=0;for(const c of Sf(e)){const f=r[a++];for(const _ of i)if(this.cn(t,c.fieldPath)&&Wv(f))i=this.an(i,c,f);else{const w=_.Be(c.kind);Vf.ye.re(f,w)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new ub;_.seed(f.Oe()),Vf.ye.re(c,_.Be(t.kind)),a.push(_)}return a}cn(e,t){return!!e.filters.find(r=>r instanceof Oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=MC(e),i=db(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(a=>{const c=[];return ae.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(w,I){const M=I?new jv(I.sequenceNumber,new ko(Ff(I.readTime),new qe(su(I.documentKey)),I.largestBatchId)):jv.empty(),L=w.fields.map(([B,Z])=>new fC(br.fromServerFormat(B),Z));return new hC(w.indexId,w.collectionGroup,L,M)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=MC(e),a=db(e);return this.ln(e).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,_=>a.put(gF(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ae.forEach(f,_=>this.fn(e,i,_).next(w=>{const I=this.dn(a,_);return w.isEqual(I)?ae.resolve():this._n(e,a,_,w,I)}))))})}wn(e,t,r,i){return cb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return cb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=cb(e);let a=new Cn(Uf);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,f)=>{a=a.add(new Bf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(e,t){let r=new Cn(Uf);const i=this.on(t,e);if(null==i)return r;const a=zA(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Wv(c))for(const f of c.arrayValue.values||[])r=r.add(new Bf(t.indexId,e.key,this.nn(f),i))}else r=r.add(new Bf(t.indexId,e.key,AC,i));return r}_n(e,t,r,i,a){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,I,M){const L=f.getIterator(),B=_.getIterator();let Z=om(L),oe=om(B);for(;Z||oe;){let Me=!1,et=!1;if(Z&&oe){const rt=w(Z,oe);rt<0?et=!0:rt>0&&(Me=!0)}else null!=Z?et=!0:Me=!0;Me?(I(oe),oe=om(B)):et?(M(Z),Z=om(L)):(Z=om(L),oe=om(B))}}(i,a,Uf,f=>{c.push(this.wn(e,t,r,f))},f=>{c.push(this.mn(e,t,r,f))}),ae.waitFor(c)}ln(e){let t=1;return db(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Uf(c,f)).filter((c,f,_)=>!f||0!==Uf(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=Uf(c,e),_=Uf(c,t);if(0===f)i[0]=e.Le();else if(f>0&&_<0)i.push(c),i.push(c.Le());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,AC,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,AC,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wF)}getMinOffset(e,t){return ae.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||nt())).next(wF)}}function bF(n){return ci(n,"collectionParents")}function cb(n){return ci(n,"indexEntries")}function MC(n){return ci(n,"indexConfiguration")}function db(n){return ci(n,"indexState")}function wF(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;qA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ko(e.readTime,e.documentKey,t)}const EF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class eo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new eo(e,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.J({range:c},(I,M,L)=>(f++,L.delete()));a.push(_.next(()=>{At(1===f)}));const w=[];for(const I of t.mutations){const M=aF(e,I.key.path,t.batchId);a.push(i.delete(M)),w.push(I.key)}return ae.waitFor(a).next(()=>w)}function xC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}eo.DEFAULT_COLLECTION_PERCENTILE=10,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eo.DEFAULT=new eo(41943040,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eo.DISABLED=new eo(-1,0,0);class OC{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){At(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new OC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).J({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=_m(e),c=Bd(e);return c.add({}).next(f=>{At("number"==typeof f);const _=new lM(f,t,r,i),w=function(L,B,Z){const oe=Z.baseMutations.map(et=>ob(L.ne,et)),Me=Z.mutations.map(et=>ob(L.ne,et));return{userId:B,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:oe,mutations:Me}}(this.wt,this.userId,_),I=[];let M=new Cn((L,B)=>Ft(L.canonicalString(),B.canonicalString()));for(const L of i){const B=aF(this.userId,L.key.path,f);M=M.add(L.key.path.popLast()),I.push(c.put(w)),I.push(a.put(B,k2))}return M.forEach(L=>{I.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.gn[f]=_.keys()}),ae.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Bd(e).get(t).next(r=>r?(At(r.userId===this.userId),Lf(this.wt,r)):null)}yn(e,t){return this.gn[t]?ae.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Bd(e).J({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(At(f.batchId>=r),a=Lf(this.wt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bd(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).K("userMutationsIndex",t).next(r=>r.map(i=>Lf(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=IC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _m(e).J({range:i},(c,f,_)=>{const[w,I,M]=c,L=su(I);if(w===this.userId&&t.path.isEqual(L))return Bd(e).get(M).next(B=>{if(!B)throw nt();At(B.userId===this.userId),a.push(Lf(this.wt,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ft);const i=[];return t.forEach(a=>{const c=IC(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=_m(e).J({range:f},(w,I,M)=>{const[L,B,Z]=w,oe=su(B);L===this.userId&&a.path.isEqual(oe)?r=r.add(Z):M.done()});i.push(_)}),ae.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=IC(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new Cn(Ft);return _m(e).J({range:c},(_,w,I)=>{const[M,L,B]=_,Z=su(L);M===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(f=f.add(B)):I.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Bd(e).get(a).next(c=>{if(null===c)throw nt();At(c.userId===this.userId),r.push(Lf(this.wt,c))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return CF(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return _m(e).J({range:r},(a,c,f)=>{if(a[0]===this.userId){const _=su(a[1]);i.push(_)}else f.done()}).next(()=>{At(0===i.length)})})}containsKey(e,t){return DF(e,this.userId,t)}Tn(e){return IF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DF(n,e,t){const r=IC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return _m(n).J({range:a,H:!0},(f,_,w)=>{const[I,M,L]=f;I===e&&M===i&&(c=!0),w.done()}).next(()=>c)}function Bd(n){return ci(n,"mutations")}function _m(n){return ci(n,"documentMutations")}function IF(n){return ci(n,"mutationQueues")}class jf{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new jf(0)}static Rn(){return new jf(-1)}}class sj{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new jf(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>St.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ym(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return ym(e).J((c,f)=>{const _=ab(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,t){return ym(e).J((r,i)=>{const a=ab(i);t(a)})}bn(e){return SF(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}Pn(e,t){return SF(e).put("targetGlobalKey",t)}vn(e,t){return ym(e).put(fF(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Rf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return ym(e).J({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const w=ab(f);Zv(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ud(e);return t.forEach(c=>{const f=Es(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ud(e);return ae.forEach(t,a=>{const c=Es(a.path);return ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ud(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ud(e);let a=Ut();return i.J({range:r,H:!0},(c,f,_)=>{const w=su(c[1]),I=new qe(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Es(t.path),i=IDBKeyRange.bound([r],[YP(r)],!1,!0);let a=0;return Ud(e).J({index:"documentTargetsIndex",H:!0,range:i},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}te(e,t){return ym(e).get(t).next(r=>r?ab(r):null)}}function ym(n){return ci(n,"targets")}function SF(n){return ci(n,"targetGlobal")}function Ud(n){return ci(n,"targetDocuments")}function TF([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class oj{constructor(e){this.Sn=e,this.buffer=new Cn(TF),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();TF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Rd(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Od(r)}yield t.kn(3e5)}))}}class lj{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Xs.ot);const r=new oj(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(EF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EF):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,a,c,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),$A()<=Td.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class uj{constructor(e,t){this.db=e,this.garbageCollector=new lj(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return RC(e,r)}removeReference(e,t,r){return RC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return RC(e,t)}Un(e,t){return function(r,i){let a=!1;return IF(r).Y(c=>DF(r,c,i).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ln(e,(c,f)=>{if(f<=t){const _=this.Un(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,St.min()),Ud(e).delete([0,Es(c.path)])))});i.push(_)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return RC(e,t)}Ln(e,t){const r=Ud(e);let i,a=Xs.ot;return r.J({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==Xs.ot&&t(new qe(su(i)),a),a=w,i=_):a=Xs.ot}).next(()=>{a!==Xs.ot&&t(new qe(su(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function RC(n,e){return Ud(n).put((r=n.currentSequenceNumber,{targetId:0,path:Es(e.path),sequenceNumber:r}));var r}class AF{constructor(){this.changes=new Ld(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cj{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Hf(e).put(r)}removeEntry(e,t,r){return Hf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],SC(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return Hf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r=this.Kn(t,a)}).next(()=>r)}Gn(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return Hf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r={document:this.Kn(t,a),size:xC(a)}}).next(()=>r)}getEntries(e,t){let r=Js();return this.Qn(e,t,(i,a)=>{const c=this.Kn(i,a);r=r.insert(i,c)}).next(()=>r)}jn(e,t){let r=Js(),i=new ar(qe.comparator);return this.Qn(e,t,(a,c)=>{const f=this.Kn(a,c);r=r.insert(a,f),i=i.insert(a,xC(c))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return ae.resolve();let i=new Cn(RF);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(hb(i.first()),hb(i.last())),c=i.getIterator();let f=c.getNext();return Hf(e).J({index:"documentKeyIndex",range:a},(_,w,I)=>{const M=qe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&RF(f,M)<0;)r(f,null),f=c.getNext();f&&f.isEqual(M)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?I.q(hb(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),SC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hf(e).K(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=Js();for(const _ of c){const w=this.Kn(qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Js();const c=OF(t,r),f=OF(t,ko.max());return Hf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,I)=>{const M=this.Kn(qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new dj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xF(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}qn(e,t){return xF(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function Y2(n,e){let t;if(e.document)t=JN(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=Ff(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nt();{const r=qe.fromSegments(e.unknownDocument.path),i=Ff(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new qn(r[0],r[1]);return St.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return Nn.newInvalidDocument(e)}}function MF(n){return new cj(n)}class dj extends AF{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Ld(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Cn((a,c)=>Ft(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=hF(this.zn.wt,c);i=i.add(a.path.popLast()),r+=xC(_)-f.size,t.push(this.zn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=hF(this.zn.wt,c.convertToNoDocument(St.min()));t.push(this.zn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((a,c)=>{this.Hn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function xF(n){return ci(n,"remoteDocumentGlobal")}function Hf(n){return ci(n,"remoteDocumentsV14")}function hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OF(n,e){const t=e.documentKey.path.toArray();return[n,SC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ft(t[a],r[a]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class hj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Xv(r.mutation,i,Po.empty(),qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ut()){const i=ru();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=Jv();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ru();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=Js();const c=eb(),f=eb();return t.forEach((_,w)=>{const I=r.get(w.key);i.has(w.key)&&(void 0===I||I.mutation instanceof ac)?a=a.insert(w.key,w):void 0!==I&&(c.set(w.key,I.mutation.getFieldMask()),Xv(I.mutation,w,I.mutation.getFieldMask(),qn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>c.set(w,I)),t.forEach((w,I)=>{var M;return f.set(w,new hj(I,null!==(M=c.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=eb();let i=new ar((c,f)=>c-f),a=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=r.get(_)||Po.empty();I=f.applyToLocalView(w,I),r.set(_,I);const M=(i.get(f.batchId)||Ut()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,M=HN();I.forEach(L=>{if(!a.has(L)){const B=kN(t.get(L),r.get(L));null!==B&&M.set(L,B),a=a.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,M))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(ru());let f=-1,_=a;return c.next(w=>ae.forEach(w,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?ae.resolve():this.getBaseDocument(e,I,M).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Ut())).next(I=>({batchId:f,changes:jN(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=Jv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Jv();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,f=>{const _=(w=t,I=f.child(i),new oc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,Nn.newInvalidDocument(w)))});let c=Jv();return i.forEach((f,_)=>{const w=a.get(f);void 0!==w&&Xv(w.mutation,_,Po.empty(),qn.now()),nM(t,_)&&(c=c.insert(f,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(Nn.newInvalidDocument(t))}}class fj{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ae.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:ui(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:dM(r.bundledQuery),readTime:ui(r.readTime)}),ae.resolve();var r}}class pj{constructor(){this.overlays=new ar(qe.comparator),this.Xn=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ru();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ie(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=ru(),a=t.length+1,c=new qe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ar((w,I)=>w-I);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=ru(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=ru(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return ae.resolve(f)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new cM(t,r));let a=this.Xn.get(t);void 0===a&&(a=Ut(),this.Xn.set(t,a)),this.Xn.set(t,a.add(r.key))}}class pM{constructor(){this.Zn=new Cn(di.ts),this.es=new Cn(di.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new di(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new di(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new qe(new en([])),r=new di(t,e),i=new di(t,e+1),a=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),a.push(c.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new qe(new en([])),r=new di(t,e),i=new di(t,e+1);let a=Ut();return this.es.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new di(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return qe.comparator(e.key,t.key)||Ft(e.ls,t.ls)}static ns(e,t){return Ft(e.ls,t.ls)||qe.comparator(e.key,t.key)}}class gj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Cn(di.ts)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.fs;this.fs++;const c=new lM(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.ds=this.ds.add(new di(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],c=>{const f=this._s(c.ls);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ft);return t.forEach(i=>{const a=new di(i,0),c=new di(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,c],f=>{r=r.add(f.ls)})}),ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const c=new di(new qe(a),0);let f=new Cn(Ft);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.ls)),!0)},c),ae.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ae.forEach(t.mutations,i=>{const a=new di(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new di(t,0),i=this.ds.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mj{constructor(e){this.ps=e,this.docs=new ar(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=Js();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))}),ae.resolve(r)}getAllFromCollection(e,t,r){let i=Js();const a=new qe(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||qA(XP(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,t,r,i){nt()}Is(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _j(this)}getSize(e){return ae.resolve(this.size)}}class _j extends AF{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class yj{constructor(e){this.persistence=e,this.Ts=new Ld(t=>Rf(t),Zv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new pM,this.targetCount=0,this.Rs=jf.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ae.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new jf(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.vn(t),ae.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Ts.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.As.containsKey(t))}}class PF{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Xs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new yj(this),this.indexManager=new rj,this.remoteDocumentCache=new mj(r=>this.referenceDelegate.Ss(r)),this.wt=new dF(t),this.Ds=new fj(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new gj(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new vj(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(a=>this.referenceDelegate.xs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ns(e,t){return ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class vj extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class kC{constructor(e){this.persistence=e,this.ks=new pM,this.Os=null}static Ms(e){return new kC(e)}get Fs(){if(this.Os)return this.Os;throw nt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ae.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Fs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Fs,r=>{const i=qe.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i,St.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ae.or([()=>ae.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class bj{constructor(e){this.wt=e}O(e,t,r,i){const a=new pC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oF,{unique:!0}),f.createObjectStore("documentMutations"),NF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),NF(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").K().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oF,{unique:!0});const I=_.store("mutations"),M=w.map(L=>I.put(L));return ae.waitFor(M)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),r<7&&i>=7&&(c=c.next(()=>this.Us(a))),r<8&&i>=8&&(c=c.next(()=>this.qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:z2});_.createIndex("collectionPathOverlayIndex",q2,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",W2,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:P2});_.createIndex("documentKeyIndex",N2),_.createIndex("collectionGroupIndex",F2)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:j2}).createIndex("sequenceNumberIndex",H2,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:$2}).createIndex("documentKeyIndex",G2,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=xC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>ae.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(f=>ae.forEach(f,_=>{At(_.userId===a.userId);const w=Lf(this.wt,_);return CF(e,a.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((c,f)=>{const _=new en(c),w=[0,Es(_)];a.push(t.get(w).next(I=>I?ae.resolve():t.put({targetId:0,path:Es(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:U2});const r=t.store("collectionParents"),i=new fM,a=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:Es(_)})}};return t.store("remoteDocuments").J({H:!0},(c,f)=>{const _=new en(c);return a(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,f,_],w)=>{const I=su(f);return a(I.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const a=ab(i),c=fF(this.wt,a);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new qe(en.fromString(w.document.name).popFirst(5)):w.noDocument?qe.fromSegments(w.noDocument.path):w.unknownDocument?qe.fromSegments(w.unknownDocument.path):nt()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(I))}).next(()=>ae.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=MF(this.wt),a=new PF(kC.Ms,this.wt.ne);return r.K().next(c=>{const f=new Map;return c.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Ut();Lf(this.wt,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),ae.forEach(f,(_,w)=>{const I=new ai(w),M=TC.se(this.wt,I),L=a.getIndexManager(I),B=OC.se(I,this.wt,L,a.referenceDelegate);return new kF(i,B,M,L).recalculateAndSaveOverlaysForDocumentKeys(new aM(t,Xs.ot),_).next()})})}}function NF(n){n.createObjectStore("targetDocuments",{keyPath:V2}).createIndex("documentTargetsIndex",B2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L2,{unique:!0}),n.createObjectStore("targetGlobal")}const gM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mM{constructor(e,t,r,i,a,c,f,_,w,I,M=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=a,this.window=c,this.document=f,this.Ws=w,this.zs=I,this.Hs=M,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=L=>Promise.resolve(),!mM.V())throw new Oe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uj(this,i),this.ei=t+"main",this.wt=new dF(_),this.ni=new dl(this.ei,this.Hs,new bj(this.wt)),this.Vs=new sj(this.referenceDelegate,this.wt),this.remoteDocumentCache=MF(this.wt),this.Ds=new Q2,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,gM);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Xs(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>PC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Rd(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return fb(e).get("owner").next(t=>ae.resolve(this.di(t)))}_i(e){return PC(e).delete(this.clientId)}wi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ci(r,"clientMetadata");return i.K().next(a=>{const c=e.gi(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return ae.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ae.resolve(!0):fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,gM);return!1}}return!(!this.networkEnabled||!this.inForeground)||PC(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new aM(t,Xs.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>PC(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return OC.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ij(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return TC.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Hs)?Z2:14===c?cF:13===c?uF:12===c?K2:11===c?lF:void nt();var c;let f;return this.ni.runTransaction(e,i,a,_=>(f=new aM(_,this.Ps?this.Ps.next():Xs.ot),"readwrite-primary"===t?this.ai(f).next(w=>!!w||this.hi(f)).next(w=>{if(!w)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Oe(fe.FAILED_PRECONDITION,JP);return r(f)}).next(w=>this.fi(f).next(()=>w)):this.bi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}bi(e){return fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(fe.FAILED_PRECONDITION,gM)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fb(e).put("owner",t)}static V(){return dl.V()}li(e){const t=fb(e);return t.get("owner").next(r=>this.di(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fb(n){return ci(n,"owner")}function PC(n){return ci(n,"clientMetadata")}function _M(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class yM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Ut(),i=Ut();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yM(e,t.fromCache,r,i)}}class FF{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(a=>a||this.xi(e,t,i,r)).next(a=>a||this.Ni(e,t))}Ci(e,t){return ae.resolve(null)}xi(e,t,r,i){return function s2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(St.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(a=>{const c=this.ki(t,a);return this.Oi(t,c,r,i)?this.Ni(e,t):($A()<=Td.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tM(t)),this.Mi(e,c,t,QP(i,-1)))})}ki(e,t){let r=new Cn(DN(e));return t.forEach((i,a)=>{nM(e,a)&&(r=r.add(a))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ni(e,t){return $A()<=Td.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",tM(t)),this.Di.getDocumentsMatchingQuery(e,t,ko.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class wj{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new ar(Ft),this.Bi=new Ld(a=>Rf(a),Zv),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kF(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function LF(n,e,t,r){return new wj(n,e,t,r)}function VF(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,we.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let _=Ut();for(const w of i){c.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Ki:w,removedBatchIds:c,addedBatchIds:f}))})})}),vM.apply(this,arguments)}function Ej(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const I=_.batch,M=I.keys();let L=ae.resolve();return M.forEach(B=>{L=L.next(()=>w.getEntry(f,B)).next(Z=>{const oe=_.docVersions.get(B);At(null!==oe),Z.version.compareTo(oe)<0&&(I.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),w.addEntry(Z)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ut();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function BF(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function Cj(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];e.targetChanges.forEach((I,M)=>{const L=i.get(M);if(!L)return;f.push(t.Vs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Vs.addMatchingKeys(a,I.addedDocuments,M)));let B=L.withSequenceNumber(a.currentSequenceNumber);var Z,oe,Me;e.targetMismatches.has(M)?B=B.withResumeToken(Hr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,r)),i=i.insert(M,B),oe=B,Me=I,(0===(Z=L).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,B))});let _=Js(),w=Ut();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(UF(a,c,e.documentUpdates).next(I=>{_=I.Gi,w=I.Qi})),!r.isEqual(St.min())){const I=t.Vs.getLastRemoteSnapshotVersion(a).next(M=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return ae.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.$i=i,a))}function UF(n,e,t){let r=Ut(),i=Ut();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Js();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(St.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Gi:c,Qi:i}})}function Dj(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vm(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Vs.allocateTargetId(r).next(c=>(i=new Vd(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function bm(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=(0,we.Z)(function*(n,e,t){const r=Ze(n),i=r.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Rd(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),bM.apply(this,arguments)}function NC(n,e,t){const r=Ze(n);let i=St.min(),a=Ut();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const I=Ze(f),M=I.Bi.get(w);return void 0!==M?ae.resolve(I.$i.get(M)):I.Vs.getTargetData(_,w)}(r,c,fa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?i:St.min(),t?a:Ut())).next(f=>($F(r,CN(e),f),{documents:f,ji:a})))}function jF(n,e){const t=Ze(n),r=Ze(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.te(a,e).next(c=>c?c.target:null))}function HF(n,e){const t=Ze(n),r=t.Li.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,QP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($F(t,e,i),i))}function $F(n,e,t){let r=St.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Li.set(e,r)}function wM(){return wM=(0,we.Z)(function*(n,e,t,r){const i=Ze(n);let a=Ut(),c=Js();for(const w of t){const I=e.Wi(w.metadata.name);w.document&&(a=a.add(I));const M=e.zi(w);M.setReadTime(e.Hi(w.metadata.readTime)),c=c.insert(I,M)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),_=yield vm(i,(w=r,fa(um(en.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>UF(w,f,c).next(I=>(f.apply(w),I)).next(I=>i.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,I.Gi,I.Qi)).next(()=>I.Gi)))}),wM.apply(this,arguments)}function Sj(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,we.Z)(function*(n,e,t=Ut()){const r=yield vm(n,fa(dM(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=ui(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(a,e);const f=r.withResumeToken(Hr.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(a,f).next(()=>i.Vs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Vs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(a,e))})}),EM.apply(this,arguments)}function GF(n,e){return`firestore_clients_${n}_${e}`}function zF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function CM(n,e){return`firestore_targets_${n}_${e}`}class FC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Oe(i.error.code,i.error.message))),c?new FC(e,t,i.state,a):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new pb(e,r.state,i):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=CC();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=oN(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new LC(e,a):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DM{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DM(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class IM{constructor(){this.activeTargetIds=CC()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SM{constructor(e,t,r,i,a){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ar(Ft),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=GF(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new IM),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const a=e.getItem(GF(e.persistenceKey,i));if(a){const c=LC.Ji(i,a);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(CM(this.persistenceKey,e));if(r){const i=pb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(CM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let c=Xs.ot;if(null!=a)try{const f=JSON.parse(a);At("number"==typeof f),c=f}catch(f){xr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Xs.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new FC(this.currentUser,e,t,r),a=zF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=zF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=CM(this.persistenceKey,e),a=new pb(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return LC.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return FC.Ji(new ai(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return pb.Ji(i,t)}wr(e){return DM.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),c=[],f=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Mr(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=CC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class qF{constructor(){this.Fr=new IM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new IM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tj{Br(e){}shutdown(){}}class WF{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Aj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mj{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class xj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,a),this.co(e,c,f,r).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw Bv("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}ao(e,t,r,i,a,c){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+im,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${Aj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const f=new AU;f.listenOnce(IU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case HA.NO_ERROR:const w=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(w)),a(w);break;case HA.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case HA.HTTP_ERROR:const I=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const L=function(B){const Z=B.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Z)>=0?Z:fe.UNKNOWN}(M.status);c(new Oe(L,M.message))}else c(new Oe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=CU(),c=DU(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new TU({})),this.uo(f.initMessageHeaders,t,r),(0,Kt.uI)()||(0,Kt.b$)()||(0,Kt.d)()||(0,Kt.w1)()||(0,Kt.Mn)()||(0,Kt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Pe("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,M=!1;const L=new Mj({jr:Z=>{M?Pe("Connection","Not sending because WebChannel is closed:",Z):(I||(Pe("Connection","Opening WebChannel transport."),w.open(),I=!0),Pe("Connection","WebChannel sending:",Z),w.send(Z))},Wr:()=>w.close()}),B=(Z,oe,Me)=>{Z.listen(oe,et=>{try{Me(et)}catch(rt){setTimeout(()=>{throw rt},0)}})};return B(w,dC.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),B(w,dC.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),L.eo())}),B(w,dC.EventType.ERROR,Z=>{M||(M=!0,Bv("Connection","WebChannel transport errored:",Z),L.eo(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),B(w,dC.EventType.MESSAGE,Z=>{var oe;if(!M){const Me=Z.data[0];At(!!Me);const et=Me,rt=et.error||(null===(oe=et[0])||void 0===oe?void 0:oe.error);if(rt){Pe("Connection","WebChannel received error:",rt);const st=rt.status;let it=function(Lt){const cn=Or[Lt];if(void 0!==cn)return BN(cn)}(st),Ot=rt.message;void 0===it&&(it=fe.INTERNAL,Ot="Unknown error status: "+st+" with message "+rt.message),M=!0,L.eo(new Oe(it,Ot)),w.close()}else Pe("Connection","WebChannel received:",Me),L.no(Me)}}),B(c,SU.STAT_EVENT,Z=>{Z.stat===zP.PROXY?Pe("Connection","Detected buffering proxy"):Z.stat===zP.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Zr()},0),L}}function KF(){return"undefined"!=typeof window?window:null}function VC(){return"undefined"!=typeof document?document:null}function gb(n){return new w2(n,!0)}class TM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ZF{constructor(e,t,r,i,a,c,f,_){this.js=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new TM(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oj extends ZF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function D2(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:nt(),i=e.targetChange.targetIds||[],a=function(_,w){return _.dt?(At(void 0===w||"string"==typeof w),Hr.fromBase64String(w||"")):(At(void 0===w||w instanceof Uint8Array),Hr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?fe.UNKNOWN:BN(_.code);return new Oe(w,_.message||"")}(c);t=new GN(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=iu(n,r.document.name),a=ui(r.document.updateTime),c=new xi({mapValue:{fields:r.document.fields}}),f=Nn.newFoundDocument(i,a,c);t=new DC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=iu(n,r.document),a=r.readTime?ui(r.readTime):St.min(),c=Nn.newNoDocument(i,a);t=new DC([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=iu(n,r.document);t=new DC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nt();{const r=e.filter,a=new f2(r.count||0);t=new $N(r.targetId,a)}}var _;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return St.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?ui(a.readTime):St.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=sb(this.wt),t.addTarget=function(i,a){let c;const f=a.target;return c=yC(f)?{documents:eF(i,f)}:{query:tF(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=KN(i,a.resumeToken):a.snapshotVersion.compareTo(St.min())>0&&(c.readTime=rb(i,a.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function S2(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=sb(this.wt),t.removeTarget=e,this.Mo(t)}}class Rj extends ZF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function I2(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let a=ui(r.updateTime?r.updateTime:i);return a.isEqual(St.min())&&(a=ui(i)),new c2(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.Jo(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=sb(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ob(this.wt,r))};this.Mo(t)}}class kj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(fe.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.bo.ao(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(fe.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class Pj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(xr(t),this.su=!1):Pe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Nj{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var _;jd(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const I=Ze(w);I.lu.add(4),yield wm(I),I._u.set("Unknown"),I.lu.delete(4),yield mb(I)}),function(w){return _.apply(this,arguments)})(c))}))}),this._u=new Pj(r,i)}}function mb(n){return AM.apply(this,arguments)}function AM(){return AM=(0,we.Z)(function*(n){if(jd(n))for(const e of n.fu)yield e(!0)}),AM.apply(this,arguments)}function wm(n){return MM.apply(this,arguments)}function MM(){return MM=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),MM.apply(this,arguments)}function BC(n,e){const t=Ze(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),RM(t)?OM(t):Cm(t).Co()&&xM(t,e))}function _b(n,e){const t=Ze(n),r=Cm(t);t.hu.delete(e),r.Co()&&YF(t,e),0===t.hu.size&&(r.Co()?r.ko():jd(t)&&t._u.set("Unknown"))}function xM(n,e){n.wu.Nt(e.targetId),Cm(n).Qo(e)}function YF(n,e){n.wu.Nt(e),Cm(n).jo(e)}function OM(n){n.wu=new y2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Cm(n).start(),n._u.iu()}function RM(n){return jd(n)&&!Cm(n).Do()&&n.hu.size>0}function jd(n){return 0===Ze(n).lu.size}function QF(n){n.wu=void 0}function Fj(n){return kM.apply(this,arguments)}function kM(){return kM=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{xM(n,e)})}),kM.apply(this,arguments)}function Lj(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,we.Z)(function*(n,e){QF(n),RM(n)?(n._u.uu(e),OM(n)):n._u.set("Unknown")}),PM.apply(this,arguments)}function Vj(n,e,t){return NM.apply(this,arguments)}function NM(){return NM=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof GN&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield UC(n,r)}else if(e instanceof DC?n.wu.Ut(e):e instanceof $N?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(St.min()))try{const r=yield BF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.wu.Yt(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.hu.get(_);w&&i.hu.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(Hr.EMPTY_BYTE_STRING,_.snapshotVersion)),YF(i,f);const w=new Vd(_.target,f,1,_.sequenceNumber);xM(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield UC(n,r)}var r}),NM.apply(this,arguments)}function UC(n,e,t){return FM.apply(this,arguments)}function FM(){return FM=(0,we.Z)(function*(n,e,t){if(!Rd(e))throw e;n.lu.add(1),yield wm(n),n._u.set("Offline"),t||(t=()=>BF(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield mb(n)}))}),FM.apply(this,arguments)}function XF(n,e){return e().catch(t=>UC(n,t,e))}function Em(n){return LM.apply(this,arguments)}function LM(){return LM=(0,we.Z)(function*(n){const e=Ze(n),t=Hd(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Bj(e);)try{const i=yield Dj(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,Uj(e,i)}catch(i){yield UC(e,i)}JF(e)&&e1(e)}),LM.apply(this,arguments)}function Bj(n){return jd(n)&&n.au.length<10}function Uj(n,e){n.au.push(e);const t=Hd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function JF(n){return jd(n)&&!Hd(n).Do()&&n.au.length>0}function e1(n){Hd(n).start()}function jj(n){return VM.apply(this,arguments)}function VM(){return VM=(0,we.Z)(function*(n){Hd(n).Xo()}),VM.apply(this,arguments)}function Hj(n){return BM.apply(this,arguments)}function BM(){return BM=(0,we.Z)(function*(n){const e=Hd(n);for(const t of n.au)e.Ho(t.mutations)}),BM.apply(this,arguments)}function $j(n,e,t){return UM.apply(this,arguments)}function UM(){return UM=(0,we.Z)(function*(n,e,t){const r=n.au.shift(),i=uM.from(r,e,t);yield XF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Em(n)}),UM.apply(this,arguments)}function Gj(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,we.Z)(function*(n,e){var t;e&&Hd(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(VN(a=i.code)&&a!==fe.ABORTED){const c=r.au.shift();Hd(r).No(),yield XF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Em(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),JF(n)&&e1(n)}),jM.apply(this,arguments)}function t1(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,we.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=jd(t);t.lu.add(3),yield wm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield mb(t)}),HM.apply(this,arguments)}function $M(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,we.Z)(function*(n,e){const t=Ze(n);e?(t.lu.delete(2),yield mb(t)):e||(t.lu.add(2),yield wm(t),t._u.set("Unknown"))}),GM.apply(this,arguments)}function Cm(n){return n.mu||(n.mu=function(e,t,r){const i=Ze(e);return i.tu(),new Oj(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:Fj.bind(null,n),Jr:Lj.bind(null,n),Go:Vj.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),RM(n)?OM(n):n._u.set("Unknown")):(yield n.mu.stop(),QF(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Hd(n){return n.gu||(n.gu=function(e,t,r){const i=Ze(e);return i.tu(),new Rj(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:jj.bind(null,n),Jr:Gj.bind(null,n),Yo:Hj.bind(null,n),Jo:$j.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield Em(n)):(yield n.gu.stop(),n.au.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class zM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new zM(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Rd(n))return new Oe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Im{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Jv(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Im)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Im;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class n1{constructor(){this.yu=new ar(qe.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):nt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sm{constructor(e,t,r,i,a,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new Sm(e,t,Im.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class zj{constructor(){this.Iu=void 0,this.listeners=[]}}class qj{constructor(){this.queries=new Ld(e=>EN(e),Yv),this.onlineState="Unknown",this.Tu=new Set}}function qM(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,we.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new zj),i)try{a.Iu=yield t.onListen(r)}catch(c){const f=Dm(c,`Initialization of query '${tM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&YM(t)}),WM.apply(this,arguments)}function KM(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,we.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),ZM.apply(this,arguments)}function Wj(n,e){const t=Ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&YM(t)}function Kj(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function YM(n){n.Tu.forEach(e=>{e.next()})}class QM{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Sm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Zj{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class r1{constructor(e){this.wt=e}Wi(e){return iu(this.wt,e)}zi(e){return e.metadata.exists?JN(this.wt,e.document,!1):Nn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return ui(e)}}class Yj{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s1(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=en.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new r1(this.wt);for(const i of e)if(i.metadata.queries){const a=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Ut()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function Ij(n,e,t,r){return wM.apply(this,arguments)}(e.localStore,new r1(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield Sj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function s1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class o1{constructor(e){this.key=e}}class a1{constructor(e){this.key=e}}class l1{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Ut(),this.mutatedKeys=Ut(),this.Lu=DN(e),this.Uu=new Im(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new n1,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const L=i.get(I),B=nM(this.query,M)?M:null,Z=!!L&&this.mutatedKeys.has(L.key),oe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Me=!1;L&&B?L.data.isEqual(B.data)?Z!==oe&&(r.track({type:3,doc:B}),Me=!0):this.Qu(L,B)||(r.track({type:2,doc:B}),Me=!0,(_&&this.Lu(B,_)>0||w&&this.Lu(B,w)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),Me=!0):L&&!B&&(r.track({type:1,doc:L}),Me=!0,(_||w)&&(f=!0)),Me&&(B?(c=c.add(B),a=oe?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Uu:c,Gu:r,Oi:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((w,I)=>function(M,L){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return B(M)-B(L)}(w.type,I.type)||this.Lu(w.doc,I.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new Sm(this.query,e.Uu,i,a,e.mutatedKeys,0===f,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new n1,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Ut(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new a1(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new o1(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Ut();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Sm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Qj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Xj{constructor(e){this.key=e,this.Xu=!1}}class Jj{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Ld(f=>EN(f),Yv),this.ec=new Map,this.nc=new Set,this.sc=new ar(qe.comparator),this.ic=new Map,this.rc=new pM,this.oc={},this.uc=new Map,this.cc=jf.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function eH(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,we.Z)(function*(n,e){const t=wx(n);let r,i;const a=t.tc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const c=yield vm(t.localStore,fa(e));t.isPrimaryClient&&BC(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield JM(t,e,r,"current"===f)}return i}),XM.apply(this,arguments)}function JM(n,e,t,r){return ex.apply(this,arguments)}function ex(){return ex=(0,we.Z)(function*(n,e,t,r){n.hc=(I,M,L)=>{return(B=(0,we.Z)(function*(Z,oe,Me,et){let rt=oe.view.Ku(Me);rt.Oi&&(rt=yield NC(Z.localStore,oe.query,!1).then(({documents:Ot})=>oe.view.Ku(Ot,rt)));const st=et&&et.targetChanges.get(oe.targetId),it=oe.view.applyChanges(rt,Z.isPrimaryClient,st);return cx(Z,oe.targetId,it.zu),it.snapshot}),function(Z,oe,Me,et){return B.apply(this,arguments)})(n,I,M,L);var B};const i=yield NC(n.localStore,e,!0),a=new l1(e,i.ji),c=a.Ku(i.documents),f=nb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(c,n.isPrimaryClient,f);cx(n,t,_.zu);const w=new Qj(e,t,a);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),ex.apply(this,arguments)}function tH(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n,e){const t=Ze(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(a=>!Yv(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_b(t.remoteStore,r.targetId),Tm(t,r.targetId)}).catch(Od))):(Tm(t,r.targetId),yield bm(t.localStore,r.targetId,!0))}),tx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(n,e,t){const r=Ex(n);try{const i=yield function(a,c){const f=Ze(a),_=qn.now(),w=c.reduce((L,B)=>L.add(B.key),Ut());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=Js(),Z=Ut();return f.Ui.getEntries(L,w).next(oe=>{B=oe,B.forEach((Me,et)=>{et.isValidDocument()||(Z=Z.add(Me))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(oe=>{I=oe;const Me=[];for(const et of c){const rt=h2(et,I.get(et.key).overlayedDocument);null!=rt&&Me.push(new ac(et.key,rt,fN(rt.value.mapValue),Jn.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,Me,c)}).next(oe=>{M=oe;const Me=oe.applyToLocalDocumentSet(I,Z);return f.documentOverlayCache.saveOverlays(L,oe.batchId,Me)})}).then(()=>({batchId:M.batchId,changes:jN(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let _=a.oc[a.currentUser.toKey()];_||(_=new ar(Ft)),_=_.insert(c,f),a.oc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield lc(r,i.changes),yield Em(r.remoteStore)}catch(i){const a=Dm(i,"Failed to persist write");t.reject(a)}}),nx.apply(this,arguments)}function u1(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,we.Z)(function*(n,e){const t=Ze(n);try{const r=yield Cj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ic.get(a);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?At(c.Xu):i.removedDocuments.size>0&&(At(c.Xu),c.Xu=!1))}),yield lc(t,r,e)}catch(r){yield Od(r)}}),rx.apply(this,arguments)}function c1(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((a,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Ze(a);f.onlineState=c;let _=!1;f.queries.forEach((w,I)=>{for(const M of I.listeners)M.Eu(c)&&(_=!0)}),_&&YM(f)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rH(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),a=i&&i.key;if(a){let c=new ar(qe.comparator);c=c.insert(a,Nn.newNoDocument(a,St.min()));const f=Ut().add(a),_=new tb(St.min(),new Map,new Cn(Ft),c,f);yield u1(r,_),r.sc=r.sc.remove(a),r.ic.delete(e),dx(r)}else yield bm(r.localStore,e,!1).then(()=>Tm(r,e,t)).catch(Od)}),ix.apply(this,arguments)}function iH(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,we.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield Ej(t.localStore,e);ux(t,r,null),lx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield lc(t,i)}catch(i){yield Od(i)}}),sx.apply(this,arguments)}function sH(n,e,t){return ox.apply(this,arguments)}function ox(){return ox=(0,we.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(a,c){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,c).next(I=>(At(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);ux(r,e,t),lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield lc(r,i)}catch(i){yield Od(i)}}),ox.apply(this,arguments)}function ax(){return ax=(0,we.Z)(function*(n,e){const t=Ze(n);jd(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=Ze(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Dm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ax.apply(this,arguments)}function lx(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function ux(n,e,t){const r=Ze(n);let i=r.oc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Tm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||d1(n,r)})}function d1(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(_b(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),dx(n))}function cx(n,e,t){for(const r of t)r instanceof o1?(n.rc.addReference(r.key,e),aH(n,r)):r instanceof a1?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||d1(n,r.key)):nt()}function aH(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.nc.add(r),dx(n))}function dx(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new qe(en.fromString(e)),r=n.cc.next();n.ic.set(r,new Xj(t)),n.sc=n.sc.insert(t,r),BC(n.remoteStore,new Vd(fa(um(t.path)),r,2,Xs.ot))}}function lc(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,we.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[],c=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,_)=>{c.push(r.hc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=yM.Vi(_.targetId,w);a.push(I)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(f=(0,we.Z)(function*(_,w){const I=Ze(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ae.forEach(w,L=>ae.forEach(L.Pi,B=>I.persistence.referenceDelegate.addReference(M,L.targetId,B)).next(()=>ae.forEach(L.vi,B=>I.persistence.referenceDelegate.removeReference(M,L.targetId,B)))))}catch(M){if(!Rd(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const L=M.targetId;if(!M.fromCache){const B=I.$i.get(L),oe=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.$i=I.$i.insert(L,oe)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),hx.apply(this,arguments)}function lH(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,we.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield VF(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(f=>{f.reject(new Oe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lc(t,r.Ki)}var i}),fx.apply(this,arguments)}function uH(n,e){const t=Ze(n),r=t.ic.get(e);if(r&&r.Xu)return Ut().add(r.key);{let i=Ut();const a=t.ec.get(e);if(!a)return i;for(const c of a){const f=t.tc.get(c);i=i.unionWith(f.view.qu)}return i}}function cH(n,e){return px.apply(this,arguments)}function px(){return px=(0,we.Z)(function*(n,e){const t=Ze(n),r=yield NC(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&cx(t,e.targetId,i.zu),i}),px.apply(this,arguments)}function dH(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,we.Z)(function*(n,e){const t=Ze(n);return HF(t.localStore,e).then(r=>lc(t,r))}),gx.apply(this,arguments)}function hH(n,e,t,r){return mx.apply(this,arguments)}function mx(){return mx=(0,we.Z)(function*(n,e,t,r){const i=Ze(n),a=yield function(c,f){const _=Ze(c),w=Ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.yn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):ae.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Em(i.remoteStore):"acknowledged"===t||"rejected"===t?(ux(i,e,r||null),lx(i,e),f=e,Ze(Ze(i.localStore).mutationQueue).In(f)):nt(),yield lc(i,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),mx.apply(this,arguments)}function _x(){return _x=(0,we.Z)(function*(n,e){const t=Ze(n);if(wx(t),Ex(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield h1(t,r.toArray());t.ac=!0,yield $M(t.remoteStore,!0);for(const a of i)BC(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Tm(t,c),bm(t.localStore,c,!0))),_b(t.remoteStore,c)}),yield i,yield h1(t,r),function(a){const c=Ze(a);c.ic.forEach((f,_)=>{_b(c.remoteStore,_)}),c.rc.cs(),c.ic=new Map,c.sc=new ar(qe.comparator)}(t),t.ac=!1,yield $M(t.remoteStore,!1)}}),_x.apply(this,arguments)}function h1(n,e,t){return yx.apply(this,arguments)}function yx(){return yx=(0,we.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[];for(const c of e){let f;const _=r.ec.get(c);if(_&&0!==_.length){f=yield vm(r.localStore,fa(_[0]));for(const w of _){const I=r.tc.get(w),M=yield cH(r,I);M.snapshot&&a.push(M.snapshot)}}else{const w=yield jF(r.localStore,c);f=yield vm(r.localStore,w),yield JM(r,f1(w),c,!1)}i.push(f)}return r.Zu.Go(a),i}),yx.apply(this,arguments)}function f1(n){return bN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pH(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Ri()}function gH(n,e,t,r){return vx.apply(this,arguments)}function vx(){return vx=(0,we.Z)(function*(n,e,t,r){const i=Ze(n);if(i.ac)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=i.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield HF(i.localStore,CN(a[0])),f=tb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield lc(i,c,f);break}case"rejected":yield bm(i.localStore,e,!0),Tm(i,e,r);break;default:nt()}}),vx.apply(this,arguments)}function mH(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n,e,t){const r=wx(n);if(r.ac){for(const i of e){if(r.ec.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const a=yield jF(r.localStore,i),c=yield vm(r.localStore,a);yield JM(r,f1(a),c.targetId,!1),BC(r.remoteStore,c)}for(const i of t)r.ec.has(i)&&(yield bm(r.localStore,i,!1).then(()=>{_b(r.remoteStore,i),Tm(r,i)}).catch(Od))}}),bx.apply(this,arguments)}function wx(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rH.bind(null,e),e.Zu.Go=Wj.bind(null,e.eventManager),e.Zu.lc=Kj.bind(null,e.eventManager),e}function Ex(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sH.bind(null,e),e}class p1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.wt=gb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return LF(this.persistence,new FF,e.initialUser,this.wt)}_c(e){return new PF(kC.Ms,this.wt)}dc(e){return new qF}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class g1 extends p1{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield Ex(r.yc.syncEngine),yield Em(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return LF(this.persistence,new FF,e.initialUser,this.wt)}mc(e,t){return new aj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new HU(t,this.persistence);return new jU(e.asyncQueue,r)}_c(e){const t=_M(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?eo.withCacheSize(this.cacheSizeBytes):eo.DEFAULT;return new mM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,KF(),VC(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new qF}}class yH extends g1{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof SM&&(r.sharedClientState.syncEngine={kr:hH.bind(null,i),Or:gH.bind(null,i),Mr:mH.bind(null,i),Ri:pH.bind(null,i),Nr:dH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var a=(0,we.Z)(function*(c){yield function fH(n,e){return _x.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}dc(e){const t=KF();if(!SM.V(t))throw new Oe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_M(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cx{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>c1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=lH.bind(null,r.syncEngine),yield $M(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qj}createDatastore(e){const t=gb(e.databaseInfo.databaseId),r=new xj(e.databaseInfo);return new kj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>c1(this.syncEngine,f,0),c=WF.V()?new WF:new Tj,new Nj(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,_,w){const I=new Jj(r,i,a,c,f,_);return w&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Ze(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield wm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function m1(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vH{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new li,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,we.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const a=yield e.vc(i);return new Zj(JSON.parse(a),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,we.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class bH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,c){const f=Ze(a),_=sb(f.wt)+"/documents",w={documents:c.map(B=>ib(f.wt,B))},I=yield f.ao("BatchGetDocuments",_,w,c.length),M=new Map;I.forEach(B=>{const Z=function C2(n,e){return"found"in e?function(t,r){At(!!r.found);const i=iu(t,r.found.name),a=ui(r.found.updateTime),c=new xi({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){At(!!r.missing),At(!!r.readTime);const i=iu(t,r.missing),a=ui(r.readTime);return Nn.newNoDocument(i,a)}(n,e):nt()}(f.wt,B);M.set(Z.key.toString(),Z)});const L=[];return c.forEach(B=>{const Z=M.get(B.toString());At(!!Z),L.push(Z)}),L}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=qe.fromPath(i);e.mutations.push(new rM(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const c=Ze(i),f=sb(c.wt)+"/documents",_={writes:a.map(w=>ob(c.wt,w))};yield c.ro("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Jn.updateTime(t):Jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Oe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(t)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new TM(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new bH(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Nc(a)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!Gv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!VN(t)}return!1}}class EH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=ZP.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,we.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Dm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function _1(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield VF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Dx.apply(this,arguments)}function y1(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Sx(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>t1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>t1(e.remoteStore,a)),n.onlineComponents=e}),Ix.apply(this,arguments)}function Sx(n){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield _1(n,new p1)),n.offlineComponents}),Tx.apply(this,arguments)}function HC(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,we.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield y1(n,new Cx)),n.onlineComponents}),Ax.apply(this,arguments)}function v1(n){return Sx(n).then(e=>e.persistence)}function Mx(n){return Sx(n).then(e=>e.localStore)}function b1(n){return HC(n).then(e=>e.remoteStore)}function xx(n){return HC(n).then(e=>e.syncEngine)}function Am(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n){const e=yield HC(n),t=e.eventManager;return t.onListen=eH.bind(null,e.syncEngine),t.onUnlisten=tH.bind(null,e.syncEngine),t}),Ox.apply(this,arguments)}function w1(n,e,t={}){const r=new li;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,_){const w=new jC({next:M=>{a.enqueueAndForget(()=>KM(i,I));const L=M.docs.has(c);!L&&M.fromCache?_.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&f&&"server"===f.source?_.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new QM(um(c.path),w,{includeMetadataChanges:!0,Du:!0});return qM(i,I)}(yield Am(n),n.asyncQueue,e,t,r)})),r.promise}function E1(n,e,t={}){const r=new li;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,_){const w=new jC({next:M=>{a.enqueueAndForget(()=>KM(i,I)),M.fromCache&&"server"===f.source?_.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new QM(c,w,{includeMetadataChanges:!0,Du:!0});return qM(i,I)}(yield Am(n),n.asyncQueue,e,t,r)})),r.promise}const C1=new Map;function Rx(n,e,t){if(!t)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D1(n,e,t,r){if(!0===e&&!0===r)throw new Oe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I1(n){if(!qe.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S1(n){if(qe.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $C(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$C(n);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function T1(n,e){if(e<=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class A1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,D1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,e instanceof sc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new OU;switch(t.type){case"gapi":const r=t.client;return At(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new NU(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=C1.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),C1.delete(e),t.terminate())}(this),Promise.resolve()}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class ou extends Xi{constructor(e,t,r){super(e,t,um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new qe(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function M1(n,e,...t){if(n=(0,Kt.m9)(n),Rx("collection","path",e),n instanceof yb){const r=en.fromString(e,...t);return S1(r),new ou(n,null,r)}{if(!(n instanceof Vn||n instanceof ou))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return S1(r),new ou(n.firestore,null,r)}}function GC(n,e,...t){if(n=(0,Kt.m9)(n),1===arguments.length&&(e=ZP.I()),Rx("doc","path",e),n instanceof yb){const r=en.fromString(e,...t);return I1(r),new Vn(n,null,new qe(r))}{if(!(n instanceof Vn||n instanceof ou))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return I1(r),new Vn(n.firestore,n instanceof ou?n.converter:null,new qe(r))}}function x1(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),(n instanceof Vn||n instanceof ou)&&(e instanceof Vn||e instanceof ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function O1(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),n instanceof Xi&&e instanceof Xi&&n.firestore===e.firestore&&Yv(n._query,e._query)&&n.converter===e.converter}class kH{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new TM(this,"async_queue_retry"),this.Kc=()=>{const t=VC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=VC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=VC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new li;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Rd(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=zM.createAndSchedule(this,e,t,r,a=>this.Wc(a));return this.$c.push(i),i}Gc(){this.Bc&&nt()}verifyOperationInProgress(){}zc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function kx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class PH{constructor(){this._progressObserver={},this._taskCompletionResolver=new li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends yb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new kH,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||R1(this),this._firestoreClient.terminate()}}function Rr(n){return n._firestoreClient||R1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function R1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zU(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new EH(n._authCredentials,n._appCheckCredentials,n._queue,r)}function k1(n,e,t){const r=new li;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield _1(n,t),yield y1(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function P1(n){if(n._initialized||n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(Hr.fromBase64String(e))}catch(t){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new au(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $f{constructor(e){this._methodName=e}}class zC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const GH=/^__.*__$/;class zH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new fm(e,this.data,t,this.fieldTransforms)}}class N1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function F1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class qC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new qC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return ZC(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(F1(this.Zc)&&GH.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class qH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||gb(e)}aa(e,t,r,i=!1){return new qC({Zc:e,methodName:t,ca:r,path:br.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=gb(n._databaseId);return new qH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WC(n,e,t,r,i,a={}){const c=n.aa(a.merge||a.mergeFields?2:0,e,t,i);Lx("Data must be an object, but it was:",c,r);const f=B1(r,c);let _,w;if(a.merge)_=new Po(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const L=Vx(e,M,t);if(!c.contains(L))throw new Oe(fe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);j1(I,L)||I.push(L)}_=new Po(I),w=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=c.fieldTransforms;return new zH(new xi(f),_,w)}class vb extends $f{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vb}}function L1(n,e,t){return new qC({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Px extends $f{_toFieldTransform(e){return new Qv(e.path,new dm)}isEqual(e){return e instanceof Px}}class WH extends $f{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=L1(this,e,!0),r=this.ha.map(a=>zf(a,t)),i=new kf(r);return new Qv(e.path,i)}isEqual(e){return this===e}}class KH extends $f{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=L1(this,e,!0),r=this.ha.map(a=>zf(a,t)),i=new Pf(r);return new Qv(e.path,i)}isEqual(e){return this===e}}class ZH extends $f{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new hm(e.wt,TN(e.wt,this.la));return new Qv(e.path,t)}isEqual(e){return this===e}}function Nx(n,e,t,r){const i=n.aa(1,e,t);Lx("Data must be an object, but it was:",i,r);const a=[],c=xi.empty();Af(r,(_,w)=>{const I=KC(e,_,t);w=(0,Kt.m9)(w);const M=i.ia(I);if(w instanceof vb)a.push(I);else{const L=zf(w,M);null!=L&&(a.push(I),c.set(I,L))}});const f=new Po(a);return new N1(c,f,i.fieldTransforms)}function Fx(n,e,t,r,i,a){const c=n.aa(1,e,t),f=[Vx(e,r,t)],_=[i];if(a.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(Vx(e,a[L])),_.push(a[L+1]);const w=[],I=xi.empty();for(let L=f.length-1;L>=0;--L)if(!j1(w,f[L])){const B=f[L];let Z=_[L];Z=(0,Kt.m9)(Z);const oe=c.ia(B);if(Z instanceof vb)w.push(B);else{const Me=zf(Z,oe);null!=Me&&(w.push(B),I.set(B,Me))}}const M=new Po(w);return new N1(I,M,c.fieldTransforms)}function V1(n,e,t,r=!1){return zf(t,n.aa(r?4:3,e))}function zf(n,e){if(U1(n=(0,Kt.m9)(n)))return Lx("Unsupported field value:",e,n),B1(n,e);if(n instanceof $f)return function(t,r){if(!F1(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=zf(c,r.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return TN(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qn.fromDate(t);return{timestampValue:rb(r.wt,i)}}if(t instanceof qn){const i=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rb(r.wt,i)}}if(t instanceof zC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof au)return{bytesValue:KN(r.wt,t._byteString)};if(t instanceof Vn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${$C(t)}`)}(n,e)}function B1(n,e){const t={};return rN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Af(n,(r,i)=>{const a=zf(i,e.ea(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function U1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof zC||n instanceof au||n instanceof Vn||n instanceof $f)}function Lx(n,e,t){if(!U1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$C(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function Vx(n,e,t){if((e=(0,Kt.m9)(e))instanceof uc)return e._internalPath;if("string"==typeof e)return KC(n,e);throw ZC("Field path arguments must be of type string or ",n,!1,void 0,t)}const YH=new RegExp("[~\\*/\\[\\]]");function KC(n,e,t){if(e.search(YH)>=0)throw ZC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch(r){throw ZC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Oe(fe.INVALID_ARGUMENT,f+n+_)}function j1(n,e){return n.some(t=>t.isEqual(e))}class bb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QH extends bb{data(){return super.data()}}function YC(n,e){return"string"==typeof e?KC(n,e):e instanceof uc?e._internalPath:e._delegate._internalPath}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends bb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wb extends cc{data(e={}){return super.data(e)}}class $d{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wb(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new wb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new wb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:XH(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function H1(n,e){return n instanceof cc&&e instanceof cc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $d&&e instanceof $d&&n._firestore===e._firestore&&O1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function $1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}function Gd(n,...e){for(const t of e)n=t._apply(n);return n}class JH extends Eb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Gf(e.firestore),r=function(i,a,c,f,_,w,I){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Z1(I,w);const B=[];for(const Z of I)B.push(K1(f,i,Z));M={arrayValue:{values:B}}}else M=K1(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Z1(I,w),M=V1(c,"where",I,"in"===w||"not-in"===w);const L=Oi.create(_,w,M);return function(B,Z){if(Z.ht()){const Me=JA(B);if(null!==Me&&!Me.isEqual(Z.field))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Me.toString()}' and '${Z.field.toString()}'`);const et=XA(B);null!==et&&Y1(0,Z.field,et)}const oe=function(Me,et){for(const rt of Me.filters)if(et.indexOf(rt.op)>=0)return rt.op;return null}(B,function(Me){switch(Me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==oe)throw new Oe(fe.INVALID_ARGUMENT,oe===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${oe.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Xi(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class t$ extends Eb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new lm(i,a);return function(f,_){if(null===XA(f)){const w=JA(f);null!==w&&Y1(0,w,_.field)}}(r,c),c}(e._query,this.fa,this.wa);return new Xi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new oc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class G1 extends Eb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Xi(e.firestore,e.converter,wN(e._query,this.ma,this.ga))}}class z1 extends Eb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=W1(e,this.type,this.ya,this.pa);return new Xi(e.firestore,e.converter,(i=t,new oc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class q1 extends Eb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=W1(e,this.type,this.ya,this.pa);return new Xi(e.firestore,e.converter,(i=t,new oc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function W1(n,e,t,r){if(t[0]=(0,Kt.m9)(t[0]),t[0]instanceof bb)return function(i,a,c,f,_){if(!f)throw new Oe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const I of cm(i))if(I.field.isKeyField())w.push(Of(a,f.key));else{const M=f.data.field(I.field);if(ZA(M))throw new Oe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=I.field.canonicalString();throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(M)}return new Fd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Gf(n.firestore);return function(a,c,f,_,w,I){const M=a.explicitOrderBy;if(w.length>M.length)throw new Oe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<w.length;B++){const Z=w[B];if(M[B].field.isKeyField()){if("string"!=typeof Z)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Z}`);if(!eM(a)&&-1!==Z.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Z}' contains a slash.`);const oe=a.path.child(en.fromString(Z));if(!qe.isDocumentKey(oe))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const Me=new qe(oe);L.push(Of(c,Me))}else{const oe=V1(f,_,Z);L.push(oe)}}return new Fd(L,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function K1(n,e,t){if("string"==typeof(t=(0,Kt.m9)(t))){if(""===t)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eM(e)&&-1!==t.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!qe.isDocumentKey(r))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Of(n,new qe(r))}if(t instanceof Vn)return Of(n,t._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$C(t)}.`)}function Z1(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Y1(n,e,t){if(!t.isEqual(e))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const u$={maxAttempts:5};class Bx{convertValue(e,t="none"){switch(xf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const r={};return Af(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new zC(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($v(e));default:return null}}convertTimestamp(e){const t=kd(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);At(iF(r));const i=new sc(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(t)||xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function QC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class c$ extends Bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}class Q1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gf(e)}set(e,t,r){this._verifyNotCommitted();const i=zd(e,this._firestore),a=QC(i.converter,t,r),c=WC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Jn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=zd(e,this._firestore);let c;return c="string"==typeof(t=(0,Kt.m9)(t))||t instanceof uc?Fx(this._dataReader,"WriteBatch.update",a._key,t,r,i):Nx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zd(e,this._firestore);return this._mutations=this._mutations.concat(new pm(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zd(n,e){if((n=(0,Kt.m9)(n)).firestore!==e)throw new Oe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Wf extends Bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function X1(n,e,t){n=Xt(n,Vn);const r=Xt(n.firestore,Wn),i=QC(n.converter,e,t);return Mm(r,[WC(Gf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Jn.none())])}function J1(n,e,t,...r){n=Xt(n,Vn);const i=Xt(n.firestore,Wn),a=Gf(i);let c;return c="string"==typeof(e=(0,Kt.m9)(e))||e instanceof uc?Fx(a,"updateDoc",n._key,e,t,r):Nx(a,"updateDoc",n._key,e),Mm(i,[c.toMutation(n._key,Jn.exists(!0))])}function eL(n,...e){var t,r,i;n=(0,Kt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||kx(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(kx(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,w,I;if(n instanceof Vn)w=Xt(n.firestore,Wn),I=um(n._key.path),_={next:M=>{e[c]&&e[c](Ux(w,n,M))},error:e[c+1],complete:e[c+2]};else{const M=Xt(n,Xi);w=Xt(M.firestore,Wn),I=M._query;const L=new Wf(w);_={next:B=>{e[c]&&e[c](new $d(w,L,M,B))},error:e[c+1],complete:e[c+2]},$1(n._query)}return function(M,L,B,Z){const oe=new jC(Z),Me=new QM(L,oe,B);return M.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return qM(yield Am(M),Me)})),()=>{oe.Tc(),M.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return KM(yield Am(M),Me)}))}}(Rr(w),I,f,_)}function Mm(n,e){return function(t,r){const i=new li;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function nH(n,e,t){return nx.apply(this,arguments)}(yield xx(t),r,i)})),i.promise}(Rr(n),e)}function Ux(n,e,t){const r=t.docs.get(e._key),i=new Wf(n);return new cc(n,i,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}class b$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gf(e)}get(e){const t=zd(e,this._firestore),r=new c$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return nt();const a=i[0];if(a.isFoundDocument())return new bb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new bb(this._firestore,r,t._key,null,t.converter);throw nt()})}set(e,t,r){const i=zd(e,this._firestore),a=QC(i.converter,t,r),c=WC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=zd(e,this._firestore);let c;return c="string"==typeof(t=(0,Kt.m9)(t))||t instanceof uc?Fx(this._dataReader,"Transaction.update",a._key,t,r,i):Nx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=zd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zd(e,this._firestore),r=new Wf(this._firestore);return super.get(e).then(i=>new cc(this._firestore,r,t._key,i._document,new qf(!1,!1),t.converter))}}function jx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nL(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function rL(){if(!function $U(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){im=bf.SDK_VERSION,(0,bf._registerComponent)(new BE.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Wn(i,new kU(t.getProvider("auth-internal")),new FU(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,bf.registerVersion)(qP,"3.4.12",n),(0,bf.registerVersion)(qP,"3.4.12","esm2017")}();class Cb{constructor(e){this._delegate=e}static fromBase64String(e){return rL(),new Cb(au.fromBase64String(e))}static fromUint8Array(e){return nL(),new Cb(au.fromUint8Array(e))}toBase64(){return rL(),this._delegate.toBase64()}toUint8Array(){return nL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Hx(n){return function M$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class x${enableIndexedDbPersistence(e,t){return function FH(n,e){P1(n=Xt(n,Wn));const t=Rr(n),r=n._freezeSettings(),i=new Cx;return k1(t,i,new g1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LH(n){P1(n=Xt(n,Wn));const e=Rr(n),t=n._freezeSettings(),r=new Cx;return k1(e,r,new yH(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VH(n){if(n._initialized&&!n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new li;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!dl.V())return Promise.resolve();const i=r+"main";yield dl.delete(i)}),function(r){return t.apply(this,arguments)})(_M(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof sc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function OH(n,e,t,r={}){var i;const a=(n=Xt(n,yb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Bv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=ai.MOCK_USER;else{c=(0,Kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ai(_)}n._authCredentials=new RU(new WP(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function UH(n){return function CH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield v1(n),t=yield b1(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i.lu.delete(0),mb(i)}(t)}))}(Rr(n=Xt(n,Wn)))}(this._delegate)}disableNetwork(){return function jH(n){return function DH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield v1(n),t=yield b1(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=Ze(i);a.lu.add(0),yield wm(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Rr(n=Xt(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,D1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function BH(n){return function(e){const t=new li;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function oH(n,e){return ax.apply(this,arguments)}(yield xx(e),t)})),t.promise}(Rr(n=Xt(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function v$(n,e){return function TH(n,e){const t=new jC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Am(n),i=t,Ze(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Am(n),i=t,void Ze(r).Tu.delete(i);var r,i}))}}(Rr(n=Xt(n,Wn)),kx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xm(this,M1(this._delegate,e))}catch(t){throw Cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,GC(this._delegate,e))}catch(t){throw Cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ds(this,function RH(n,e){if(n=Xt(n,yb),Rx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(n,null,(t=e,new oc(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function w$(n,e,t){n=Xt(n,Wn);const r=Object.assign(Object.assign({},u$),t);return function(i){if(i.maxAttempts<1)throw new Oe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function AH(n,e,t){const r=new li;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(a=n,HC(a).then(c=>c.datastore));var a;new wH(n.asyncQueue,i,t,e,r).run()})),r.promise}(Rr(n),i=>e(new b$(n,i)),r)}(this._delegate,t=>e(new sL(this,t)))}batch(){return Rr(this._delegate),new oL(new Q1(this._delegate,e=>Mm(this._delegate,e)))}loadBundle(e){return function HH(n,e){const t=Rr(n=Xt(n,Wn)),r=new PH;return function MH(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return m1(_,w);if(_ instanceof ArrayBuffer)return m1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new vH(_,c);var _}(t,gb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function _H(n,e,t){const r=Ze(n);var i;(i=(0,we.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(L,B){const Z=Ze(L),oe=ui(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Me=>Z.Ds.getBundleMetadata(Me,B.id)).then(Me=>!!Me&&Me.createTime.compareTo(oe)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(s1(_));const w=new Yj(_,a.localStore,c.wt);let I=yield c.fc();for(;I;){const L=yield w.Nu(I);L&&f._updateProgress(L),I=yield c.fc()}const M=yield w.complete();return yield lc(a,M.Mu,void 0),yield function(L,B){const Z=Ze(L);return Z.persistence.runTransaction("Save bundle","readwrite",oe=>Z.Ds.saveBundleMetadata(oe,B))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Ou)}catch(_){return Bv("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield xx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function $H(n,e){return function xH(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ds.getNamedQuery(a,r))}(yield Mx(n),e)}))}(Rr(n=Xt(n,Wn)),e).then(t=>t?new Xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ds(this,t):null)}}class XC extends Bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cb(new au(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class sL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}get(e){const t=Zf(e);return this._delegate.get(t).then(r=>new Db(this._firestore,new cc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zf(e);return r?(jx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Zf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}}class oL{constructor(e){this._delegate=e}set(e,t,r){const i=Zf(e);return r?(jx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Zf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ib(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Kf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Kf(e,new XC(e),t),i.set(t,a)),a}}Kf.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new Vn(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new pa(t,new Vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new xm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xm(this.firestore,M1(this._delegate,e))}catch(t){throw Cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Kt.m9)(e))instanceof Vn&&x1(this._delegate,e)}set(e,t){t=jx("DocumentReference.set",t);try{return t?X1(this._delegate,e,t):X1(this._delegate,e)}catch(r){throw Cs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?J1(this._delegate,e):J1(this._delegate,e,t,...r)}catch(i){throw Cs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function _$(n){return Mm(Xt(n.firestore,Wn),[new pm(n._key,Jn.none())])}(this._delegate)}onSnapshot(...e){const t=aL(e),r=lL(e,i=>new Db(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function h$(n){n=Xt(n,Vn);const e=Xt(n.firestore,Wn),t=Rr(e),r=new Wf(e);return function IH(n,e){const t=new li;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield function(_,w){const I=Ze(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,w))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Oe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Dm(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield Mx(n),e,t);var r})),t.promise}(t,n._key).then(i=>new cc(e,r,n._key,i,new qf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function f$(n){n=Xt(n,Vn);const e=Xt(n.firestore,Wn);return w1(Rr(e),n._key,{source:"server"}).then(t=>Ux(e,n,t))}(this._delegate):function d$(n){n=Xt(n,Vn);const e=Xt(n.firestore,Wn);return w1(Rr(e),n._key).then(t=>Ux(e,n,t))}(this._delegate),t.then(r=>new Db(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?Kf.getInstance(this.firestore,e):null))}}function Cs(n,e,t){return n.message=n.message.replace(e,t),n}function aL(n){for(const e of n)if("object"==typeof e&&!Hx(e))return e;return{}}function lL(n,e){var t,r;let i;return i=Hx(n[0])?n[0]:Hx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Db{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return H1(this._delegate,e._delegate)}}class Ib extends Db{data(e){const t=this._delegate.data(e);return function xU(n,e){n||nt()}(void 0!==t),t}}class Ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XC(e)}where(e,t,r){try{return new Ds(this.firestore,Gd(this._delegate,function e$(n,e,t){const r=e,i=YC("where",n);return new JH(i,r,t)}(e,t,r)))}catch(i){throw Cs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ds(this.firestore,Gd(this._delegate,function n$(n,e="asc"){const t=e,r=YC("orderBy",n);return new t$(r,t)}(e,t)))}catch(r){throw Cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ds(this.firestore,Gd(this._delegate,function r$(n){return T1("limit",n),new G1("limit",n,"F")}(e)))}catch(t){throw Cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ds(this.firestore,Gd(this._delegate,function i$(n){return T1("limitToLast",n),new G1("limitToLast",n,"L")}(e)))}catch(t){throw Cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ds(this.firestore,Gd(this._delegate,function s$(...n){return new z1("startAt",n,!0)}(...e)))}catch(t){throw Cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ds(this.firestore,Gd(this._delegate,function o$(...n){return new z1("startAfter",n,!1)}(...e)))}catch(t){throw Cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ds(this.firestore,Gd(this._delegate,function a$(...n){return new q1("endBefore",n,!1)}(...e)))}catch(t){throw Cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ds(this.firestore,Gd(this._delegate,function l$(...n){return new q1("endAt",n,!0)}(...e)))}catch(t){throw Cs(t,"endAt()","Query.endAt()")}}isEqual(e){return O1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function g$(n){n=Xt(n,Xi);const e=Xt(n.firestore,Wn),t=Rr(e),r=new Wf(e);return function SH(n,e){const t=new li;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield NC(i,a,!0),_=new l1(a,f.ji),w=_.Ku(f.documents),I=_.applyChanges(w,!1);c.resolve(I.snapshot)}catch(f){const _=Dm(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield Mx(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $d(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function m$(n){n=Xt(n,Xi);const e=Xt(n.firestore,Wn),t=Rr(e),r=new Wf(e);return E1(t,n._query,{source:"server"}).then(i=>new $d(e,r,n,i))}(this._delegate):function p$(n){n=Xt(n,Xi);const e=Xt(n.firestore,Wn),t=Rr(e),r=new Wf(e);return $1(n._query),E1(t,n._query).then(i=>new $d(e,r,n,i))}(this._delegate),t.then(r=>new $x(this.firestore,new $d(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=aL(e),r=lL(e,i=>new $x(this.firestore,new $d(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eL(this._delegate,t,r)}withConverter(e){return new Ds(this.firestore,this._delegate.withConverter(e?Kf.getInstance(this.firestore,e):null))}}class R${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ib(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $x{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ib(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new R$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ib(this._firestore,r))})}isEqual(e){return H1(this._delegate,e._delegate)}}class xm extends Ds{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?GC(this._delegate):GC(this._delegate,e))}catch(t){throw Cs(t,"doc()","CollectionReference.doc()")}}add(e){return function y$(n,e){const t=Xt(n.firestore,Wn),r=GC(n),i=QC(n.converter,e);return Mm(t,[WC(Gf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return x1(this._delegate,e._delegate)}withConverter(e){return new xm(this.firestore,this._delegate.withConverter(e?Kf.getInstance(this.firestore,e):null))}}function Zf(n){return Xt(n,Vn)}class Gx{constructor(...e){this._delegate=new uc(...e)}static documentId(){return new Gx(br.keyField().canonicalString())}isEqual(e){return(e=(0,Kt.m9)(e))instanceof uc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function C$(){return new Px("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yf(e)}static delete(){const e=function E$(){return new vb("deleteField")}();return e._methodName="FieldValue.delete",new Yf(e)}static arrayUnion(...e){const t=function D$(...n){return new WH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yf(t)}static arrayRemove(...e){const t=function I$(...n){return new KH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yf(t)}static increment(e){const t=function S$(n){return new ZH("increment",n)}(e);return t._methodName="FieldValue.increment",new Yf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const k$={Firestore:iL,GeoPoint:zC,Timestamp:qn,Blob:Cb,Transaction:sL,WriteBatch:oL,DocumentReference:pa,DocumentSnapshot:Db,Query:Ds,QueryDocumentSnapshot:Ib,QuerySnapshot:$x,CollectionReference:xm,FieldPath:Gx,FieldValue:Yf,setLogLevel:function O$(n){!function MU(n){xd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function N$(n){(function P$(n,e){n.INTERNAL.registerComponent(new BE.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},k$)))})(n,(e,t)=>new iL(e,t,new x$)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(wB.Z);var JC=k(5363),F$=k(6063);class L$ extends jt.x{constructor(e=1/0,t=1/0,r=F$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var V$=k(3099);function uL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,V$.B)({connector:()=>new L$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function cL(n,e){return(0,Zr.m)(e)?gn(()=>n,e):gn(()=>n)}var zx=k(9468);k(5867);const hL=new Map,$$={activated:!1,tokenObservers:[]},G$={initialized:!1,enabled:!1};function hi(n){return hL.get(n)||$$}function hl(n,e){hL.set(n,e)}function tD(){return G$}class Z${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Kt.BH,yield function Y$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Is=new Kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pL(n){if(!hi(n).activated)throw Is.create("use-before-activation",{appName:n.name})}function Zx(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,we.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const B=yield c.getHeartbeatsHeader();B&&(a["X-Firebase-Client"]=B)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,f)}catch(B){throw Is.create("fetch-network-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}if(200!==_.status)throw Is.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(B){throw Is.create("fetch-parse-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}const I=w.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const M=1e3*Number(I[1]),L=Date.now();return{token:w.token,expireTimeMillis:L+M,issuedAtTimeMillis:L}}),Yx.apply(this,arguments)}function eG(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Sb="firebase-app-check-store";let iD=null;function mL(){return iD||(iD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Is.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sb,{keyPath:"compositeKey"})}}catch(r){e(Is.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),iD)}function Qx(){return Qx=(0,we.Z)(function*(n,e){const r=(yield mL()).transaction(Sb,"readwrite"),a=r.objectStore(Sb).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var w;f(Is.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),Qx.apply(this,arguments)}const Tb=new Td.Yd("@firebase/app-check");function bL(n,e){return(0,Kt.hl)()?function iG(n,e){return function _L(n,e){return Qx.apply(this,arguments)}(function vL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wL(){return tD().enabled}function EL(){return tO.apply(this,arguments)}function tO(){return tO=(0,we.Z)(function*(){const n=tD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tO.apply(this,arguments)}const cG={error:"UNKNOWN_ERROR"};function dG(n){return Kt.US.encodeString(JSON.stringify(n),!1)}function sD(n){return nO.apply(this,arguments)}function nO(){return nO=(0,we.Z)(function*(n,e=!1){const t=n.app;pL(t);const r=hi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&oD(_)&&(i=_)}if(!e&&i&&oD(i))return{token:i.token};let f,c=!1;if(wL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zx(eG(t,yield EL()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),c=!0);const _=yield r.exchangeTokenPromise;return yield bL(t,_),hl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Tb.warn(_.message):Tb.error(_),a=_}return i?(f={token:i.token},hl(t,Object.assign(Object.assign({},r),{token:i})),yield bL(t,i)):f=fG(a),c&&DL(t,f),f}),nO.apply(this,arguments)}function iO(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),hl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function CL(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function hG(n){const{app:e}=n;return new Z$((0,we.Z)(function*(){let r;if(r=hi(e).token?yield sD(n,!0):yield sD(n),r.error)throw r.error}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),hl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function DL(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function oD(n){return n.expireTimeMillis-Date.now()>0}function fG(n){return{token:dG(cG),error:n}}class pG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)iO(this.app,t.next);return Promise.resolve()}}const RL="app-check-internal";!function AG(){(0,bf._registerComponent)(new BE.wA("app-check",n=>function gG(n,e){return new pG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RL).initialize()})),(0,bf._registerComponent)(new BE.wA(RL,n=>function mG(n){return{getToken:e=>sD(n,e),addTokenListener:e=>function rO(n,e,t,r){const{app:i}=n,a=hi(i),c={next:t,error:r,type:e};if(hl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&oD(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),CL(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>CL(n))}(n,"INTERNAL",e),removeTokenListener:e=>iO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bf.registerVersion)("@firebase/app-check","0.5.11")}();class lO{constructor(){return(0,Ii.vb)("app-check")}}"undefined"!=typeof window&&window;var kG=k(127);const PL=new d.OlP("angularfire2.auth.use-emulator"),NL=new d.OlP("angularfire2.auth.settings"),FL=new d.OlP("angularfire2.auth.tenant-id"),LL=new d.OlP("angularfire2.auth.langugage-code"),VL=new d.OlP("angularfire2.auth.use-device-language"),BL=new d.OlP("angularfire.auth.persistence"),UL=(n,e,t,r,i,a,c,f)=>(0,cl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[w,I]of Object.entries(c))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,c,f]);let jL=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,L,B){const Z=new jt.x,oe=Je(void 0).pipe((0,JC.Q)(c.outsideAngular),gn(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1451)))),(0,Ct.U)(()=>(0,cl.on)(t,a,r)),(0,Ct.U)(Me=>UL(Me,a,f,w,I,M,_,L)),uL({bufferSize:1,refCount:!1}));if(Ho(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{oe.pipe(Ua()).subscribe();const et=oe.pipe(gn(it=>it.getRedirectResult().then(Ot=>Ot,()=>null)),Ii.iC,uL({bufferSize:1,refCount:!1})),rt=oe.pipe(gn(it=>new _n.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>it.onAuthStateChanged(Lt=>Ot.next(Lt),Lt=>Ot.error(Lt),()=>Ot.complete()))})))),st=oe.pipe(gn(it=>new _n.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>it.onIdTokenChanged(Lt=>Ot.next(Lt),Lt=>Ot.error(Lt),()=>Ot.complete()))}))));this.authState=et.pipe(cL(rt),(0,zx.R)(c.outsideAngular),(0,JC.Q)(c.insideAngular)),this.user=et.pipe(cL(st),(0,zx.R)(c.outsideAngular),(0,JC.Q)(c.insideAngular)),this.idToken=this.user.pipe(gn(it=>it?(0,wn.D)(it.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(gn(it=>it?(0,wn.D)(it.getIdTokenResult()):Je(null))),this.credential=(0,ec.T)(et,Z,this.authState.pipe(yn(it=>!it))).pipe((0,Ct.U)(it=>(null==it?void 0:it.user)?it:null),(0,zx.R)(c.outsideAngular),(0,JC.Q)(c.insideAngular))}return(0,cl.pX)(this,oe,a,{spy:{apply:(Me,et,rt)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&rt.then(st=>Z.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cl.Dh),d.LFG(cl.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ii.HU),d.LFG(PL,8),d.LFG(NL,8),d.LFG(FL,8),d.LFG(LL,8),d.LFG(VL,8),d.LFG(BL,8),d.LFG(lO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function HL(n,e){return function NG(n,e=sg.z){return new _n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function cO(n,e){return HL(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function lD(n,e){return cO(n,e).pipe($n(void 0),QT(),(0,Ct.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(I=>I.doc.ref.isEqual(c.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function $L(n,e,t){return lD(n,t).pipe(bi((r,i)=>function LG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function VG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return dO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return dO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),ny(),(0,Ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function dO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function GL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe($n(void 0),QT(),yn(([r,i])=>i.length>0||!r),(0,Ct.U)(([r,i])=>i),Ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(bi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GL(e);return $L(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return cO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ii.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Ii.iC)}add(e){return this.ref.add(e)}doc(e){return new qL(this.ref.doc(e),this.afs)}}class qL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=ZL(r,t);return new zL(i,a,this.afs)}snapshotChanges(){return function FG(n,e){return HL(n,e).pipe($n(void 0),QT(),(0,Ct.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(Ii.iC)}}class BG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),yn(t=>t.length>0),Ii.iC):lD(this.query,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(bi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GL(e);return $L(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return cO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ii.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Ii.iC)}}const WL=new d.OlP("angularfire2.enableFirestorePersistence"),KL=new d.OlP("angularfire2.firestore.persistenceSettings"),UG=new d.OlP("angularfire2.firestore.settings"),jG=new d.OlP("angularfire2.firestore.use-emulator");function ZL(n,e=(t=>t)){return{query:e(n),ref:n}}let YL=(()=>{class n{constructor(t,r,i,a,c,f,_,w,I,M,L,B,Z,oe,Me,et,rt){this.schedulers=_;const st=(0,cl.on)(t,f,r),it=I;M&&UL(st,f,L,Z,oe,Me,B,et),[this.firestore,this.persistenceEnabled$]=(0,cl.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Ot=f.runOutsideAngular(()=>st.firestore());if(a&&Ot.settings(a),it&&Ot.useEmulator(...it),i&&!Ho(c)){const Lt=()=>{try{return(0,wn.D)(Ot.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(cn){return"undefined"!=typeof console&&console.warn(cn),Je(!1)}};return[Ot,f.runOutsideAngular(Lt)]}return[Ot,Je(!1)]},[a,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=ZL(i,r),f=this.schedulers.ngZone.run(()=>a);return new zL(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new BG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new qL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cl.Dh),d.LFG(cl.xv,8),d.LFG(WL,8),d.LFG(UG,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ii.HU),d.LFG(KL,8),d.LFG(jG,8),d.LFG(jL,8),d.LFG(PL,8),d.LFG(NL,8),d.LFG(FL,8),d.LFG(LL,8),d.LFG(VL,8),d.LFG(BL,8),d.LFG(lO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HG=(()=>{class n{constructor(){kG.Z.registerVersion("angularfire",Ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WL,useValue:!0},{provide:KL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[YL]}),n})(),hO=(()=>{class n{constructor(t){this._client=t}add(t){return(0,wn.D)(this._client.collection("features").add(t)).pipe((0,Ct.U)(()=>{}))}getAll(){return this._client.collection("features").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(YL))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const QL=new d.OlP("ADDS_FEATURE_DTO"),XL=new d.OlP("GETS_ALL_FEATURE_DTO");let $G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[hO,{provide:QL,useExisting:hO},{provide:XL,useExisting:hO}],imports:[[HG]]}),n})(),fO=(()=>{class n{constructor(){this._subject=new Ir({})}setState(t){return Je(this._subject.next(t)).pipe((0,Ct.U)(()=>{}))}select(){return this._subject.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const JL=new d.OlP("SETS_STATE_FEATURE_CONTEXT"),eV=new d.OlP("SELECTS_FEATURE_CONTEXT");let GG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[fO,{provide:JL,useExisting:fO},{provide:eV,useExisting:fO}],imports:[[]]}),n})();class zG{constructor(e,t,r){this.title=e,this.description=t,this.type=r}}class qG{constructor(e){this.items=e}}let uD=(()=>{class n{constructor(t,r,i,a){this._addsFeatureDto=t,this._selectsFeatureContext=r,this._setsStateFeatureContext=i,this._getsAllFeatureDto=a}loadFeatures(t){return this._getsAllFeatureDto.getAll().pipe(Sr(1),gn(r=>this._setsStateFeatureContext.setState({all:r})))}createFeature(t){return Fa([this._addsFeatureDto.add({title:t.title,description:t.description,type:t.type,status:"pending",creator:"test creator id"}),this._selectsFeatureContext.select().pipe(Sr(1))]).pipe((0,Ct.U)(([r,i])=>Object.assign(Object.assign({},i),{all:[...i.all,r]})),gn(r=>this._setsStateFeatureContext.setState(r)))}getCurrentFeatureListQuery(){return this._selectsFeatureContext.select().pipe((0,Ct.U)(t=>(n=>new qG((n.all||[]).map(e=>new zG(e.title,e.description,e.type))))(t)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(QL),d.LFG(eV),d.LFG(JL),d.LFG(XL))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const tV=new d.OlP("LOAD_FEATURES_COMMAND"),nV=new d.OlP("GETS_CURRENT_FEATURE_LIST_QUERY"),rV=new d.OlP("CREATE_FEATURE_COMMAND");let KG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[uD,{provide:rV,useExisting:uD},{provide:tV,useExisting:uD},{provide:nV,useExisting:uD}],imports:[[]]}),n})();class ZG{}let iV=(()=>{class n{constructor(t){this._loadFeaturesCommand=t}resolve(t,r){return this._loadFeaturesCommand.loadFeatures(new ZG)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),YG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[iV],imports:[[]]}),n})(),QG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[Fs]]}),n})();function XG(n,e){if(1&n&&(d.TgZ(0,"li",3)(1,"div",4)(2,"p",5),d._uU(3),d.qZA(),d.TgZ(4,"p",6),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()),2&n){const t=e.$implicit;d.xp6(3),d.Oqu(t.title),d.xp6(2),d.Oqu(t.type),d.xp6(2),d.Oqu(t.description)}}function JG(n,e){if(1&n&&(d.TgZ(0,"ul",1),d.YNc(1,XG,8,3,"li",2),d.qZA()),2&n){const t=e.ngIf;d.xp6(1),d.Q6J("ngForOf",t.items)}}let ez=(()=>{class n{constructor(t){this._getsCurrentFeatureListQuery=t,this.featureListQuery$=this._getsCurrentFeatureListQuery.getCurrentFeatureListQuery()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["lib-feature-list"]],decls:2,vars:3,consts:[["class","my-10",4,"ngIf"],[1,"my-10"],["class","flex flex-col bg-indigo-50 w-96 p-5 rounded-md my-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-indigo-50","w-96","p-5","rounded-md","my-3"],[1,"flex","justify-between"],[1,"text-lg","font-semibold"],[1,"text-pink-500","font-medium"]],template:function(t,r){1&t&&(d.YNc(0,JG,2,1,"ul",0),d.ALo(1,"async")),2&t&&d.Q6J("ngIf",d.lcZ(1,1,r.featureListQuery$))},directives:[Hn,Zn],pipes:[Kd],encapsulation:2,changeDetection:0}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home-page"]],decls:4,vars:0,consts:[[1,"flex","flex-col","justify-center","items-center","h-full"],["mat-raised-button","","routerLink","new-feature","color","primary",1,"text-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"a",1),d._uU(2,"+ NEW FEATURE"),d.qZA(),d._UZ(3,"lib-feature-list"),d.qZA())},directives:[vB,Gl,ez],encapsulation:2,changeDetection:0}),n})();class nz{constructor(e,t,r){this.title=e,this.description=t,this.type=r}}let rz=(()=>{class n{constructor(t,r){this._createFeatureCommand=t,this.router=r,this.newFeatureForm=new Qp({title:new Fh("",td.required),description:new Fh("",td.required),type:new Fh("",td.required)})}onNewFeatureFormSubmited(t){var r,i,a;t.invalid||this._createFeatureCommand.createFeature(new nz(null===(r=t.get("title"))||void 0===r?void 0:r.value,null===(i=t.get("description"))||void 0===i?void 0:i.value,null===(a=t.get("type"))||void 0===a?void 0:a.value)).pipe(Sr(1)).subscribe(()=>{this.newFeatureForm.reset(),this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rV),d.Y36(Br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["lib-create-feature"]],decls:23,vars:1,consts:[[1,"flex"],[1,"mx-auto","mb-5","text-white","text-2xl"],[1,"flex","flex-col","items-center",3,"formGroup","ngSubmit"],[1,"flex","flex-col","items-center","bg-indigo-50","w-fit","p-10","rounded-md","mb-5"],[1,"w-96"],["matInput","","formControlName","title"],["formControlName","type"],["value","bug"],["value","feature"],["matInput","","formControlName","description"],["type","submit","mat-raised-button","","color","primary",1,"w-min","my-5","text-lg"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"p",1),d._uU(2,"Create feature"),d.qZA()(),d.TgZ(3,"form",2),d.NdJ("ngSubmit",function(){return r.onNewFeatureFormSubmited(r.newFeatureForm)}),d.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),d._uU(7,"Title"),d.qZA(),d._UZ(8,"input",5),d.qZA(),d.TgZ(9,"mat-form-field",4)(10,"mat-label"),d._uU(11,"Type"),d.qZA(),d.TgZ(12,"mat-select",6)(13,"mat-option",7),d._uU(14,"Bug"),d.qZA(),d.TgZ(15,"mat-option",8),d._uU(16,"Feature"),d.qZA()()(),d.TgZ(17,"mat-form-field",4)(18,"mat-label"),d._uU(19,"Description"),d.qZA(),d._UZ(20,"textarea",9),d.qZA()(),d.TgZ(21,"button",10),d._uU(22," SUBMIT "),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("formGroup",r.newFeatureForm))},directives:[g0,n0,sd,TE,CE,fB,jp,t0,tg,oB,bT,Mk],encapsulation:2,changeDetection:0}),n})(),iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-new-feature-page"]],decls:2,vars:0,consts:[[1,"flex","justify-center","items-center","h-full","w-full"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"lib-create-feature"),d.qZA())},directives:[rz],encapsulation:2,changeDetection:0}),n})(),sz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[],imports:[[Fs,xk,Jc.forChild([{path:"",resolve:[iV],component:tz},{path:"new-feature",component:iz}]),bB,YG,KG,$G,GG,QG]]}),n})();const oz=[{path:"",loadChildren:()=>sz}];let az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Jc.forRoot(oz)],Jc]}),n})(),lz=(()=>{class n{constructor(){this.title="features"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"bg-indigo-900","h-full"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"router-outlet"),d.qZA())},directives:[Nu],styles:[""]}),n})();const sV_firebase={projectId:"lowgular-features",appId:"1:948846251352:web:c96e65891063c9d219692d",databaseURL:"https://lowgular-features-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"lowgular-features.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyAAUYz0ORKU-mg0fwUnjBiqHqHh7sfw2ww",authDomain:"lowgular-features.firebaseapp.com",messagingSenderId:"948846251352"};let uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[lz]}),n.\u0275inj=d.cJS({providers:[],imports:[[Wo,az,cl.hO.initializeApp(sV_firebase),lT]]}),n})();(0,d.G48)(),El().bootstrapModule(uz).catch(n=>console.error(n))},5867:(Xe,ve,k)=>{k.d(ve,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=k(9681);(0,d.registerVersion)("firebase","9.9.0","app")},127:(Xe,ve,k)=>{k.d(ve,{Z:()=>d.Z});var d=k(3942);d.Z.registerVersion("firebase","9.9.0","app-compat")},1451:(Xe,ve,k)=>{k.r(ve);var d=k(5861),J=k(3942),P=k(2090),de=k(9681),se=k(655),pe=k(1877),ie=k(4859);const Re=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new pe.Yd("@firebase/auth");function Ye(y,...p){Ge.logLevel<=pe.in.ERROR&&Ge.error(`Auth (${de.SDK_VERSION}): ${y}`,...p)}function Te(y,...p){throw Ue(y,...p)}function _e(y,...p){return Ue(y,...p)}function Ee(y,p,m){const b=Object.assign(Object.assign({},Be()),{[p]:m});return new P.LL("auth","Firebase",b).create(p,{appName:y.name})}function Le(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Te(y,"argument-error"),Ee(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return he.create(y,...p)}function W(y,p,...m){if(!y)throw Ue(p,...m)}function be(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ye(p),new Error(p)}function Y(y,p){y||be(p)}const ne=new Map;function ee(y){Y(y instanceof Function,"Expected a class definition");let p=ne.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ne.set(y,p),p)}function ke(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ht(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Jt{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Vt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class on{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wr=new Jt(3e4,6e4);function Zt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Nt(y,p,m,b){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,d.Z)(function*(y,p,m,b,T={}){return $r(y,T,(0,d.Z)(function*(){let R={},K={};b&&("GET"===p?K=b:R={body:JSON.stringify(b)});const ce=(0,P.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),on.fetch()(As(y,y.config.apiHost,m,ce),Object.assign({method:p,headers:Ne,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function $r(y,p,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Yt),p);try{const T=new Pr(y),R=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw ki(y,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const ce=R.ok?K.errorMessage:K.error.message,[Ne,We]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw ki(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ne)throw ki(y,"email-already-in-use",K);if("USER_DISABLED"===Ne)throw ki(y,"user-disabled",K);const vt=b[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ee(y,vt,We);Te(y,vt)}}catch(T){if(T instanceof P.ZR)throw T;Te(y,"network-request-failed")}})).apply(this,arguments)}function kr(y,p,m,b){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.Z)(function*(y,p,m,b,T={}){const R=yield Nt(y,p,m,b,T);return"mfaPendingCredential"in R&&Te(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function As(y,p,m,b){const T=`${p}${m}?${b}`;return y.config.emulator?Mn(y.config,T):`${y.config.apiScheme}://${T}`}class Pr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),wr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ki(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=_e(y,p,b);return T.customData._tokenResponse=m,T}function Nr(){return(Nr=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function xn(y,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pi(y,p){return es.apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function On(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Fo(){return(Fo=(0,d.Z)(function*(y,p=!1){const m=(0,P.m9)(y),b=yield m.getIdToken(p),T=ot(b);W(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:T,token:b,authTime:On(zt(T.auth_time)),issuedAtTime:On(zt(T.iat)),expirationTime:On(zt(T.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function zt(y){return 1e3*Number(y)}function ot(y){var p;const[m,b,T]=y.split(".");if(void 0===m||void 0===b||void 0===T)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,P.tV)(b);return R?JSON.parse(R):(Ye("Failed to decode base64 JWT payload"),null)}catch(R){return Ye("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function cr(y,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof P.ZR&&Bt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Bt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ms{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class dr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(y){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),T=yield cr(y,Pi(m,{idToken:b}));W(null==T?void 0:T.users.length,m,"internal-error");const R=T.users[0];y._notifyReloadListener(R);const K=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?V(R.providerUserInfo):[],ce=z(y.providerData,K),vt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==ce?void 0:ce.length)),pt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new dr(R.createdAt,R.lastLoginAt),isAnonymous:vt};Object.assign(y,pt)})).apply(this,arguments)}function U(){return(U=(0,d.Z)(function*(y){const p=(0,P.m9)(y);yield Er(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function z(y,p){return[...y.filter(b=>!p.some(T=>T.providerId===b.providerId)),...p]}function V(y){return y.map(p=>{var{providerId:m}=p,b=(0,se._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function q(){return(q=(0,d.Z)(function*(y,p){const m=yield $r(y,{},(0,d.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:R}=y.config,K=As(y,T,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",on.fetch()(K,{method:"POST",headers:ce,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){W(p.idToken,"internal-error"),W(void 0!==p.idToken,"internal-error"),W(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function wt(y){const p=ot(y);return W(p,"internal-error"),W(void 0!==p.exp,"internal-error"),W(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,d.Z)(function*(){return W(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:K}=yield function j(y,p){return q.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(T,R,Number(K))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:T,expirationTime:R}=m,K=new xe;return b&&(W("string"==typeof b,"internal-error",{appName:p}),K.refreshToken=b),T&&(W("string"==typeof T,"internal-error",{appName:p}),K.accessToken=T),R&&(W("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return be("not implemented")}}function Ve(y,p){W("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ct{constructor(p){var{uid:m,auth:b,stsTokenManager:T}=p,R=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new dr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const b=yield cr(m,m.stsTokenManager.getToken(m.auth,p));return W(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function pi(y){return Fo.apply(this,arguments)}(this,p)}reload(){return function xs(y){return U.apply(this,arguments)}(this)}_assign(p){this!==p&&(W(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ct(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,d.Z)(function*(){let T=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield Er(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield cr(p,function yt(y,p){return Nr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,T,R,K,ce,Ne,We,vt;const pt=null!==(b=m.displayName)&&void 0!==b?b:void 0,An=null!==(T=m.email)&&void 0!==T?T:void 0,ri=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Vu=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Ym=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,ia=null!==(Ne=m._redirectEventId)&&void 0!==Ne?Ne:void 0,Yc=null!==(We=m.createdAt)&&void 0!==We?We:void 0,Qc=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Eh,emailVerified:Xc,isAnonymous:Br,providerData:Ch,stsTokenManager:Dh}=m;W(Eh&&Dh,p,"internal-error");const Ih=xe.fromJSON(this.name,Dh);W("string"==typeof Eh,p,"internal-error"),Ve(pt,p.name),Ve(An,p.name),W("boolean"==typeof Xc,p,"internal-error"),W("boolean"==typeof Br,p,"internal-error"),Ve(ri,p.name),Ve(Vu,p.name),Ve(Ym,p.name),Ve(ia,p.name),Ve(Yc,p.name),Ve(Qc,p.name);const Gl=new ct({uid:Eh,auth:p,email:An,emailVerified:Xc,displayName:pt,isAnonymous:Br,photoURL:Vu,phoneNumber:ri,tenantId:Ym,stsTokenManager:Ih,createdAt:Yc,lastLoginAt:Qc});return Ch&&Array.isArray(Ch)&&(Gl.providerData=Ch.map(zl=>Object.assign({},zl))),ia&&(Gl._redirectEventId=ia),Gl}static _fromIdTokenResponse(p,m,b=!1){return(0,d.Z)(function*(){const T=new xe;T.updateFromServerResponse(m);const R=new ct({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:b});return yield Er(R),R})()}}const qt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,d.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Kn(y,p,m){return`firebase:${y}:${p}:${m}`}class Rt{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:T,name:R}=this.auth;this.fullUserKey=Kn(this.userKey,T.apiKey,R),this.fullPersistenceKey=Kn("persistence",T.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ct._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new Rt(ee(qt),p,b);const T=(yield Promise.all(m.map(function(){var We=(0,d.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return We.apply(this,arguments)}}()))).filter(We=>We);let R=T[0]||ee(qt);const K=Kn(b,p.config.apiKey,p.name);let ce=null;for(const We of m)try{const vt=yield We._get(K);if(vt){const pt=ct._fromJSON(p,vt);We!==R&&(ce=pt),R=We;break}}catch(vt){}const Ne=T.filter(We=>We._shouldAllowMigration);return R._shouldAllowMigration&&Ne.length?(R=Ne[0],ce&&(yield R._set(K,ce.toJSON())),yield Promise.all(m.map(function(){var We=(0,d.Z)(function*(vt){if(vt!==R)try{yield vt._remove(K)}catch(pt){}});return function(vt){return We.apply(this,arguments)}}())),new Rt(R,p,b)):new Rt(R,p,b)})()}}function zr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Un(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ni(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ts(p))return"Blackberry";if(jn(p))return"Webos";if(Lo(p))return"Safari";if((p.includes("chrome/")||ga(p))&&!p.includes("edge/"))return"Chrome";if(Cr(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ni(y=(0,P.z$)()){return/firefox\//i.test(y)}function Lo(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ga(y=(0,P.z$)()){return/crios\//i.test(y)}function Un(y=(0,P.z$)()){return/iemobile/i.test(y)}function Cr(y=(0,P.z$)()){return/android/i.test(y)}function ts(y=(0,P.z$)()){return/blackberry/i.test(y)}function jn(y=(0,P.z$)()){return/webos/i.test(y)}function Fr(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Os(y=(0,P.z$)()){return Fr(y)||Cr(y)||jn(y)||ts(y)||/windows phone/i.test(y)||Un(y)}function Vo(y,p=[]){let m;switch(y){case"Browser":m=zr((0,P.z$)());break;case"Worker":m=`${zr((0,P.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${b}`}class Lr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=R=>new Promise((K,ce)=>{try{K(p(R))}catch(Ne){ce(Ne)}});b.onAbort=m,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){var b;if(m.auth.currentUser===p)return;const T=[];try{for(const R of m.queue)yield R(p),R.onAbort&&T.push(R.onAbort)}catch(R){T.reverse();for(const K of T)try{K()}catch(ce){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=R)||void 0===b?void 0:b.message})}})()}}class ze{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rn(this),this.idTokenSubscription=new rn(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,R;if(!b._deleted&&(b.persistenceManager=yield Rt.create(b,p),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var b;const T=yield m.assertedPersistence.getCurrentUser();let R=T,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ne=null==R?void 0:R._redirectEventId,We=yield m.tryRedirectSignIn(p);(!ce||ce===Ne)&&(null==We?void 0:We.user)&&(R=We.user,K=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ce){R=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return W(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(T){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){var b;try{yield Er(p)}catch(T){if("auth/network-request-failed"!==(null===(b=T)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ke(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const b=p?(0,P.m9)(p):null;return b&&W(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&W(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,d.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&ee(p)||m._popupRedirectResolver;W(b,m,"argument-error"),m.redirectPersistenceManager=yield Rt.create(m,[ee(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,T){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return W(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,b,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function dt(y){return(0,P.m9)(y)}class rn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Li(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class gi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(p){return be("not implemented")}_linkToIdToken(p,m){return be("not implemented")}_getReauthenticationResolver(p){return be("not implemented")}}function Rn(y,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:resetPassword",Zt(y,p))})).apply(this,arguments)}function _a(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fl(y,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",Zt(y,p))})).apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPassword",Zt(y,p))})).apply(this,arguments)}function ks(y,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendOobCode",Zt(y,p))})).apply(this,arguments)}function an(y,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(y,p){return ks(y,p)})).apply(this,arguments)}function ya(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(y,p){return ks(y,p)})).apply(this,arguments)}function qr(y,p){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(y,p){return ks(y,p)})).apply(this,arguments)}function pc(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(y,p){return ks(y,p)})).apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,p))})).apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,p))})).apply(this,arguments)}class fr extends gi{constructor(p,m,b,T=null){super("password",b),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new fr(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new fr(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function Zn(y,p){return no.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Bi(y,p){return uu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return _a(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ep(y,p){return gc.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ps(y,p){return mc.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithIdp",Zt(y,p))})).apply(this,arguments)}class rs extends gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new rs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T}=m,R=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!T)return null;const K=new rs(b,T);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return Ps(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Ps(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ps(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,P.xO)(m)}return p}}function Kd(y,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendVerificationCode",Zt(y,p))})).apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,p))})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(y,p){const m=yield kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,p));if(m.temporaryProof)throw ki(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const rp={USER_NOT_FOUND:"user-not-found"};function vc(){return(vc=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),rp)})).apply(this,arguments)}class Bo extends gi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Bo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Bo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function cu(y,p){return Ns.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function np(y,p){return yc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ip(y,p){return vc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:R}=p;return b||m||T||R?new Bo({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:R}):null}}class gl{constructor(p){var m,b,T,R,K,ce;const Ne=(0,P.zd)((0,P.pd)(p)),We=null!==(m=Ne.apiKey)&&void 0!==m?m:null,vt=null!==(b=Ne.oobCode)&&void 0!==b?b:null,pt=function Zd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);W(We&&vt&&pt,"argument-error"),this.apiKey=We,this.operation=pt,this.code=vt,this.continueUrl=null!==(R=Ne.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=Ne.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ce=Ne.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const m=function ba(y){const p=(0,P.zd)((0,P.pd)(y)).link,m=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||m||p||y}(p);try{return new gl(m)}catch(b){return null}}}let wc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return fr._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=gl.parseLink(b);return W(T,"argument-error"),fr._fromEmailAndCode(m,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class pr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ro extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ui extends ro{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return W("providerId"in m&&"signInMethod"in m,"argument-error"),rs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return W(p.idToken||p.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ui.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:R,nonce:K,providerId:ce}=p;if(!b&&!T&&!m&&!R||!ce)return null;try{return new Ui(ce)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:R})}catch(Ne){return null}}}let Uo=(()=>{class y extends ro{constructor(){super("facebook.com")}static credential(m){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ec=(()=>{class y extends ro{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return y.credential(b,T)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Yd=(()=>{class y extends ro{constructor(){super("github.com")}static credential(m){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class io extends gi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ps(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Ps(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ps(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:T,pendingToken:R}=m;return b&&T&&R&&b===T?new io(b,R):null}static _create(p,m){return new io(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dr extends pr{constructor(p){W(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Dr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Dr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=io.fromJSON(p);return W(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return io._create(b,m)}catch(T){return null}}}let Cc=(()=>{class y extends ro{constructor(){super("twitter.com")}static credential(m,b){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return y.credential(b,T)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function gr(y,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signUp",Zt(y,p))})).apply(this,arguments)}class Wr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,T=!1){return(0,d.Z)(function*(){const R=yield ct._fromIdTokenResponse(p,b,T),K=du(b);return new Wr({user:R,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const T=du(b);return new Wr({user:p,providerId:T,_tokenResponse:b,operationType:m})})()}}function du(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function hu(){return(hu=(0,d.Z)(function*(y){var p;const m=dt(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Wr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield gr(m,{returnSecureToken:!0}),T=yield Wr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class $o extends P.ZR{constructor(p,m,b,T){var R;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,T){return new $o(p,m,b,T)}}function fu(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?$o._fromErrorAndOperation(y,R,p,b):R})}function ji(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ln(){return(ln=(0,d.Z)(function*(y,p){const m=(0,P.m9)(y);yield Qt(!0,m,p);const{providerUserInfo:b}=yield xn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=ji(b||[]);return m.providerData=m.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function wa(y,p){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(y,p,m=!1){const b=yield cr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Wr._forOperation(y,"link",b)})).apply(this,arguments)}function Qt(y,p,m){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(y,p,m){yield Er(p);const T=!1===y?"provider-already-linked":"no-such-provider";W(ji(p.providerData).has(m)===y,p.auth,T)})).apply(this,arguments)}function ml(y,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,d.Z)(function*(y,p,m=!1){var b;const{auth:T}=y,R="reauthenticate";try{const K=yield cr(y,fu(T,R,p,y),m);W(K.idToken,T,"internal-error");const ce=ot(K.idToken);W(ce,T,"internal-error");const{sub:Ne}=ce;return W(y.uid===Ne,T,"user-mismatch"),Wr._forOperation(y,R,K)}catch(K){throw"auth/user-not-found"===(null===(b=K)||void 0===b?void 0:b.code)&&Te(T,"user-mismatch"),K}})).apply(this,arguments)}function nr(y,p){return pu.apply(this,arguments)}function pu(){return(pu=(0,d.Z)(function*(y,p,m=!1){const b="signIn",T=yield fu(y,b,p),R=yield Wr._fromIdTokenResponse(y,b,T);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function bn(y,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(y,p){return nr(dt(y),p)})).apply(this,arguments)}function rr(y,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(y,p){const m=(0,P.m9)(y);return yield Qt(!1,m,p.providerId),wa(m,p)})).apply(this,arguments)}function is(y,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(y,p){return ml((0,P.m9)(y),p)})).apply(this,arguments)}function mi(y,p){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithCustomToken",Zt(y,p))})).apply(this,arguments)}function gt(){return(gt=(0,d.Z)(function*(y,p){const m=dt(y),b=yield mi(m,{token:p,returnSecureToken:!0}),T=yield Wr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class zo{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?_l._fromServerResponse(p,m):Te(p,"internal-error")}}class _l extends zo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new _l(m)}}function Da(y,p,m){var b;W((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),W(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(W(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(W(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ia(){return(Ia=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y),T={requestType:"PASSWORD_RESET",email:p};m&&Da(b,T,m),yield ya(b,T)})).apply(this,arguments)}function _u(){return(_u=(0,d.Z)(function*(y,p,m){yield Rn((0,P.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(y,p){yield fl((0,P.m9)(y),{oobCode:p})})).apply(this,arguments)}function yl(y,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(y,p){const m=(0,P.m9)(y),b=yield Rn(m,{oobCode:p}),T=b.requestType;switch(W(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(b.mfaInfo,m,"internal-error");default:W(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=zo._fromServerResponse(dt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(y,p){const{data:m}=yield yl((0,P.m9)(y),p);return m.email})).apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(y,p,m){const b=dt(y),T=yield gr(b,{returnSecureToken:!0,email:p,password:m}),R=yield Wr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function vl(){return(vl=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};W(m.handleCodeInApp,b,"argument-error"),m&&Da(b,T,m),yield qr(b,T)})).apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y),T=wc.credentialWithLink(p,m||ke());return W(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),bn(b,T)})).apply(this,arguments)}function ss(y,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:createAuthUri",Zt(y,p))})).apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:ht()?ke():"http://localhost"},{signinMethods:T}=yield ss((0,P.m9)(y),b);return T||[]})).apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(y,p){const m=(0,P.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Da(m.auth,T,p);const{email:R}=yield an(m.auth,T);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Da(b.auth,R,m);const{email:K}=yield pc(b.auth,R);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ma(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,P.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield cr(b,Ma(b.auth,R));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const ce=b.providerData.find(({providerId:Ne})=>"password"===Ne);ce&&(ce.displayName=b.displayName,ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ko(y,p,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(y,p,m){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield cr(y,_a(b,R));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Zo{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Sc extends Zo{constructor(p,m,b,T){super(p,m,b),this.username=T}}class Yo extends Zo{constructor(p,m){super(p,"facebook.com",m)}}class Gi extends Sc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Xd extends Zo{constructor(p,m){super(p,"google.com",m)}}class Yn extends Sc{constructor(p,m,b){super(p,"twitter.com",m,b)}}function zi(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ic(y){var p,m;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const K=null===(m=null===(p=ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Zo(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new Yo(R,T);case"github.com":return new Gi(R,T);case"google.com":return new Xd(R,T);case"twitter.com":return new Yn(R,T,y.screenName||null);case"custom":case"anonymous":return new Zo(R,null);default:return new Zo(R,b,T)}}(m)}class os{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new os("enroll",p)}static _fromMfaPendingCredential(p){return new os("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return os._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return os._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qo{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=dt(p),T=m.customData._serverResponse,R=(T.mfaInfo||[]).map(ce=>zo._fromServerResponse(b,ce));W(T.mfaPendingCredential,b,"internal-error");const K=os._fromMfaPendingCredential(T.mfaPendingCredential);return new Qo(K,R,function(){var ce=(0,d.Z)(function*(Ne){const We=yield Ne._process(b,K);delete T.mfaInfo,delete T.mfaPendingCredential;const vt=Object.assign(Object.assign({},T),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const pt=yield Wr._fromIdTokenResponse(b,m.operationType,vt);return yield b._updateCurrentUser(pt.user),pt;case"reauthenticate":return W(m.user,b,"internal-error"),Wr._forOperation(m.user,m.operationType,vt);default:Te(b,"internal-error")}});return function(Ne){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function eh(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:start",Zt(y,p))}class Mc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>zo._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Mc(p)}getSession(){var p=this;return(0,d.Z)(function*(){return os._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,d.Z)(function*(){const T=p,R=yield b.getSession(),K=yield cr(b.user,T._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){var b;const T="string"==typeof p?p:p.uid,R=yield m.user.getIdToken(),K=yield cr(m.user,function Cl(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(y,p))}(m.user.auth,{idToken:R,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ce})=>ce!==T),yield m.user._updateTokensIfNecessary(K);try{yield m.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(b=ce)||void 0===b?void 0:b.code))throw ce}})()}}const Dl=new WeakMap,uo="__sak";class xc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,"1"),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const jt=(()=>{class y extends xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lp(){const y=(0,P.z$)();return Lo(y)||Fr(y)}()&&function tr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Os(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),R=this.localCache[b];T!==R&&m(b,R,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ce,Ne,We)=>{this.notifyListeners(ce,We)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(T);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const R=()=>{const ce=this.storage.getItem(T);!b&&this.localCache[T]===ce||this.notifyListeners(T,ce)},K=this.storage.getItem(T);!function ma(){return(0,P.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const R of Array.from(T))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,R=this;return(0,d.Z)(function*(){yield T().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,d.Z)(function*(){const R=yield b().call(T,m);return T.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,T=this;return(0,d.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return y.type="LOCAL",y})(),_n=(()=>{class y extends xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Oc=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const T=new y(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const T=m,{eventId:R,eventType:K,data:ce}=T.data,Ne=b.handlersMap[K];if(!(null==Ne?void 0:Ne.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const We=Array.from(Ne).map(function(){var pt=(0,d.Z)(function*(An){return An(T.origin,ce)});return function(An){return pt.apply(this,arguments)}}()),vt=yield function Cu(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(We);T.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:vt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function qi(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Du{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var T=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,ce;return new Promise((Ne,We)=>{const vt=qi("",20);R.port1.start();const pt=setTimeout(()=>{We(new Error("unsupported_event"))},b);ce={messageChannel:R,onMessage(An){const ri=An;if(ri.data.eventId===vt)switch(ri.data.status){case"ack":clearTimeout(pt),K=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ne(ri.data.response);break;default:clearTimeout(pt),clearTimeout(K),We(new Error("invalid_response"))}}},T.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),T.target.postMessage({eventType:p,eventId:vt,data:m},[R.port2])}).finally(()=>{ce&&T.removeMessageHandler(ce)})})()}}function dn(){return window}function yi(){return void 0!==dn().WorkerGlobalScope&&"function"==typeof dn().importScripts}function Sl(){return(Sl=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Na="firebaseLocalStorageDb",Bs="firebaseLocalStorage",Fa="fbase_key";class Wi{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Us(y,p){return y.transaction([Bs],p?"readwrite":"readonly").objectStore(Bs)}function co(){const y=indexedDB.open(Na,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Bs,{keyPath:Fa})}catch(T){m(T)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Bs)?p(b):(b.close(),yield function Zr(){const y=indexedDB.deleteDatabase(Na);return new Wi(y).toPromise()}(),p(yield co()))}))})}function La(y,p,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(y,p,m){const b=Us(y,!0).put({[Fa]:p,value:m});return new Wi(b).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(y,p){const m=Us(y,!1).get(p),b=yield new Wi(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ba(y,p){const m=Us(y,!0).delete(p);return new Wi(m).toPromise()}const ir=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield co()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(T++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return yi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Oc._getInstance(function Iu(){return yi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(T,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(T,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function Ct(){return Sl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Du(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Rc(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield co();return yield La(m,uo,"1"),yield Ba(m,uo),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(R=>La(R,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const T=yield b._withRetries(R=>function fo(y,p){return Va.apply(this,arguments)}(R,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(T=>Ba(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(K=>{const ce=Us(K,!1).getAll();return new Wi(ce).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:K,value:ce}of b)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(ce)&&(m.notifyListeners(K,ce),T.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),T.push(K));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const R of Array.from(T))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function In(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:start",Zt(y,p))}function gn(){return(gn=(0,d.Z)(function*(y){return(yield Nt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $n(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=T=>{const R=_e("internal-error");R.customData=T,m(R)},b.type="text/javascript",b.charset="UTF-8",function Sr(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function js(y){return`__${y}${Math.floor(1e6*Math.random())}`}const mr=1e12;class Sn{constructor(p){this.auth=p,this.counter=mr,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Tl(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||mr;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||mr))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(p||mr))||void 0===b||b.execute(),""})()}}class Tl{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;W(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Su(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vn=js("rcb"),th=new Jt(3e4,6e4);class kc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=dn().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return W(function Ua(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(dn().grecaptcha):new Promise((b,T)=>{const R=dn().setTimeout(()=>{T(_e(p,"network-request-failed"))},th.get());dn()[vn]=()=>{dn().clearTimeout(R),delete dn()[vn];const ce=dn().grecaptcha;if(!ce)return void T(_e(p,"internal-error"));const Ne=ce.render;ce.render=(We,vt)=>{const pt=Ne(We,vt);return this.counter++,pt},this.hostLanguage=m,b(ce)},$n(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:vn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),T(_e(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=dn().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yr{load(p){return(0,d.Z)(function*(){return new Sn(p)})()}clearedOneInstance(){}}const up="recaptcha",mo={theme:"light",type:"image"};class Xo{constructor(p,m=Object.assign({},mo),b){this.parameters=m,this.type=up,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(b),this.isInvisible="invisible"===this.parameters.size,W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;W(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yr:new kc,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const K=ce=>{!ce||(p.tokenChangeListeners.delete(K),R(ce))};p.tokenChangeListeners.add(K),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=dn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){W(ht()&&!yi(),p.auth,"internal-error"),yield function Al(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ki(y){return gn.apply(this,arguments)}(p.auth);W(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Bo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Hs(){return(Hs=(0,d.Z)(function*(y,p,m){const b=dt(y),T=yield Jo(b,p,(0,P.m9)(m));return new Tn(T,R=>bn(b,R))})).apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y);yield Qt(!1,b,"phone");const T=yield Jo(b.auth,p,(0,P.m9)(m));return new Tn(T,R=>rr(b,R))})).apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y),T=yield Jo(b.auth,p,(0,P.m9)(m));return new Tn(T,R=>is(b,R))})).apply(this,arguments)}function Jo(y,p,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y,p,m){var b;const T=yield m.verify();try{let R;if(W("string"==typeof T,y,"argument-error"),W(m.type===up,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return W("enroll"===K.type,y,"internal-error"),(yield eh(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{W("signin"===K.type,y,"internal-error");const ce=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return W(ce,y,"missing-multi-factor-info"),(yield In(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Kd(y,{phoneNumber:R.phoneNumber,recaptchaToken:T});return K}}finally{m._reset()}})).apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(y,p){yield wa((0,P.m9)(y),p)})).apply(this,arguments)}let ja=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=dt(m)}verifyPhoneNumber(m,b){return Jo(this.auth,m,(0,P.m9)(b))}static credential(m,b){return Bo._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?Bo._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function yo(y,p){return p?ee(p):(W(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Au extends gi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ps(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ps(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ps(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Pt(y){return nr(y.auth,new Au(y),y.bypassAuthState)}function Rl(y){const{auth:p,user:m}=y;return W(m,p,"internal-error"),ml(m,new Au(y),y.bypassAuthState)}function Pn(y){return $s.apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return W(m,p,"internal-error"),wa(m,new Au(y),y.bypassAuthState)})).apply(this,arguments)}class wi{constructor(p,m,b,T,R=!1){this.auth=p,this.resolver=b,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(b,T){p.pendingPromise={resolve:b,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:R,tenantId:K,error:ce,type:Ne}=p;if(ce)return void m.reject(ce);const We={auth:m.auth,requestUri:b,sessionId:T,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ne)(We))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Pt;case"linkViaPopup":case"linkViaRedirect":return Pn;case"reauthViaPopup":case"reauthViaRedirect":return Rl;default:Te(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pc=new Jt(2e3,1e4);function Ha(){return(Ha=(0,d.Z)(function*(y,p,m){const b=dt(y);Le(y,p,pr);const T=yo(b,m);return new xu(b,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y);Le(b.auth,p,pr);const T=yo(b.auth,m);return new xu(b.auth,"reauthViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y);Le(b.auth,p,pr);const T=yo(b.auth,m);return new xu(b.auth,"linkViaPopup",p,T,b).executeNotNull()})).apply(this,arguments)}let xu=(()=>{class y extends wi{constructor(m,b,T,R,K){super(m,b,R,K),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return W(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=qi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Pc.get())};m()}}return y.currentPopupAction=null,y})();const Gn=new Map;class dp extends wi{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Gn.get(m.auth._key());if(!b){try{const R=(yield function $a(y,p){return Jr.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(R)}catch(T){b=()=>Promise.reject(T)}Gn.set(m.auth._key(),b)}return m.bypassAuthState||Gn.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const T=yield b.auth._redirectUserForId(p.eventId);if(T)return b.user=T,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Jr(){return(Jr=(0,d.Z)(function*(y,p){const m=Ou(p),b=Ga(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function vo(y,p){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(y,p){return Ga(y)._set(Ou(p),"true")})).apply(this,arguments)}function Nc(y,p){Gn.set(y._key(),p)}function Ga(y){return ee(y._redirectPersistence)}function Ou(y){return Kn("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,d.Z)(function*(y,p,m){const b=dt(y);Le(y,p,pr);const T=yo(b,m);return yield vo(T,b),T._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y);Le(b.auth,p,pr);const T=yo(b.auth,m);yield vo(T,b.auth);const R=yield lt(b);return T._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(y,p,m){const b=(0,P.m9)(y);Le(b.auth,p,pr);const T=yo(b.auth,m);yield Qt(!1,b,p.providerId),yield vo(T,b.auth);const R=yield lt(b);return T._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function at(){return(at=(0,d.Z)(function*(y,p){return yield dt(y)._initializationPromise,mt(y,p,!1)})).apply(this,arguments)}function mt(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(y,p,m=!1){const b=dt(y),T=yo(b,p),K=yield new dp(b,T,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,p)),K})).apply(this,arguments)}function lt(y){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(y){const p=qi(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class cs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Fc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ei(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Ei(p)){const T=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ds(p))}saveEventToCache(p){this.cachedEventUids.add(ds(p)),this.lastProcessedEventTime=Date.now()}}function ds(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ei({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Nl(y){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(y,p={}){return Nt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zi=/^https?/;function hp(){return(hp=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Nl(y);for(const m of p)try{if(fp(m))return}catch(b){}Te(y,"unauthorized-domain")})).apply(this,arguments)}function fp(y){const p=ke(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!Zi.test(m))return!1;if(yr.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const Rm=new Jt(3e4,6e4);function pp(){const y=dn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Fl=null;function Eo(y){return Fl=Fl||function sh(y){return new Promise((p,m)=>{var b,T,R;function K(){pp(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{pp(),m(_e(y,"network-request-failed"))},timeout:Rm.get()})}if(null===(T=null===(b=dn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=dn().gapi)||void 0===R?void 0:R.load)){const ce=js("iframefcb");return dn()[ce]=()=>{gapi.load?K():m(_e(y,"network-request-failed"))},$n(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ne=>m(Ne))}K()}}).catch(p=>{throw Fl=null,p})}(y),Fl}const Co=new Jt(5e3,15e3),km={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pm(y){const p=y.config;W(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Mn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:de.SDK_VERSION},T=Ll.get(y.config.apiHost);T&&(b.eid=T);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,P.xO)(b).slice(1)}`}function ea(){return ea=(0,d.Z)(function*(y){const p=yield Eo(y),m=dn().gapi;return W(m,y,"internal-error"),p.open({where:document.body,url:Pm(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:km,dontclear:!0},b=>new Promise(function(){var T=(0,d.Z)(function*(R,K){yield b.restyle({setHideOnLeave:!1});const ce=_e(y,"network-request-failed"),Ne=dn().setTimeout(()=>{K(ce)},Co.get());function We(){dn().clearTimeout(Ne),R(b)}b.ping(We).then(We,()=>{K(ce)})});return function(R,K){return T.apply(this,arguments)}}()))}),ea.apply(this,arguments)}const oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gp{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function zs(y,p,m,b,T,R){W(y.config.authDomain,y,"auth-domain-config-required"),W(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:de.SDK_VERSION,eventId:T};if(p instanceof pr){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ne,We]of Object.entries(R||{}))K[Ne]=We}if(p instanceof ro){const Ne=p.getScopes().filter(We=>""!==We);Ne.length>0&&(K.scopes=Ne.join(","))}y.tenantId&&(K.tid=y.tenantId);const ce=K;for(const Ne of Object.keys(ce))void 0===ce[Ne]&&delete ce[Ne];return`${function ku({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(ce).slice(1)}`}const Hc="webStorageSupport";class $c extends class Ob{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new $c(p)}_finalizeEnroll(p,m,b){return function lo(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function go(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:finalize",Zt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _p=(()=>{class y{constructor(){}static assertion(m){return $c._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var yp="@firebase/auth";class bp{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var T;p((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qs(){return window}function qa(){return(qa=(0,d.Z)(function*(y,p,m){var b;const{BuildInfo:T}=qs();Y(p.sessionId,"AuthEvent did not contain a session ID");const R=yield ch(p.sessionId),K={};return Fr()?K.ibi=T.packageName:Cr()?K.apn=T.packageName:Te(y,"operation-not-supported-in-this-environment"),T.displayName&&(K.appDisplayName=T.displayName),K.sessionId=R,zs(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(y){const{BuildInfo:p}=qs(),m={};Fr()?m.iosBundleId=p.packageName:Cr()?m.androidPackageName=p.packageName:Te(y,"operation-not-supported-in-this-environment"),yield Nl(y,m)})).apply(this,arguments)}function Cp(){return(Cp=(0,d.Z)(function*(y,p,m){const{cordova:b}=qs();let T=()=>{};try{yield new Promise((R,K)=>{let ce=null;function Ne(){var pt;R();const An=null===(pt=b.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof An&&An(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function We(){ce||(ce=window.setTimeout(()=>{K(_e(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&We()}p.addPassiveListener(Ne),document.addEventListener("resume",We,!1),Cr()&&document.addEventListener("visibilitychange",vt,!1),T=()=>{p.removePassiveListener(Ne),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",vt,!1),ce&&window.clearTimeout(ce)}})}finally{T()}})).apply(this,arguments)}function ch(y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(y){const p=dh(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dh(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function Rb(y){(0,de._registerComponent)(new ie.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:R,authDomain:K}=b.options;return((ce,Ne)=>{W(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),W(!(null==K?void 0:K.includes(":")),"argument-error",{appName:ce.name});const We={apiKey:R,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(y)},vt=new ze(ce,Ne,We);return function le(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ee);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(vt,m),vt})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ie.wA("auth-internal",p=>{const m=dt(p.getProvider("auth").getImmediate());return new bp(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(yp,"0.20.5",function Gc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,de.registerVersion)(yp,"0.20.5","esm2017")}("Browser");class Wc extends cs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Ul(y){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.Z)(function*(y){const p=yield Ka()._get(fh(y));return p&&(yield Ka()._remove(fh(y))),p})).apply(this,arguments)}function hh(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Ka(){return ee(jt)}function fh(y){return Kn("authEvent",y.config.apiKey,y.name)}function Wt(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,P.zd)(m.join("?"))}function Hl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function na(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Sp(y=(0,P.z$)()){return!("file:"!==na()&&"ionic:"!==na()&&"capacitor:"!==na()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function _h(){try{const y=self.localStorage,p=qi();if(y)return y.setItem(p,"1"),y.removeItem(p),!function mh(y=(0,P.z$)()){return function Tr(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Za(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return sr()&&(0,P.hl)()}return!1}function sr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ya(){return(function Gm(){return"http:"===na()||"https:"===na()}()||(0,P.ru)()||Sp())&&!function ra(){return(0,P.b$)()||(0,P.UG)()}()&&_h()&&!sr()}function Kc(){return Sp()&&"undefined"!=typeof document}function Fu(){return(Fu=(0,d.Z)(function*(){return!!Kc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ei={LOCAL:"local",NONE:"none",SESSION:"session"},Do=W,Ap="persistence";function $l(y){return yh.apply(this,arguments)}function yh(){return(yh=(0,d.Z)(function*(y){yield y._initializationPromise;const p=xp(),m=Kn(Ap,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function xp(){var y;try{return(null===(y=function Tp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const qm=W;class ti{constructor(){this.browserResolver=ee(class Lm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_n,this._completeRedirectFn=mt,this._overrideRedirectResult=Nc}_openPopup(p,m,b,T){var R=this;return(0,d.Z)(function*(){var K;Y(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ce=zs(p,m,b,ke(),T);return function Ru(y,p,m,b=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let ce="";const Ne=Object.assign(Object.assign({},oh),{width:b.toString(),height:T.toString(),top:R,left:K}),We=(0,P.z$)().toLowerCase();m&&(ce=ga(We)?"_blank":m),Ni(We)&&(p=p||"http://localhost",Ne.scrollbars="yes");const vt=Object.entries(Ne).reduce((An,[ri,Vu])=>`${An}${ri}=${Vu},`,"");if(function to(y=(0,P.z$)()){var p;return Fr(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(We)&&"_self"!==ce)return function Nm(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ce),new gp(null);const pt=window.open(p||"",ce,vt);W(pt,y,"popup-blocked");try{pt.focus()}catch(An){}return new gp(pt)}(p,ce,qi())})()}_openRedirect(p,m,b,T){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(p),function Pa(y){dn().location.href=y}(zs(p,m,b,ke(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:R}=this.eventManagers[m];return T?Promise.resolve(T):(Y(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const b=yield function Bc(y){return ea.apply(this,arguments)}(p),T=new cs(p);return b.register("authEvent",R=>(W(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=b,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Hc,{type:Hc},T=>{var R;const K=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[Hc];void 0!==K&&m(!!K),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lc(y){return hp.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Os()||Lo()||Fr()}}),this.cordovaResolver=ee(class Ip{constructor(){this._redirectPersistence=_n,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mt,this._overrideRedirectResult=Nc}_initialize(p){var m=this;return(0,d.Z)(function*(){const b=p._key();let T=m.eventManagers.get(b);return T||(T=new Wc(p),m.eventManagers.set(b,T),m.attachCallbackListeners(p,T)),T})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,T){var R=this;return(0,d.Z)(function*(){!function Vl(y){var p,m,b,T,R,K,ce,Ne,We,vt;const pt=qs();W("function"==typeof(null===(p=null==pt?void 0:pt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(void 0!==(null===(m=null==pt?void 0:pt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W("function"==typeof(null===(R=null===(T=null===(b=null==pt?void 0:pt.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(Ne=null===(ce=null===(K=null==pt?void 0:pt.cordova)||void 0===K?void 0:K.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(vt=null===(We=null==pt?void 0:pt.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield R._initialize(p);yield K.initialized(),K.resetRedirect(),function ih(){Gn.clear()}(),yield R._originValidation(p);const ce=function Bl(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:hh(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(p,b,T);yield function Vm(y,p){return Ka()._set(fh(y),p)}(p,ce);const Ne=yield function hs(y,p,m){return qa.apply(this,arguments)}(p,ce,m),We=yield function qc(y){const{cordova:p}=qs();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let T=null;b?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function fc(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(T)})})}(Ne);return function Wa(y,p,m){return Cp.apply(this,arguments)}(p,K,We)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ep(y){return zc.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:T,BuildInfo:R}=qs(),K=setTimeout((0,d.Z)(function*(){yield Ul(p),m.onEvent(Hl())}),500),ce=function(){var vt=(0,d.Z)(function*(pt){clearTimeout(K);const An=yield Ul(p);let ri=null;An&&(null==pt?void 0:pt.url)&&(ri=function Bm(y,p){var m,b;const T=function gh(y){const p=Wt(y),m=p.link?decodeURIComponent(p.link):void 0,b=Wt(m).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Wt(T).link||T||b||m||y}(p);if(T.includes("/__/auth/callback")){const R=Wt(T),K=R.firebaseError?function ph(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(b=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ne=ce?_e(ce):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(An,pt.url)),m.onEvent(ri||Hl())});return function(An){return vt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ce);const Ne=T,We=`${R.packageName.toLowerCase()}://`;qs().handleOpenURL=function(){var vt=(0,d.Z)(function*(pt){if(pt.toLowerCase().startsWith(We)&&ce({url:pt}),"function"==typeof Ne)try{Ne(pt)}catch(An){console.error(An)}});return function(pt){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_n,this._completeRedirectFn=mt,this._overrideRedirectResult=Nc}_initialize(p){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,T){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,b,T)})()}_openRedirect(p,m,b,T){var R=this;return(0,d.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,b,T)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Kc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const m=yield function zm(){return Fu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Op(y){return y.unwrap()}function Zc(y){return Rp(y)}function Rp(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ja.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Ec;break;case"facebook.com":b=Uo;break;case"github.com":b=Yd;break;case"twitter.com":b=Cc;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:K,pendingToken:ce,nonce:Ne}=p;return R||K||T||ce?ce?m.startsWith("saml.")?io._create(m,ce):rs._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:T,accessToken:R}):new Ui(m).credential({idToken:T,accessToken:R,rawNonce:Ne}):null}return y instanceof P.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function ni(y,p){return p.catch(m=>{throw m instanceof P.ZR&&function Km(y,p){var m,b;const T=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new kp(y,function Qn(y,p){var m;const b=(0,P.m9)(y),T=p;return W(p.customData.operationType,b,"argument-error"),W(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Qo._fromError(b,T)}(y,p));else if(T){const R=Rp(p),K=p;R&&(K.credential=R,K.tenantId=T.tenantId||void 0,K.email=T.email||void 0,K.phoneNumber=T.phoneNumber||void 0)}}(y,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Zc(m),additionalUserInfo:zi(m),user:Ws.getOrCreate(T)}})}function vh(y,p){return bh.apply(this,arguments)}function bh(){return(bh=(0,d.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>ni(y,m.confirm(b))}})).apply(this,arguments)}class kp{constructor(p,m){this.resolver=m,this.auth=function Wm(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ni(Op(this.auth),this.resolver.resolveSignIn(p))}}class Ws{constructor(p){this._delegate=p,this.multiFactor=function Il(y){const p=(0,P.m9)(y);return Dl.has(p)||Dl.set(p,Mc._fromUser(p)),Dl.get(p)}(p)}static getOrCreate(p){return Ws.USER_MAP.has(p)||Ws.USER_MAP.set(p,new Ws(p)),Ws.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,d.Z)(function*(){return ni(m.auth,rr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,d.Z)(function*(){return vh(b.auth,function cp(y,p,m){return Tu.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,d.Z)(function*(){return ni(m.auth,function rh(y,p,m){return Pl.apply(this,arguments)}(m._delegate,p,ti))})()}linkWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield $l(dt(m.auth)),function Q(y,p,m){return function re(y,p,m){return Ae.apply(this,arguments)}(y,p,m)}(m._delegate,p,ti)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,d.Z)(function*(){return ni(m.auth,is(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return vh(this.auth,function Qr(y,p,m){return Xr.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return ni(this.auth,function ls(y,p,m){return Mu.apply(this,arguments)}(this._delegate,p,ti))}reauthenticateWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield $l(dt(m.auth)),function S(y,p,m){return function O(y,p,m){return F.apply(this,arguments)}(y,p,m)}(m._delegate,p,ti)})()}sendEmailVerification(p){return function vu(y,p){return wl.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,d.Z)(function*(){return yield function Qd(y,p){return ln.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function op(y,p){return Ko((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Eu(y,p){return Ko((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function xl(y,p){return Ol.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function wu(y,p){return xa.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function bu(y,p,m){return El.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ws.USER_MAP=new WeakMap;const Lu=W;let Pp=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;Lu(T,"invalid-api-key",{appName:m.name}),Lu(T,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?ti:void 0;this._delegate=b.initialize({options:{persistence:Zm(T,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Vr(y,p,m){const b=dt(y);W(b._canInitEmulator,b,"emulator-config-failed"),W(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),R=Fi(p),{host:K,port:ce}=function Ln(y){const p=Fi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const R=T[1];return{host:R,port:Li(b.substr(R.length+1))}}{const[R,K]=b.split(":");return{host:R,port:Li(K)}}}(p);b.config.emulator={url:`${R}//${K}${null===ce?"":`:${ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function hn(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Ie(y,p){return kt.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return yl(this._delegate,m)}confirmPasswordReset(m,b){return function mu(y,p,m){return _u.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var T=this;return(0,d.Z)(function*(){return ni(T._delegate,function Kr(y,p,m){return Sa.apply(this,arguments)}(T._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Vs(y,p){return _i.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ta(y,p){const m=gl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Lu(Ya(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function He(y,p){return at.apply(this,arguments)}(m._delegate,ti);return b?ni(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Um(y,p){dt(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,T){const{next:R,error:K,complete:ce}=Np(m,b,T);return this._delegate.onAuthStateChanged(R,K,ce)}onIdTokenChanged(m,b,T){const{next:R,error:K,complete:ce}=Np(m,b,T);return this._delegate.onIdTokenChanged(R,K,ce)}sendSignInLinkToEmail(m,b){return function sp(y,p,m){return vl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function gu(y,p,m){return Ia.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let T;switch(function Mp(y,p){Do(Object.values(ei).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Do(p!==ei.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Do(p===ei.NONE,y,"unsupported-persistence-type"):sr()?Do(p===ei.NONE||p===ei.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Do(p===ei.NONE||_h(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ei.SESSION:T=_n;break;case ei.LOCAL:T=(yield ee(ir)._isAvailable())?ir:jt;break;case ei.NONE:T=qt;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ni(this._delegate,function Dc(y){return hu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ni(this._delegate,bn(this._delegate,m))}signInWithCustomToken(m){return ni(this._delegate,function Go(y,p){return gt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return ni(this._delegate,function yu(y,p,m){return bn((0,P.m9)(y),wc.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return ni(this._delegate,function bl(y,p,m){return kn.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return vh(this._delegate,function Ml(y,p,m){return Hs.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return Lu(Ya(),b._delegate,"operation-not-supported-in-this-environment"),ni(b._delegate,function kl(y,p,m){return Ha.apply(this,arguments)}(b._delegate,m,ti))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return Lu(Ya(),b._delegate,"operation-not-supported-in-this-environment"),yield $l(b._delegate),function Gs(y,p,m){return function bo(y,p,m){return C.apply(this,arguments)}(y,p,m)}(b._delegate,m,ti)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function qo(y,p){return ao.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ei,y})();function Np(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const T=b;return{next:K=>T(K&&Ws.getOrCreate(K)),error:p,complete:m}}function Zm(y,p){const m=function Qa(y,p){const m=xp();if(!m)return[];const b=Kn(Ap,y,p);switch(m.getItem(b)){case ei.NONE:return[qt];case ei.LOCAL:return[ir,_n];case ei.SESSION:return[_n];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(ir)&&m.push(ir),"undefined"!=typeof window)for(const b of[jt,_n])m.includes(b)||m.push(b);return m.includes(qt)||m.push(qt),m}class wh{constructor(){this.providerId="phone",this._delegate=new ja(Op(J.Z.auth()))}static credential(p,m){return ja.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}wh.PHONE_SIGN_IN_METHOD=ja.PHONE_SIGN_IN_METHOD,wh.PROVIDER_ID=ja.PROVIDER_ID;const Fp=W;class Pb{constructor(p,m,b=J.Z.app()){var T;Fp(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Xo(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fs(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Pp(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wc,FacebookAuthProvider:Uo,GithubAuthProvider:Yd,GoogleAuthProvider:Ec,OAuthProvider:Ui,SAMLAuthProvider:Dr,PhoneAuthProvider:wh,PhoneMultiFactorGenerator:_p,RecaptchaVerifier:Pb,TwitterAuthProvider:Cc,Auth:Pp,AuthCredential:gi,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(J.Z)},8306:(Xe,ve,k)=>{k.d(ve,{y:()=>G});var d=k(930),J=k(727),P=k(8822),de=k(4671);var ie=k(2416),ue=k(576),ge=k(2806);let G=(()=>{class De{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const he=new De;return he.source=this,he.operator=Be,he}subscribe(Be,he,Ce){const Ge=function je(De){return De&&De instanceof d.Lv||function te(De){return De&&(0,ue.m)(De.next)&&(0,ue.m)(De.error)&&(0,ue.m)(De.complete)}(De)&&(0,J.Nn)(De)}(Be)?Be:new d.Hp(Be,he,Ce);return(0,ge.x)(()=>{const{operator:Ye,source:Te}=this;Ge.add(Ye?Ye.call(Ge,Te):Te?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Be){try{return this._subscribe(Be)}catch(he){Be.error(he)}}forEach(Be,he){return new(he=$(he))((Ce,Ge)=>{const Ye=new d.Hp({next:Te=>{try{Be(Te)}catch(_e){Ge(_e),Ye.unsubscribe()}},error:Ge,complete:Ce});this.subscribe(Ye)})}_subscribe(Be){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Be)}[P.L](){return this}pipe(...Be){return function pe(De){return 0===De.length?de.y:1===De.length?De[0]:function(Be){return De.reduce((he,Ce)=>Ce(he),Be)}}(Be)(this)}toPromise(Be){return new(Be=$(Be))((he,Ce)=>{let Ge;this.subscribe(Ye=>Ge=Ye,Ye=>Ce(Ye),()=>he(Ge))})}}return De.create=Re=>new De(Re),De})();function $(De){var Re;return null!==(Re=null!=De?De:ie.v.Promise)&&void 0!==Re?Re:Promise}},7579:(Xe,ve,k)=>{k.d(ve,{x:()=>ie});var d=k(8306),J=k(727);const de=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(8737),pe=k(2806);let ie=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const te=new ue(this,this);return te.operator=$,te}_throwIfClosed(){if(this.closed)throw new de}next($){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next($)}})}error($){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:te}=this;for(;te.length;)te.shift().error($)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:te,isStopped:je,observers:De}=this;return te||je?J.Lc:(this.currentObservers=null,De.push($),new J.w0(()=>{this.currentObservers=null,(0,se.P)(De,$)}))}_checkFinalizedStatuses($){const{hasError:te,thrownError:je,isStopped:De}=this;te?$.error(je):De&&$.complete()}asObservable(){const $=new d.y;return $.source=this,$}}return ge.create=(G,$)=>new ue(G,$),ge})();class ue extends ie{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,te;null===(te=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===te||te.call($,G)}error(G){var $,te;null===(te=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===te||te.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,te;return null!==(te=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==te?te:J.Lc}}},930:(Xe,ve,k)=>{k.d(ve,{Hp:()=>Be,Lv:()=>te});var d=k(576),J=k(727),P=k(2416),de=k(7849),se=k(5032);const pe=ge("C",void 0,void 0);function ge(Te,_e,Ee){return{kind:Te,value:_e,error:Ee}}var G=k(3410),$=k(2806);class te extends J.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,J.Nn)(_e)&&_e.add(this)):this.destination=Ye}static create(_e,Ee,Le){return new Be(_e,Ee,Le)}next(_e){this.isStopped?Ge(function ue(Te){return ge("N",Te,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Ge(function ie(Te){return ge("E",void 0,Te)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Ge(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function De(Te,_e){return je.call(Te,_e)}class Re{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(_e)}catch(Le){he(Le)}}error(_e){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(_e)}catch(Le){he(Le)}else he(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Ee){he(Ee)}}}class Be extends te{constructor(_e,Ee,Le){let Ue;if(super(),(0,d.m)(_e)||!_e)Ue={next:null!=_e?_e:void 0,error:null!=Ee?Ee:void 0,complete:null!=Le?Le:void 0};else{let W;this&&P.v.useDeprecatedNextContext?(W=Object.create(_e),W.unsubscribe=()=>this.unsubscribe(),Ue={next:_e.next&&De(_e.next,W),error:_e.error&&De(_e.error,W),complete:_e.complete&&De(_e.complete,W)}):Ue=_e}this.destination=new Re(Ue)}}function he(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Te):(0,de.h)(Te)}function Ge(Te,_e){const{onStoppedNotification:Ee}=P.v;Ee&&G.z.setTimeout(()=>Ee(Te,_e))}const Ye={closed:!0,next:se.Z,error:function Ce(Te){throw Te},complete:se.Z}},727:(Xe,ve,k)=>{k.d(ve,{Lc:()=>pe,w0:()=>se,Nn:()=>ie});var d=k(576);const P=(0,k(3888).d)(ge=>function($){ge(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((te,je)=>`${je+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var de=k(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const De of $)De.remove(this);else $.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(De){G=De instanceof P?De.errors:[De]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const De of je)try{ue(De)}catch(Re){G=null!=G?G:[],Re instanceof P?G=[...G,...Re.errors]:G.push(Re)}}if(G)throw new P(G)}}add(G){var $;if(G&&G!==this)if(this.closed)ue(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,de.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,de.P)($,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const ge=new se;return ge.closed=!0,ge})();const pe=se.EMPTY;function ie(ge){return ge instanceof se||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function ue(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(Xe,ve,k)=>{k.d(ve,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,ve,k)=>{k.d(ve,{E:()=>J});const J=new(k(8306).y)(se=>se.complete())},8996:(Xe,ve,k)=>{k.d(ve,{D:()=>_e});var d=k(8421),J=k(5363),P=k(9468),pe=k(8306),ue=k(2202),ge=k(576),G=k(9672);function te(Ee,Le){if(!Ee)throw new Error("Iterable cannot be null");return new pe.y(Ue=>{(0,G.f)(Ue,Le,()=>{const W=Ee[Symbol.asyncIterator]();(0,G.f)(Ue,Le,()=>{W.next().then(be=>{be.done?Ue.complete():Ue.next(be.value)})},0,!0)})})}var je=k(3670),De=k(8239),Re=k(1144),Be=k(6495),he=k(2206),Ce=k(4532),Ge=k(3260);function _e(Ee,Le){return Le?function Te(Ee,Le){if(null!=Ee){if((0,je.c)(Ee))return function de(Ee,Le){return(0,d.Xf)(Ee).pipe((0,P.R)(Le),(0,J.Q)(Le))}(Ee,Le);if((0,Re.z)(Ee))return function ie(Ee,Le){return new pe.y(Ue=>{let W=0;return Le.schedule(function(){W===Ee.length?Ue.complete():(Ue.next(Ee[W++]),Ue.closed||this.schedule())})})}(Ee,Le);if((0,De.t)(Ee))return function se(Ee,Le){return(0,d.Xf)(Ee).pipe((0,P.R)(Le),(0,J.Q)(Le))}(Ee,Le);if((0,he.D)(Ee))return te(Ee,Le);if((0,Be.T)(Ee))return function $(Ee,Le){return new pe.y(Ue=>{let W;return(0,G.f)(Ue,Le,()=>{W=Ee[ue.h](),(0,G.f)(Ue,Le,()=>{let be,Y;try{({value:be,done:Y}=W.next())}catch(ne){return void Ue.error(ne)}Y?Ue.complete():Ue.next(be)},0,!0)}),()=>(0,ge.m)(null==W?void 0:W.return)&&W.return()})}(Ee,Le);if((0,Ge.L)(Ee))return function Ye(Ee,Le){return te((0,Ge.Q)(Ee),Le)}(Ee,Le)}throw(0,Ce.z)(Ee)}(Ee,Le):(0,d.Xf)(Ee)}},8421:(Xe,ve,k)=>{k.d(ve,{Xf:()=>je});var d=k(655),J=k(1144),P=k(8239),de=k(8306),se=k(3670),pe=k(2206),ie=k(4532),ue=k(6495),ge=k(3260),G=k(576),$=k(7849),te=k(8822);function je(Te){if(Te instanceof de.y)return Te;if(null!=Te){if((0,se.c)(Te))return function De(Te){return new de.y(_e=>{const Ee=Te[te.L]();if((0,G.m)(Ee.subscribe))return Ee.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,J.z)(Te))return function Re(Te){return new de.y(_e=>{for(let Ee=0;Ee<Te.length&&!_e.closed;Ee++)_e.next(Te[Ee]);_e.complete()})}(Te);if((0,P.t)(Te))return function Be(Te){return new de.y(_e=>{Te.then(Ee=>{_e.closed||(_e.next(Ee),_e.complete())},Ee=>_e.error(Ee)).then(null,$.h)})}(Te);if((0,pe.D)(Te))return Ce(Te);if((0,ue.T)(Te))return function he(Te){return new de.y(_e=>{for(const Ee of Te)if(_e.next(Ee),_e.closed)return;_e.complete()})}(Te);if((0,ge.L)(Te))return function Ge(Te){return Ce((0,ge.Q)(Te))}(Te)}throw(0,ie.z)(Te)}function Ce(Te){return new de.y(_e=>{(function Ye(Te,_e){var Ee,Le,Ue,W;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,d.KL)(Te);!(Le=yield Ee.next()).done;)if(_e.next(Le.value),_e.closed)return}catch(be){Ue={error:be}}finally{try{Le&&!Le.done&&(W=Ee.return)&&(yield W.call(Ee))}finally{if(Ue)throw Ue.error}}_e.complete()})})(Te,_e).catch(Ee=>_e.error(Ee))})}},6451:(Xe,ve,k)=>{k.d(ve,{T:()=>pe});var d=k(8189),J=k(8421),P=k(515),de=k(3269),se=k(8996);function pe(...ie){const ue=(0,de.yG)(ie),ge=(0,de._6)(ie,1/0),G=ie;return G.length?1===G.length?(0,J.Xf)(G[0]):(0,d.J)(ge)((0,se.D)(G,ue)):P.E}},5403:(Xe,ve,k)=>{k.d(ve,{x:()=>J});var d=k(930);function J(de,se,pe,ie,ue){return new P(de,se,pe,ie,ue)}class P extends d.Lv{constructor(se,pe,ie,ue,ge,G){super(se),this.onFinalize=ge,this.shouldUnsubscribe=G,this._next=pe?function($){try{pe($)}catch(te){se.error(te)}}:super._next,this._error=ue?function($){try{ue($)}catch(te){se.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(Xe,ve,k)=>{k.d(ve,{U:()=>P});var d=k(4482),J=k(5403);function P(de,se){return(0,d.e)((pe,ie)=>{let ue=0;pe.subscribe((0,J.x)(ie,ge=>{ie.next(de.call(se,ge,ue++))}))})}},8189:(Xe,ve,k)=>{k.d(ve,{J:()=>P});var d=k(5577),J=k(4671);function P(de=1/0){return(0,d.z)(J.y,de)}},5577:(Xe,ve,k)=>{k.d(ve,{z:()=>ue});var d=k(4004),J=k(8421),P=k(4482),de=k(9672),se=k(5403),ie=k(576);function ue(ge,G,$=1/0){return(0,ie.m)(G)?ue((te,je)=>(0,d.U)((De,Re)=>G(te,De,je,Re))((0,J.Xf)(ge(te,je))),$):("number"==typeof G&&($=G),(0,P.e)((te,je)=>function pe(ge,G,$,te,je,De,Re,Be){const he=[];let Ce=0,Ge=0,Ye=!1;const Te=()=>{Ye&&!he.length&&!Ce&&G.complete()},_e=Le=>Ce<te?Ee(Le):he.push(Le),Ee=Le=>{De&&G.next(Le),Ce++;let Ue=!1;(0,J.Xf)($(Le,Ge++)).subscribe((0,se.x)(G,W=>{null==je||je(W),De?_e(W):G.next(W)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Ce--;he.length&&Ce<te;){const W=he.shift();Re?(0,de.f)(G,Re,()=>Ee(W)):Ee(W)}Te()}catch(W){G.error(W)}}))};return ge.subscribe((0,se.x)(G,_e,()=>{Ye=!0,Te()})),()=>{null==Be||Be()}}(te,je,ge,$)))}},5363:(Xe,ve,k)=>{k.d(ve,{Q:()=>de});var d=k(9672),J=k(4482),P=k(5403);function de(se,pe=0){return(0,J.e)((ie,ue)=>{ie.subscribe((0,P.x)(ue,ge=>(0,d.f)(ue,se,()=>ue.next(ge),pe),()=>(0,d.f)(ue,se,()=>ue.complete(),pe),ge=>(0,d.f)(ue,se,()=>ue.error(ge),pe)))})}},3099:(Xe,ve,k)=>{k.d(ve,{B:()=>se});var d=k(8421),J=k(7579),P=k(930),de=k(4482);function se(ie={}){const{connector:ue=(()=>new J.x),resetOnError:ge=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=ie;return te=>{let je,De,Re,Be=0,he=!1,Ce=!1;const Ge=()=>{null==De||De.unsubscribe(),De=void 0},Ye=()=>{Ge(),je=Re=void 0,he=Ce=!1},Te=()=>{const _e=je;Ye(),null==_e||_e.unsubscribe()};return(0,de.e)((_e,Ee)=>{Be++,!Ce&&!he&&Ge();const Le=Re=null!=Re?Re:ue();Ee.add(()=>{Be--,0===Be&&!Ce&&!he&&(De=pe(Te,$))}),Le.subscribe(Ee),!je&&Be>0&&(je=new P.Hp({next:Ue=>Le.next(Ue),error:Ue=>{Ce=!0,Ge(),De=pe(Ye,ge,Ue),Le.error(Ue)},complete:()=>{he=!0,Ge(),De=pe(Ye,G),Le.complete()}}),(0,d.Xf)(_e).subscribe(je))})(te)}}function pe(ie,ue,...ge){if(!0===ue)return void ie();if(!1===ue)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ie()}});return ue(...ge).subscribe(G)}},9468:(Xe,ve,k)=>{k.d(ve,{R:()=>J});var d=k(4482);function J(P,de=0){return(0,d.e)((se,pe)=>{pe.add(P.schedule(()=>se.subscribe(pe),de))})}},8505:(Xe,ve,k)=>{k.d(ve,{b:()=>se});var d=k(576),J=k(4482),P=k(5403),de=k(4671);function se(pe,ie,ue){const ge=(0,d.m)(pe)||ie||ue?{next:pe,error:ie,complete:ue}:pe;return ge?(0,J.e)((G,$)=>{var te;null===(te=ge.subscribe)||void 0===te||te.call(ge);let je=!0;G.subscribe((0,P.x)($,De=>{var Re;null===(Re=ge.next)||void 0===Re||Re.call(ge,De),$.next(De)},()=>{var De;je=!1,null===(De=ge.complete)||void 0===De||De.call(ge),$.complete()},De=>{var Re;je=!1,null===(Re=ge.error)||void 0===Re||Re.call(ge,De),$.error(De)},()=>{var De,Re;je&&(null===(De=ge.unsubscribe)||void 0===De||De.call(ge)),null===(Re=ge.finalize)||void 0===Re||Re.call(ge)}))}):de.y}},4408:(Xe,ve,k)=>{k.d(ve,{o:()=>se});var d=k(727);class J extends d.w0{constructor(ie,ue){super()}schedule(ie,ue=0){return this}}const P={setInterval(pe,ie,...ue){const{delegate:ge}=P;return(null==ge?void 0:ge.setInterval)?ge.setInterval(pe,ie,...ue):setInterval(pe,ie,...ue)},clearInterval(pe){const{delegate:ie}=P;return((null==ie?void 0:ie.clearInterval)||clearInterval)(pe)},delegate:void 0};var de=k(8737);class se extends J{constructor(ie,ue){super(ie,ue),this.scheduler=ie,this.work=ue,this.pending=!1}schedule(ie,ue=0){if(this.closed)return this;this.state=ie;const ge=this.id,G=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(G,ge,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(G,this.id,ue),this}requestAsyncId(ie,ue,ge=0){return P.setInterval(ie.flush.bind(ie,this),ge)}recycleAsyncId(ie,ue,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return ue;P.clearInterval(ue)}execute(ie,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ie,ue);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ue){let G,ge=!1;try{this.work(ie)}catch($){ge=!0,G=$||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ue}=this,{actions:ge}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ge,this),null!=ie&&(this.id=this.recycleAsyncId(ue,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,ve,k)=>{k.d(ve,{v:()=>P});var d=k(6063);class J{constructor(se,pe=J.now){this.schedulerActionCtor=se,this.now=pe}schedule(se,pe=0,ie){return new this.schedulerActionCtor(this,se).schedule(ie,pe)}}J.now=d.l.now;class P extends J{constructor(se,pe=J.now){super(se,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:pe}=this;if(this._active)return void pe.push(se);let ie;this._active=!0;do{if(ie=se.execute(se.state,se.delay))break}while(se=pe.shift());if(this._active=!1,ie){for(;se=pe.shift();)se.unsubscribe();throw ie}}}},4986:(Xe,ve,k)=>{k.d(ve,{z:()=>P,P:()=>de});var d=k(4408);const P=new(k(7565).v)(d.o),de=P},6063:(Xe,ve,k)=>{k.d(ve,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Xe,ve,k)=>{k.d(ve,{z:()=>d});const d={setTimeout(J,P,...de){const{delegate:se}=d;return(null==se?void 0:se.setTimeout)?se.setTimeout(J,P,...de):setTimeout(J,P,...de)},clearTimeout(J){const{delegate:P}=d;return((null==P?void 0:P.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Xe,ve,k)=>{k.d(ve,{h:()=>J});const J=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,ve,k)=>{k.d(ve,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xe,ve,k)=>{k.d(ve,{jO:()=>de,yG:()=>se,_6:()=>pe});var d=k(576),J=k(3532);function P(ie){return ie[ie.length-1]}function de(ie){return(0,d.m)(P(ie))?ie.pop():void 0}function se(ie){return(0,J.K)(P(ie))?ie.pop():void 0}function pe(ie,ue){return"number"==typeof P(ie)?ie.pop():ue}},8737:(Xe,ve,k)=>{function d(J,P){if(J){const de=J.indexOf(P);0<=de&&J.splice(de,1)}}k.d(ve,{P:()=>d})},3888:(Xe,ve,k)=>{function d(J){const de=J(se=>{Error.call(se),se.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}k.d(ve,{d:()=>d})},2806:(Xe,ve,k)=>{k.d(ve,{x:()=>P,O:()=>de});var d=k(2416);let J=null;function P(se){if(d.v.useDeprecatedSynchronousErrorHandling){const pe=!J;if(pe&&(J={errorThrown:!1,error:null}),se(),pe){const{errorThrown:ie,error:ue}=J;if(J=null,ie)throw ue}}else se()}function de(se){d.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=se)}},9672:(Xe,ve,k)=>{function d(J,P,de,se=0,pe=!1){const ie=P.schedule(function(){de(),pe?J.add(this.schedule(null,se)):this.unsubscribe()},se);if(J.add(ie),!pe)return ie}k.d(ve,{f:()=>d})},4671:(Xe,ve,k)=>{function d(J){return J}k.d(ve,{y:()=>d})},1144:(Xe,ve,k)=>{k.d(ve,{z:()=>d});const d=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Xe,ve,k)=>{k.d(ve,{D:()=>J});var d=k(576);function J(P){return Symbol.asyncIterator&&(0,d.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Xe,ve,k)=>{function d(J){return"function"==typeof J}k.d(ve,{m:()=>d})},3670:(Xe,ve,k)=>{k.d(ve,{c:()=>P});var d=k(8822),J=k(576);function P(de){return(0,J.m)(de[d.L])}},6495:(Xe,ve,k)=>{k.d(ve,{T:()=>P});var d=k(2202),J=k(576);function P(de){return(0,J.m)(null==de?void 0:de[d.h])}},8239:(Xe,ve,k)=>{k.d(ve,{t:()=>J});var d=k(576);function J(P){return(0,d.m)(null==P?void 0:P.then)}},3260:(Xe,ve,k)=>{k.d(ve,{Q:()=>P,L:()=>de});var d=k(655),J=k(576);function P(se){return(0,d.FC)(this,arguments,function*(){const ie=se.getReader();try{for(;;){const{value:ue,done:ge}=yield(0,d.qq)(ie.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ue)}}finally{ie.releaseLock()}})}function de(se){return(0,J.m)(null==se?void 0:se.getReader)}},3532:(Xe,ve,k)=>{k.d(ve,{K:()=>J});var d=k(576);function J(P){return P&&(0,d.m)(P.schedule)}},4482:(Xe,ve,k)=>{k.d(ve,{A:()=>J,e:()=>P});var d=k(576);function J(de){return(0,d.m)(null==de?void 0:de.lift)}function P(de){return se=>{if(J(se))return se.lift(function(pe){try{return de(pe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,ve,k)=>{function d(){}k.d(ve,{Z:()=>d})},7849:(Xe,ve,k)=>{k.d(ve,{h:()=>P});var d=k(2416),J=k(3410);function P(de){J.z.setTimeout(()=>{const{onUnhandledError:se}=d.v;if(!se)throw de;se(de)})}},4532:(Xe,ve,k)=>{function d(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(ve,{z:()=>d})},655:(Xe,ve,k)=>{function de(Y,ne){var ee={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&ne.indexOf(me)<0&&(ee[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(me=Object.getOwnPropertySymbols(Y);le<me.length;le++)ne.indexOf(me[le])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[le])&&(ee[me[le]]=Y[me[le]])}return ee}function ue(Y,ne,ee,me){return new(ee||(ee=Promise))(function(ke,ht){function Gt(Jt){try{Ke(me.next(Jt))}catch(Mn){ht(Mn)}}function Vt(Jt){try{Ke(me.throw(Jt))}catch(Mn){ht(Mn)}}function Ke(Jt){Jt.done?ke(Jt.value):function le(ke){return ke instanceof ee?ke:new ee(function(ht){ht(ke)})}(Jt.value).then(Gt,Vt)}Ke((me=me.apply(Y,ne||[])).next())})}function he(Y){return this instanceof he?(this.v=Y,this):new he(Y)}function Ce(Y,ne,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,me=ee.apply(Y,ne||[]),ke=[];return le={},ht("next"),ht("throw"),ht("return"),le[Symbol.asyncIterator]=function(){return this},le;function ht(on){me[on]&&(le[on]=function(Yt){return new Promise(function(wr,Zt){ke.push([on,Yt,wr,Zt])>1||Gt(on,Yt)})})}function Gt(on,Yt){try{!function Vt(on){on.value instanceof he?Promise.resolve(on.value.v).then(Ke,Jt):Mn(ke[0][2],on)}(me[on](Yt))}catch(wr){Mn(ke[0][3],wr)}}function Ke(on){Gt("next",on)}function Jt(on){Gt("throw",on)}function Mn(on,Yt){on(Yt),ke.shift(),ke.length&&Gt(ke[0][0],ke[0][1])}}function Ye(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ne=Y[Symbol.asyncIterator];return ne?ne.call(Y):(Y=function te(Y){var ne="function"==typeof Symbol&&Symbol.iterator,ee=ne&&Y[ne],me=0;if(ee)return ee.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(ke){ee[ke]=Y[ke]&&function(ht){return new Promise(function(Gt,Vt){!function le(ke,ht,Gt,Vt){Promise.resolve(Vt).then(function(Ke){ke({value:Ke,done:Gt})},ht)}(Gt,Vt,(ht=Y[ke](ht)).done,ht.value)})}}}k.d(ve,{_T:()=>de,mG:()=>ue,qq:()=>he,FC:()=>Ce,KL:()=>Ye})},5e3:(Xe,ve,k)=>{k.d(ve,{deG:()=>th,tb:()=>mf,AFp:()=>nv,ip1:()=>ev,CZH:()=>tv,hGG:()=>mk,z2F:()=>Dd,sBO:()=>xE,Sil:()=>IT,_Vd:()=>Og,EJc:()=>CT,SBq:()=>af,qLn:()=>Zc,vpe:()=>Ao,tBr:()=>mt,XFs:()=>yt,OlP:()=>vn,zs3:()=>aa,ZZ4:()=>FE,aQg:()=>vf,soG:()=>iv,YKP:()=>Hw,h0i:()=>cf,PXZ:()=>ZR,R0b:()=>xo,FiY:()=>Dt,Lbi:()=>yE,g9A:()=>_E,n_E:()=>ul,Qsj:()=>Qu,FYo:()=>Lw,JOm:()=>T,tp0:()=>En,Rgc:()=>ff,dDg:()=>_f,q4F:()=>Bw,GfV:()=>Vw,s_b:()=>Xu,ifc:()=>zt,eFA:()=>LT,G48:()=>QR,Gpc:()=>$,f3M:()=>F,X6Q:()=>UT,_c5:()=>ZT,VLi:()=>WR,c2e:()=>vE,zSh:()=>B_,wAp:()=>bt,vHH:()=>Re,cg1:()=>Ht,kL8:()=>py,dqk:()=>Bt,sIi:()=>ug,CqO:()=>bI,QGY:()=>$0,F4k:()=>vI,RDi:()=>fu,AaK:()=>ue,qOj:()=>cd,TTD:()=>Ui,_Bn:()=>sf,xp6:()=>l_,uIk:()=>Hh,Gre:()=>tw,ekj:()=>Y0,Suo:()=>qy,Xpm:()=>Ve,lG2:()=>Lo,Yz7:()=>Yt,cJS:()=>Zt,oAB:()=>Rt,Yjl:()=>ga,Y36:()=>cg,_UZ:()=>H0,BQk:()=>ty,ynx:()=>ey,qZA:()=>J_,TgZ:()=>X_,EpF:()=>yI,n5z:()=>Ki,Ikx:()=>aw,LFG:()=>S,$8M:()=>Sr,$Z:()=>mI,NdJ:()=>G0,CRH:()=>eE,oxw:()=>DI,ALo:()=>Fg,lcZ:()=>Kw,Hsn:()=>SI,F$t:()=>II,Q6J:()=>U0,iGM:()=>eu,MAs:()=>P0,CHM:()=>yl,LSH:()=>jl,Udp:()=>Z0,YNc:()=>rI,_uU:()=>eS,Oqu:()=>Q0,hij:()=>oy,Gf:()=>zy});var d=k(7579),J=k(727),P=k(8306),de=k(6451),se=k(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=pe({__forward_ref__:pe});function $(s){return s.__forward_ref__=$,s.toString=function(){return ue(this())},s}function te(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}class Re extends Error{constructor(o,l){super(function Be(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function _e(s,o){const l=o?` in ${o}`:"";throw new Re(-201,`No provider for ${Ce(s)} found${l}`)}function Vt(s,o){null==s&&function Ke(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nt(s){return Ji(s,Ri)||Ji(s,Pr)}function Ji(s,o){return s.hasOwnProperty(o)?s[o]:null}function kr(s){return s&&(s.hasOwnProperty(As)||s.hasOwnProperty(ki))?s[As]:null}const Ri=pe({\u0275prov:pe}),As=pe({\u0275inj:pe}),Pr=pe({ngInjectableDef:pe}),ki=pe({ngInjectorDef:pe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Nr;function Bn(s){const o=Nr;return Nr=s,o}function Pi(s,o,l){const u=Nt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&yt.Optional?null:void 0!==o?o:void _e(ue(s),"Injector")}function On(s){return{toString:s}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),zt=(()=>{return(s=zt||(zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",zt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,cr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=ot||"undefined"!=typeof global&&global||wt||cr,Er={},ft=[],xs=pe({\u0275cmp:pe}),U=pe({\u0275dir:pe}),z=pe({\u0275pipe:pe}),V=pe({\u0275mod:pe}),j=pe({\u0275fac:pe}),q=pe({__NG_ELEMENT_ID__:pe});let xe=0;function Ve(s){return On(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||zt.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return u.id+=xe++,u.inputs=Ni(s.inputs,l),u.outputs=Ni(s.outputs),g&&g.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(nn):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(qt):null,u})}function nn(s){return Un(s)||function Cr(s){return s[U]||null}(s)}function qt(s){return function ts(s){return s[z]||null}(s)}const Kn={};function Rt(s){return On(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Kn[s.id]=s.type),o})}function Ni(s,o){if(null==s)return Er;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=u,o&&(o[h]=g)}return l}const Lo=Ve;function ga(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Un(s){return s[xs]||null}function jn(s,o){const l=s[V]||null;if(!l&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return l}function hr(s){return Array.isArray(s)&&"object"==typeof s[1]}function qr(s){return Array.isArray(s)&&!0===s[1]}function va(s){return 0!=(8&s.flags)}function pc(s){return 2==(2&s.flags)}function Vi(s){return 1==(1&s.flags)}function Bi(s){return null!==s.template}function uu(s){return 0!=(512&s[2])}function pr(s,o){return s.hasOwnProperty(j)?s[j]:null}class ro{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ui(){return Uo}function Uo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Yd),Ec}function Ec(){const s=io(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Er)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Yd(s,o,l,u){const h=io(s)||function jo(s,o){return s[Fs]=o}(s,{previous:Er,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];g[E]=new ro(D&&D.currentValue,o,v===Er),s[u]=o}Ui.ngInherit=!0;const Fs="__ngSimpleChanges__";function io(s){return s[Fs]||null}let $o;function fu(s){$o=s}function ln(s){return!!s.listen}const wa={createRenderer:(s,o)=>function ji(){return void 0!==$o?$o:"undefined"!=typeof document?document:void 0}()};function Qt(s){for(;Array.isArray(s);)s=s[0];return s}function Ls(s,o){return Qt(o[s])}function nr(s,o){return Qt(o[s.index])}function bn(s,o){return s.data[o]}function Hi(s,o){return s[o]}function rr(s,o){const l=o[s];return hr(l)?l:l[0]}function oo(s){return 4==(4&s[2])}function is(s){return 128==(128&s[2])}function mi(s,o){return null==o?null:s[o]}function $i(s){s[18]=0}function Go(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const gt={lFrame:Ic(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ia(){return gt.bindingsEnabled}function Ie(){return gt.lFrame.lView}function kt(){return gt.lFrame.tView}function yl(s){return gt.lFrame.contextLView=s,s[8]}function fn(){let s=qo();for(;null!==s&&64===s.type;)s=s.parent;return s}function qo(){return gt.lFrame.currentTNode}function Kr(s,o){const l=gt.lFrame;l.currentTNode=s,l.isParent=o}function Sa(){return gt.lFrame.isParent}function yu(){gt.lFrame.isParent=!1}function Ta(){return gt.isInCheckNoChangesMode}function bl(s){gt.isInCheckNoChangesMode=s}function Vs(){return gt.lFrame.bindingIndex++}function _i(s){const o=gt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function bu(s,o){const l=gt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ma(o)}function Ma(s){gt.lFrame.currentDirectiveIndex=s}function wu(){return gt.lFrame.currentQueryIndex}function xa(s){gt.lFrame.currentQueryIndex=s}function op(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Eu(s,o,l){if(l&yt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&yt.Host||(h=op(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=gt.lFrame=Oa();return u.currentTNode=o,u.lView=s,!0}function Ko(s){const o=Oa(),l=s[1];gt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Oa(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?Ic(s):o}function Ic(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zo(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Sc=Zo;function Yo(){const s=Zo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yn(){return gt.lFrame.selectedIndex}function zi(s){gt.lFrame.selectedIndex=s}function Dn(){const s=gt.lFrame;return bn(s.tView,s.selectedIndex)}function Ac(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(l,x)}}function Ra(s,o,l){Qn(s,o,3,l)}function os(s,o,l,u){(3&s[2])===l&&Qn(s,o,l,u)}function Qo(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Qn(s,o,l,u){const g=null!=u?u:-1,v=o.length-1;let E=0;for(let D=void 0!==u?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=u&&E>=u)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(eh(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function eh(s,o,l,u){const h=l[u]<0,g=l[u+1],E=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Cl{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Je(s,o,l){const u=ln(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],E=l[h++],D=l[h++];u?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=l[++h];Ir(v)?u&&s.setProperty(o,v,E):u?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function jt(s){return 3===s||4===s||6===s}function Ir(s){return 64===s.charCodeAt(0)}function _n(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||Cu(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function Cu(s,o,l,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function Oc(s){return-1!==s}function qi(s){return 32767&s}function dn(s,o){let l=function Du(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let Pa=!0;function yi(s){const o=Pa;return Pa=s,o}let Iu=0;function pn(s,o){const l=Fa(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Bs(u.data,s),Bs(o,null),Bs(u.blueprint,null));const h=Wi(s,o),g=s.injectorIndex;if(Oc(h)){const v=qi(h),E=dn(h,o),D=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|D[v+A]}return o[g+8]=h,g}function Bs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Fa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Wi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(u=2===v?g.declTNode:1===v?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Us(s,o,l){!function Na(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(q)&&(u=l[q]),null==u&&(u=l[q]=Iu++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function co(s,o,l){if(l&yt.Optional)return s;_e(o,"NodeInjector")}function La(s,o,l,u){if(l&yt.Optional&&void 0===u&&(u=null),0==(l&(yt.Self|yt.Host))){const h=s[9],g=Bn(void 0);try{return h?h.get(o,u,l&yt.Optional):Pi(o,u,l&yt.Optional)}finally{Bn(g)}}return co(u,o,l)}function ho(s,o,l,u=yt.Default,h){if(null!==s){const g=function as(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(q)?s[q]:void 0;return"number"==typeof o?o>=0?255&o:Va:o}(l);if("function"==typeof g){if(!Eu(o,s,u))return u&yt.Host?co(h,l,u):La(o,l,u,h);try{const v=g(u);if(null!=v||u&yt.Optional)return v;_e(l)}finally{Sc()}}else if("number"==typeof g){let v=null,E=Fa(s,o),D=-1,A=u&yt.Host?o[16][6]:null;for((-1===E||u&yt.SkipSelf)&&(D=-1===E?Wi(s,o):o[E+8],-1!==D&&In(u,!1)?(v=o[1],E=qi(D),o=dn(D,o)):E=-1);-1!==E;){const x=o[1];if(ir(g,E,x.data)){const N=Ba(E,o,l,v,u,A);if(N!==fo)return N}D=o[E+8],-1!==D&&In(u,o[1].data[E+8]===A)&&ir(g,E,o)?(v=x,E=qi(D),o=dn(D,o)):E=-1}}}return La(o,l,u,h)}const fo={};function Va(){return new go(fn(),Ie())}function Ba(s,o,l,u,h,g){const v=o[1],E=v.data[s+8],x=vi(E,v,l,null==u?pc(E)&&Pa:u!=v&&0!=(3&E.type),h&yt.Host&&g===E);return null!==x?po(o,v,x,E):fo}function vi(s,o,l,u,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,x=g>>20,H=h?E+x:s.directiveEnd;for(let X=u?E:E+x;X<H;X++){const ye=v[X];if(X<D&&l===ye||X>=D&&ye.type===l)return X}if(h){const X=v[D];if(X&&Bi(X)&&X.type===l)return D}return null}function po(s,o,l,u){let h=s[l];const g=o.data;if(function Mc(s){return s instanceof Cl}(h)){const v=h;v.resolving&&function Ge(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(Ce(g[l]));const E=yi(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Bn(v.injectImpl):null;Eu(s,u,yt.Default);try{h=s[l]=v.factory(void 0,g,s,u),o.firstCreatePass&&l>=u.directiveStart&&function ap(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=Uo(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&Bn(D),yi(E),v.resolving=!1,Sc()}}return h}function ir(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function In(s,o){return!(s&yt.Self||s&yt.Host&&o)}class go{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return ho(this._tNode,this._lView,o,u,l)}}function Ki(s){return On(()=>{const o=s.prototype.constructor,l=o[j]||gn(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[j]||gn(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function gn(s){return je(s)?()=>{const o=gn(te(s));return o&&o()}:pr(s)}function Sr(s){return function Zr(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const g=l[h];if(jt(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(fn(),s)}const js="__parameters__";function Sn(s,o,l){return On(()=>{const u=function mr(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,A,x){const N=D.hasOwnProperty(js)?D[js]:Object.defineProperty(D,js,{value:[]})[js];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class vn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const th=new vn("AnalyzeForEntryComponents");function Qr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),Qr(u,o)):o!==s&&o.push(u)}return o}function Xr(s,o){s.forEach(l=>Array.isArray(l)?Xr(l,o):o(l))}function Jo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function _o(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function xl(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Pn(s,o,l){let u=wi(s,o);return u>=0?s[1|u]=l:(u=~u,function yo(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function $s(s,o){const l=wi(s,o);if(l>=0)return s[1|l]}function wi(s,o){return function kl(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const g=u+(h-u>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:u=g+1}return~(h<<l)}(s,o,1)}const $a={},Jr="__NG_DI_FLAG__",vo="ngTempTokenPath",ih=/\n/gm,Ga="__source",Ou=pe({provide:String,useValue:pe});let Gs;function bo(s){const o=Gs;return Gs=s,o}function C(s,o=yt.Default){if(void 0===Gs)throw new Re(203,"");return null===Gs?Pi(s,void 0,o):Gs.get(s,o&yt.Optional?null:void 0,o)}function S(s,o=yt.Default){return(function xn(){return Nr}()||C)(te(s),o)}const F=S;function Q(s){const o=[];for(let l=0;l<s.length;l++){const u=te(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Re(900,"");let h,g=yt.Default;for(let v=0;v<u.length;v++){const E=u[v],D=Ae(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(S(h,g))}else o.push(S(u))}return o}function re(s,o){return s[Jr]=o,s.prototype[Jr]=o,s}function Ae(s){return s[Jr]}const mt=re(Sn("Inject",s=>({token:s})),-1),Dt=re(Sn("Optional"),8),En=re(Sn("SkipSelf"),4);class jc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ta(s){return s instanceof jc?s.changingThisBreaksApplicationSecurity:s}const Gc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wt=(()=>((Wt=Wt||{})[Wt.NONE=0]="NONE",Wt[Wt.HTML=1]="HTML",Wt[Wt.STYLE=2]="STYLE",Wt[Wt.SCRIPT=3]="SCRIPT",Wt[Wt.URL=4]="URL",Wt[Wt.RESOURCE_URL=5]="RESOURCE_URL",Wt))();function jl(s){const o=function ra(){const s=Ie();return s&&s[12]}();return o?o.sanitize(Wt.URL,s)||"":function zs(s,o){const l=function ku(s){return s instanceof jc&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?ta(s):function qs(s){return(s=String(s)).match(Gc)||s.match(wp)?s:"unsafe:"+s}(he(s))}const _h="__ngContext__";function sr(s,o){s[_h]=o}function Kc(s){const o=function Ya(s){return s[_h]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ti(s){return s.ngOriginalError}function Wm(s,...o){s.error(...o)}class Zc{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function Op(s){return s&&s.ngErrorLogger||Wm}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&ti(o);for(;l&&ti(l);)l=ti(l);return l||null}}const Zm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function fs(s){return s instanceof Function?s():s}var T=(()=>((T=T||{})[T.Important=1]="Important",T[T.DashCase=2]="DashCase",T))();function K(s,o){return undefined(s,o)}function We(s){const o=s[3];return qr(o)?o[3]:o}function An(s){return Vu(s[13])}function ri(s){return Vu(s[4])}function Vu(s){for(;null!==s&&!qr(s);)s=s[4];return s}function ia(s,o,l,u,h){if(null!=u){let g,v=!1;qr(u)?g=u:hr(u)&&(v=!0,u=u[0]);const E=Qt(u);0===s&&null!==l?null==h?e_(o,l,E):ps(o,l,E,h||null,!0):1===s&&null!==l?ps(o,l,E,h||null,!0):2===s?function i_(s,o,l){const u=Jc(s,o);u&&function dD(s,o,l,u){ln(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Bu(s,o,l,u,h){const g=l[7];g!==Qt(l)&&ia(o,s,u,g,h);for(let E=10;E<l.length;E++){const D=l[E];Bp(D[1],D,s,o,u,g)}}(o,s,g,l,h)}}function Xc(s,o,l){if(ln(s))return s.createElement(o,l);{const u=null!==l?function hu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Nb(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Go(h,-1)),l.splice(u,1)}function Qm(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Nb(h,u),o>0&&(s[l-1][4]=u[4]);const g=_o(s,10+o);!function Br(s,o){Bp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Xm(s,o){if(!(256&o[2])){const l=o[11];ln(l)&&l.destroyNode&&Bp(s,o,l,3,null,null),function Ih(s){let o=s[13];if(!o)return Jm(s[1],s);for(;o;){let l=null;if(hr(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)hr(o)&&Jm(o[1],o),o=o[3];null===o&&(o=s),hr(o)&&Jm(o[1],o),l=o&&o[4]}o=l}}(o)}}function Jm(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Lb(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Cl)){const g=l[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Fb(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):Qt(o[v]),D=u[h=l[g+2]],A=l[g+3];"boolean"==typeof A?E.removeEventListener(l[g],D,A):A>=0?u[h=A]():u[h=-A].unsubscribe(),g+=2}else{const v=u[h=l[g+1]];l[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();o[7]=null}}(s,o),1===o[1].type&&ln(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&qr(o[3])){l!==o[3]&&Nb(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function Lp(s,o,l){return function cD(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===zt.None||h===zt.Emulated)return null}return nr(u,l)}(s,o.parent,l)}function ps(s,o,l,u,h){ln(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function e_(s,o,l){ln(s)?s.appendChild(o,l):o.appendChild(l)}function Vb(s,o,l,u,h){null!==u?ps(s,o,l,u,h):e_(s,o,l)}function Jc(s,o){return ln(s)?s.parentNode(o):o.parentNode}function Bb(s,o,l){return t_(s,o,l)}let t_=function Ub(s,o,l){return 40&s.type?nr(s,l):null};function Vp(s,o,l,u){const h=Lp(s,u,o),g=o[11],E=Bb(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)Vb(g,h,l[D],E,!1);else Vb(g,h,l,E,!1)}function ed(s,o){if(null!==o){const l=o.type;if(3&l)return nr(o,s);if(4&l)return r_(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return ed(s,u);{const h=s[o.index];return qr(h)?r_(-1,h):Qt(h)}}if(32&l)return K(o,s)()||Qt(s[o.index]);{const u=Hb(s,o);return null!==u?Array.isArray(u)?u[0]:ed(We(s[16]),u):ed(s,o.next)}}return null}function Hb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function r_(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return ed(u,h)}return o[7]}function s_(s,o,l,u,h,g,v){for(;null!=l;){const E=u[l.index],D=l.type;if(v&&0===o&&(E&&sr(Qt(E),u),l.flags|=4),64!=(64&l.flags))if(8&D)s_(s,o,l.child,u,h,g,!1),ia(o,s,h,E,g);else if(32&D){const A=K(l,u);let x;for(;x=A();)ia(o,s,h,x,g);ia(o,s,h,E,g)}else 16&D?o_(s,o,u,l,h,g):ia(o,s,h,E,g);l=v?l.projectionNext:l.next}}function Bp(s,o,l,u,h,g){s_(l,u,s.firstChild,o,h,g,!1)}function o_(s,o,l,u,h,g){const v=l[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)ia(o,s,h,D[A],g);else s_(s,o,D,v[3],h,g,!0)}function $b(s,o,l){ln(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Up(s,o,l){ln(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Gb(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}l=h+1}}const zb="ng-template";function jp(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==Gb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ja(s){return 4===s.type&&s.value!==zb}function qb(s,o,l){return o===(4!==s.type||l?s.value:zb)}function ii(s,o,l){let u=4;const h=s.attrs||[],g=function Kb(s){for(let o=0;o<s.length;o++)if(jt(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!qb(s,D,l)||""===D&&1===o.length){if(Ar(u))return!1;v=!0}}else{const A=8&u?D:o[++E];if(8&u&&null!==s.attrs){if(!jp(s.attrs,A,l)){if(Ar(u))return!1;v=!0}continue}const N=pD(8&u?"class":D,h,Ja(s),l);if(-1===N){if(Ar(u))return!1;v=!0;continue}if(""!==A){let H;H=N>g?"":h[N+1].toLowerCase();const X=8&u?H:null;if(X&&-1!==Gb(X,A,0)||2&u&&A!==H){if(Ar(u))return!1;v=!0}}}}else{if(!v&&!Ar(u)&&!Ar(D))return!1;if(v&&Ar(D))continue;v=!1,u=D|1&u}}return Ar(u)||v}function Ar(s){return 0==(1&s)}function pD(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Zb(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function td(s,o,l=!1){for(let u=0;u<o.length;u++)if(ii(s,o[u],l))return!0;return!1}function Yb(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function a_(s,o){return s?":not("+o.trim()+")":o}function Qb(s){let o=s[0],l=1,u=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Ar(v)&&(o+=a_(g,h),h=""),u=v,g=g||!Ar(u);l++}return""!==h&&(o+=a_(g,h)),o}const It={};function l_(s){u_(kt(),Ie(),Yn()+s,Ta())}function u_(s,o,l,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ra(o,g,l)}else{const g=s.preOrderHooks;null!==g&&os(o,g,0,l)}zi(l)}function Sh(s,o){return s<<17|o<<2}function Io(s){return s>>17&32767}function Th(s){return 2|s}function oa(s){return(131068&s)>>2}function Ah(s,o){return-131069&s|o<<2}function Hp(s){return 1|s}function y_(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],g=l[u+1];if(-1!==g){const v=s.data[g];xa(h),v.contentQueries(2,o[g],g)}}}function Oh(s,o,l,u,h,g,v,E,D,A){const x=o.blueprint.slice();return x[0]=h,x[2]=140|u,$i(x),x[3]=x[15]=s,x[8]=l,x[10]=v||s&&s[10],x[11]=E||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Uu(s,o,l,u,h){let g=s.data[o];if(null===g)g=function Rh(s,o,l,u,h){const g=qo(),v=Sa(),D=s.data[o]=function CD(s,o,l,u,h,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,u,h),function vu(){return gt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=h;const v=function ao(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Kr(g,!0),g}function Wl(s,o,l,u){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Kp(s,o,l){Ko(o);try{const u=s.viewQuery;null!==u&&N_(1,u,l);const h=s.template;null!==h&&Ph(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&y_(s,o),s.staticViewQueries&&N_(2,s.viewQuery,l);const g=s.components;null!==g&&function v_(s,o){for(let l=0;l<o.length;l++)sd(s,o[l])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Yo()}}function Kl(s,o,l,u){const h=o[2];if(256==(256&h))return;Ko(o);const g=Ta();try{$i(o),function Aa(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Ph(s,o,l,2,u);const v=3==(3&h);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&Ra(o,A,null)}else{const A=s.preOrderHooks;null!==A&&os(o,A,0,null),Qo(o,0)}if(function MD(s){for(let o=An(s);null!==o;o=ri(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],g=h[3];0==(1024&h[2])&&Go(g,1),h[2]|=1024}}}(o),function x_(s){for(let o=An(s);null!==o;o=ri(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];is(u)&&Kl(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&y_(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&Ra(o,A)}else{const A=s.contentHooks;null!==A&&os(o,A,1),Qo(o,1)}!function ED(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)zi(~h);else{const g=h,v=l[++u],E=l[++u];bu(v,g),E(2,o[g])}}}finally{zi(-1)}}(s,o);const E=s.components;null!==E&&function CO(s,o){for(let l=0;l<o.length;l++)y0(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&N_(2,D,u),!g)if(v){const A=s.viewCheckHooks;null!==A&&Ra(o,A)}else{const A=s.viewHooks;null!==A&&os(o,A,2),Qo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Go(o[3],-1))}finally{Yo()}}function kh(s,o,l,u){const h=o[10],g=!Ta(),v=oo(o);try{g&&!v&&h.begin&&h.begin(),v&&Kp(s,o,u),Kl(s,o,l,u)}finally{g&&!v&&h.end&&h.end()}}function Ph(s,o,l,u,h){const g=Yn(),v=2&u;try{zi(-1),v&&o.length>20&&u_(s,o,20,Ta()),l(u,h)}finally{zi(g)}}function ju(s,o,l){if(va(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Hu(s,o,l){!Ia()||(function TO(s,o,l,u){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||pn(l,o),sr(u,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],A=Bi(D);A&&TD(o,l,D);const x=po(o,s,E,l);sr(x,o),null!==v&&AD(0,E-h,x,D,0,v),A&&(rr(l.index,o)[8]=x)}}(s,o,l,nr(l,o)),128==(128&l.flags)&&function ID(s,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,E=function El(){return gt.lFrame.currentDirectiveIndex}();try{zi(v);for(let D=u;D<h;D++){const A=s.data[D],x=o[D];Ma(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&S_(A,x)}}finally{zi(-1),Ma(E)}}(s,o,l))}function b_(s,o,l=nr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Zp(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Nh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Nh(s,o,l,u,h,g,v,E,D,A){const x=20+u,N=x+h,H=function w_(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:It);return l}(x,N),X="function"==typeof A?A():A;return H[1]={type:s,blueprint:H,template:l,queries:null,viewQuery:E,declTNode:o,data:H.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:X,incompleteFirstPass:!1}}function Yp(s,o,l,u){const h=w0(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&F_(s).push(u,h.length-1))}function I_(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Ci(s,o,l,u,h,g,v,E){const D=nr(o,l);let x,A=o.inputs;!E&&null!=A&&(x=A[u])?(ng(s,l,x,u,h),pc(o)&&function Fh(s,o){const l=rr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function d0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,ln(g)?g.setProperty(D,u,h):Ir(u)||(D.setProperty?D.setProperty(u,h):D[u]=h))}function f0(s,o,l,u){let h=!1;if(Ia()){const g=function SD(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];td(l,v.selectors,!1)&&(h||(h=[]),Us(pn(l,o),s,v.type),Bi(v)?(T_(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==g){h=!0,m0(l,s.data.length,g.length);for(let x=0;x<g.length;x++){const N=g[x];N.providersResolver&&N.providersResolver(N)}let E=!1,D=!1,A=Wl(s,o,g.length,null);for(let x=0;x<g.length;x++){const N=g[x];l.mergedAttrs=_n(l.mergedAttrs,N.hostAttrs),A_(s,l,o,A,N),g0(A,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const H=N.type.prototype;!E&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),A++}!function c0(s,o){const u=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let A=o.directiveStart;A<u;A++){const x=h[A],N=x.inputs,H=null===g||Ja(o)?null:_0(N,g);v.push(H),E=I_(N,A,E),D=I_(x.outputs,A,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,l)}v&&function p0(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Re(-301,!1);u.push(o[h],g)}}}(l,u,v)}return l.mergedAttrs=_n(l.mergedAttrs,l.attrs),h}function DD(s,o,l,u,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function SO(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(u,h,v)}}function S_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function T_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function g0(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Bi(o)&&(l[""]=s)}}function m0(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function A_(s,o,l,u,h){s.data[u]=h;const g=h.factory||(h.factory=pr(h.type)),v=new Cl(g,Bi(h),null);s.blueprint[u]=v,l[u]=v,DD(s,o,0,u,Wl(s,l,h.hostVars,It),h)}function TD(s,o,l){const u=nr(o,s),h=Zp(l),g=s[10],v=od(s,Oh(s,h,null,l.onPush?64:16,u,o,g,g.createRenderer(u,l),null,null));s[o.index]=v}function el(s,o,l,u,h,g){const v=nr(s,o);!function Jp(s,o,l,u,h,g,v){if(null==g)ln(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?he(g):v(g,u||"",h);ln(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,g,s.value,l,u,h)}function AD(s,o,l,u,h,g){const v=g[o];if(null!==v){const E=u.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],N=v[D++];null!==E?u.setInput(l,N,A,x):l[x]=N}}}function _0(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function M_(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function y0(s,o){const l=rr(o,s);if(is(l)){const u=l[1];80&l[2]?Kl(u,l,u.template,l[8]):l[5]>0&&O_(l)}}function O_(s){for(let u=An(s);null!==u;u=ri(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const v=g[1];Kl(v,g,v.template,g[8])}else g[5]>0&&O_(g)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=rr(l[u],s);is(h)&&h[5]>0&&O_(h)}}function sd(s,o){const l=rr(o,s),u=l[1];(function xD(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Kp(u,l,l[8])}function od(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function R_(s){for(;s;){s[2]|=64;const o=We(s);if(uu(s)&&!o)return s;s=o}return null}function P_(s,o,l){const u=o[10];u.begin&&u.begin();try{Kl(s,o,s.template,l)}catch(h){throw kD(o,h),h}finally{u.end&&u.end()}}function tg(s){!function eg(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Kc(l),h=u[1];kh(h,u,h.template,l)}}(s[8])}function N_(s,o,l){xa(0),o(s,l)}const RD=(()=>Promise.resolve(null))();function w0(s){return s[7]||(s[7]=[])}function F_(s){return s.cleanup||(s.cleanup=[])}function kD(s,o){const l=s[9],u=l?l.get(Zc,null):null;u&&u.handleError(o)}function ng(s,o,l,u,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,h,u,E):D[E]=h}}function tl(s,o,l){const u=Ls(o,s);!function Qc(s,o,l){ln(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function Lh(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=ge(h,E):2==g&&(u=ge(u,E+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const L_=new vn("INJECTOR",-1);class V_{get(o,l=$a){if(l===$a){const u=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw u.name="NullInjectorError",u}return l}}const B_=new vn("Set Injector scope."),ld={},ND={};let U_;function rg(){return void 0===U_&&(U_=new V_),U_}function j_(s,o=null,l=null,u){const h=D0(s,o,l,u);return h._resolveInjectorDefTypes(),h}function D0(s,o=null,l=null,u){return new I0(s,l,o||rg(),u)}class I0{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Xr(l,E=>this.processProvider(E,o,l)),Xr([o],E=>this.processInjectorType(E,[],g)),this.records.set(L_,ud(void 0,this));const v=this.records.get(B_);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=$a,u=yt.Default){this.assertNotDestroyed();const h=bo(this),g=Bn(void 0);try{if(!(u&yt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function RO(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(o)&&Nt(o);E=D&&this.injectableDefInScope(D)?ud(H_(o),ld):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&yt.Self?rg():this.parent).get(o,l=u&yt.Optional&&l===$a?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[vo]=v[vo]||[]).unshift(ue(o)),h)throw v;return function He(s,o,l,u){const h=s[vo];throw o[Ga]&&h.unshift(o[Ga]),s.message=function at(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(ih,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[vo]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Bn(g),bo(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ue(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,l,u){if(!(o=te(o)))return!1;let h=kr(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==u.indexOf(v);if(void 0!==g&&(h=kr(g)),null==h)return!1;if(null!=h.imports&&!E){let x;u.push(v);try{Xr(h.imports,N=>{this.processInjectorType(N,l,u)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:H,providers:X}=x[N];Xr(X,ye=>this.processProvider(ye,H,X||ft))}}this.injectorDefTypes.add(v);const D=pr(v)||(()=>new v);this.records.set(v,ud(D,ld));const A=h.providers;if(null!=A&&!E){const x=o;Xr(A,N=>this.processProvider(N,x,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,u){let h=Vh(o=te(o))?o:te(o&&o.provide);const g=function FD(s,o,l){return G_(s)?ud(void 0,s.useValue):ud($_(s),ld)}(o);if(Vh(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ud(void 0,ld,!0),v.factory=()=>Q(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===ld&&(l.value=ND,l.value=l.factory()),"object"==typeof l.value&&l.value&&function VD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=te(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function H_(s){const o=Nt(s),l=null!==o?o.factory:pr(s);if(null!==l)return l;if(s instanceof vn)throw new Re(204,!1);if(s instanceof Function)return function S0(s){const o=s.length;if(o>0)throw xl(o,"?"),new Re(204,!1);const l=function $r(s){const o=s&&(s[Ri]||s[Pr]);if(o){const l=function ur(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function $_(s,o,l){let u;if(Vh(s)){const h=te(s);return pr(h)||H_(h)}if(G_(s))u=()=>te(s.useValue);else if(function xO(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Q(s.deps||[]));else if(function MO(s){return!(!s||!s.useExisting)}(s))u=()=>S(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function OO(s){return!!s.deps}(s))return pr(h)||H_(h);u=()=>new h(...Q(s.deps))}return u}function ud(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function G_(s){return null!==s&&"object"==typeof s&&Ou in s}function Vh(s){return"function"==typeof s}let aa=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return j_({name:""},u,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return j_({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=$a,s.NULL=new V_,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>S(L_)}),s.__NG_ELEMENT_ID__=-1,s})();function O0(s,o){Ac(Kc(s)[1],fn())}function cd(s){let o=function R0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(Bi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=rl(s.inputs),v.declaredInputs=rl(s.declaredInputs),v.outputs=rl(s.outputs);const E=h.hostBindings;E&&Z_(s,E);const D=h.viewQuery,A=h.contentQueries;if(D&&zD(s,D),A&&FO(s,A),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),Bi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===cd&&(l=!1)}}o=Object.getPrototypeOf(o)}!function lg(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=_n(h.hostAttrs,l=_n(l,h.hostAttrs))}}(u)}function rl(s){return s===Er?{}:s===ft?[]:s}function zD(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function FO(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,g)=>{o(u,h,g),l(u,h,g)}:o}function Z_(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let la=null;function Zl(){if(!la){const s=Bt.Symbol;if(s&&s.iterator)la=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(la=u)}}}return la}function ug(s){return!!Uh(s)&&(Array.isArray(s)||!(s instanceof Map)&&Zl()in s)}function Uh(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function si(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Hh(s,o,l,u){const h=Ie();return si(h,Vs(),o)&&(kt(),el(Dn(),h,s,o,l,u)),Hh}function Gh(s,o,l,u){return si(s,Vs(),l)?o+he(l)+u:It}function rI(s,o,l,u,h,g,v,E){const D=Ie(),A=kt(),x=s+20,N=A.firstCreatePass?function UO(s,o,l,u,h,g,v,E,D){const A=o.consts,x=Uu(o,s,4,v||null,mi(A,E));f0(o,l,x,mi(A,D)),Ac(o,x);const N=x.tViews=Nh(2,x,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),N.queries=o.queries.embeddedTView(x)),x}(x,A,D,o,l,u,h,g,v):A.data[x];Kr(N,!1);const H=D[11].createComment("");Vp(A,D,H,N),sr(H,D),od(D,D[x]=M_(H,D,H,N)),Vi(N)&&Hu(A,D,N),null!=v&&b_(D,N,E)}function P0(s){return Hi(function vl(){return gt.lFrame.contextLView}(),20+s)}function cg(s,o=yt.Default){const l=Ie();return null===l?S(s,o):ho(fn(),l,te(s),o)}function mI(){throw new Error("invalid")}function U0(s,o,l){const u=Ie();return si(u,Vs(),o)&&Ci(kt(),Dn(),u,s,o,u[11],l,!1),U0}function j0(s,o,l,u,h){const v=h?"class":"style";ng(s,l,o.inputs[v],v,u)}function X_(s,o,l,u){const h=Ie(),g=kt(),v=20+s,E=h[11],D=h[v]=Xc(E,o,function Tc(){return gt.lFrame.currentNamespace}()),A=g.firstCreatePass?function iR(s,o,l,u,h,g,v){const E=o.consts,A=Uu(o,s,2,h,mi(E,g));return f0(o,l,A,mi(E,v)),null!==A.attrs&&Lh(A,A.attrs,!1),null!==A.mergedAttrs&&Lh(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,h,0,o,l,u):g.data[v];Kr(A,!0);const x=A.mergedAttrs;null!==x&&Je(E,D,x);const N=A.classes;null!==N&&Up(E,D,N);const H=A.styles;return null!==H&&$b(E,D,H),64!=(64&A.flags)&&Vp(g,h,D,A),0===function _l(){return gt.lFrame.elementDepthCount}()&&sr(D,h),function Da(){gt.lFrame.elementDepthCount++}(),Vi(A)&&(Hu(g,h,A),ju(g,A,h)),null!==u&&b_(h,A),X_}function J_(){let s=fn();Sa()?yu():(s=s.parent,Kr(s,!1));const o=s;!function gu(){gt.lFrame.elementDepthCount--}();const l=kt();return l.firstCreatePass&&(Ac(l,s),va(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function xc(s){return 0!=(16&s.flags)}(o)&&j0(l,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function lp(s){return 0!=(32&s.flags)}(o)&&j0(l,o,Ie(),o.stylesWithoutHost,!1),J_}function H0(s,o,l,u){return X_(s,o,l,u),J_(),H0}function ey(s,o,l){const u=Ie(),h=kt(),g=s+20,v=h.firstCreatePass?function sR(s,o,l,u,h){const g=o.consts,v=mi(g,u),E=Uu(o,s,8,"ng-container",v);return null!==v&&Lh(E,v,!0),f0(o,l,E,mi(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,u,o,l):h.data[g];Kr(v,!0);const E=u[g]=u[11].createComment("");return Vp(h,u,E,v),sr(E,u),Vi(v)&&(Hu(h,u,v),ju(h,v,u)),null!=l&&b_(u,v),ey}function ty(){let s=fn();const o=kt();return Sa()?yu():(s=s.parent,Kr(s,!1)),o.firstCreatePass&&(Ac(o,s),va(s)&&o.queries.elementEnd(s)),ty}function yI(){return Ie()}function $0(s){return!!s&&"function"==typeof s.then}function vI(s){return!!s&&"function"==typeof s.subscribe}const bI=vI;function G0(s,o,l,u){const h=Ie(),g=kt(),v=fn();return function EI(s,o,l,u,h,g,v,E){const D=Vi(u),x=s.firstCreatePass&&F_(s),N=o[8],H=w0(o);let X=!0;if(3&u.type||E){const $e=nr(u,o),Qe=E?E($e):$e,Se=H.length,_t=E?$t=>E(Qt($t[u.index])):u.index;if(ln(l)){let $t=null;if(!E&&D&&($t=function oR(s,o,l,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===u){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=g,$t.__ngLastListenerFn__=g,X=!1;else{g=z0(u,o,N,g,!1);const un=l.listen(Qe,h,g);H.push(g,un),x&&x.push(h,_t,Se,Se+1)}}else g=z0(u,o,N,g,!0),Qe.addEventListener(h,g,v),H.push(g),x&&x.push(h,_t,Se,v)}else g=z0(u,o,N,g,!1);const ye=u.outputs;let Fe;if(X&&null!==ye&&(Fe=ye[h])){const $e=Fe.length;if($e)for(let Qe=0;Qe<$e;Qe+=2){const ys=o[Fe[Qe]][Fe[Qe+1]].subscribe(g),tu=H.length;H.push(g,ys),x&&x.push(h,u.index,tu,-(tu+1))}}}(g,h,h[11],v,s,o,!!l,u),G0}function CI(s,o,l,u){try{return!1!==l(u)}catch(h){return kD(s,h),!1}}function z0(s,o,l,u,h){return function g(v){if(v===Function)return u;const E=2&s.flags?rr(s.index,o):o;0==(32&o[2])&&R_(E);let D=CI(o,0,u,v),A=g.__ngNextListenerFn__;for(;A;)D=CI(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function DI(s=1){return function Gi(s){return(gt.lFrame.contextLView=function Xd(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function aR(s,o){let l=null;const u=function Wb(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===u?td(s,g,!0):Yb(u,g))return h}else l=h}return l}function II(s){const o=Ie()[16][6];if(!o.projection){const u=o.projection=xl(s?s.length:1,null),h=u.slice();let g=o.child;for(;null!==g;){const v=s?aR(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:u[v]=g,h[v]=g),g=g.next}}}function SI(s,o=0,l){const u=Ie(),h=kt(),g=Uu(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),yu(),64!=(64&g.flags)&&function fD(s,o,l){o_(o[11],0,o,l,Lp(s,l,o),Bb(l.parent||o[6],l,o))}(h,u,g)}function FI(s,o,l,u,h){const g=s[l+1],v=null===o;let E=u?Io(g):oa(g),D=!1;for(;0!==E&&(!1===D||v);){const x=s[E+1];cR(s[E],o)&&(D=!0,s[E+1]=u?Hp(x):Th(x)),E=u?Io(x):oa(x)}D&&(s[l+1]=u?Th(g):Hp(g))}function cR(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&wi(s,o)>=0}const vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pd(s){return s.substring(vr.key,vr.keyEnd)}function W0(s,o){const l=vr.textEnd;return l===o?-1:(o=vr.keyEnd=function dR(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,vr.key=o,l),Wh(s,o,l))}function Wh(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Z0(s,o,l){return ca(s,o,l,!1),Z0}function Y0(s,o){return ca(s,o,null,!0),Y0}function sl(s,o){for(let l=function ny(s){return function ry(s){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=s.length}(s),W0(s,Wh(s,0,vr.textEnd))}(o);l>=0;l=W0(o,l))Pn(s,pd(o),!0)}function ca(s,o,l,u){const h=Ie(),g=kt(),v=_i(2);g.firstUpdatePass&&zI(g,s,v,u),o!==It&&si(h,v,o)&&QI(g,g.data[Yn()],h,h[11],s,h[v+1]=function gR(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(ta(s)))),s}(o,l),u,v)}function GI(s,o){return o>=s.expandoStartIndex}function zI(s,o,l,u){const h=s.data;if(null===h[l+1]){const g=h[Yn()],v=GI(s,l);JI(g,u)&&null===o&&!v&&(o=!1),o=function qI(s,o,l,u){const h=function Wo(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=gd(l=iy(null,s,o,l,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=iy(h,s,o,l,u),null===g){let D=function WI(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==oa(u))return s[Io(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=iy(null,s,o,D[1],u),D=gd(D,o.attrs,u),function KI(s,o,l,u){s[Io(l?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else g=function ZI(s,o,l){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=gd(u,s[g].hostAttrs,l);return gd(u,o.attrs,l)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,u),function lR(s,o,l,u,h,g){let v=g?o.classBindings:o.styleBindings,E=Io(v),D=oa(v);s[u]=l;let x,A=!1;if(Array.isArray(l)){const N=l;x=N[1],(null===x||wi(N,x)>0)&&(A=!0)}else x=l;if(h)if(0!==D){const H=Io(s[E+1]);s[u+1]=Sh(H,E),0!==H&&(s[H+1]=Ah(s[H+1],u)),s[E+1]=function e0(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=Sh(E,0),0!==E&&(s[E+1]=Ah(s[E+1],u)),E=u;else s[u+1]=Sh(D,0),0===E?E=u:s[D+1]=Ah(s[D+1],u),D=u;A&&(s[u+1]=Th(s[u+1])),FI(s,x,u,!0),FI(s,x,u,!1),function uR(s,o,l,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&wi(g,o)>=0&&(l[u+1]=Hp(l[u+1]))}(o,x,s,u,g),v=Sh(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,u)}}function iy(s,o,l,u,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],u=gd(u,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),u}function gd(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Pn(s,v,!!l||o[++g]))}return void 0===s?null:s}function QI(s,o,l,u,h,g,v,E){if(!(3&o.type))return;const D=s.data,A=D[E+1];sy(function h_(s){return 1==(1&s)}(A)?XI(D,o,l,h,oa(A),v):void 0)||(sy(g)||function d_(s){return 2==(2&s)}(A)&&(g=XI(D,null,l,h,E,v)),function sa(s,o,l,u,h){const g=ln(s);if(o)h?g?s.addClass(l,u):l.classList.add(u):g?s.removeClass(l,u):l.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:T.DashCase;if(null==h)g?s.removeStyle(l,u,v):l.style.removeProperty(u);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=T.Important),g?s.setStyle(l,u,h,v):l.style.setProperty(u,h,E?"important":"")}}}(u,v,Ls(Yn(),l),h,g))}function XI(s,o,l,u,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],A=Array.isArray(D),x=A?D[1]:D,N=null===x;let H=l[h+1];H===It&&(H=N?ft:void 0);let X=N?$s(H,u):x===u?H:void 0;if(A&&!sy(X)&&(X=$s(D,u)),sy(X)&&(E=X,v))return E;const ye=s[h+1];h=v?Io(ye):oa(ye)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=$s(D,u))}return E}function sy(s){return void 0!==s}function JI(s,o){return 0!=(s.flags&(o?16:32))}function eS(s,o=""){const l=Ie(),u=kt(),h=s+20,g=u.firstCreatePass?Uu(u,h,1,o,null):u.data[h],v=l[h]=function Yc(s,o){return ln(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Vp(u,l,v,g),Kr(g,!1)}function Q0(s){return oy("",s,""),Q0}function oy(s,o,l){const u=Ie(),h=Gh(u,s,o,l);return h!==It&&tl(u,Yn(),h),oy}function tw(s,o,l){!function da(s,o,l,u){const h=kt(),g=_i(2);h.firstUpdatePass&&zI(h,null,g,u);const v=Ie();if(l!==It&&si(v,g,l)){const E=h.data[Yn()];if(JI(E,u)&&!GI(h,g)){let D=u?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=ge(D,l||"")),j0(h,E,v,l,u)}else!function pR(s,o,l,u,h,g,v,E){h===It&&(h=ft);let D=0,A=0,x=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==x||null!==N;){const H=D<h.length?h[D+1]:void 0,X=A<g.length?g[A+1]:void 0;let Fe,ye=null;x===N?(D+=2,A+=2,H!==X&&(ye=N,Fe=X)):null===N||null!==x&&x<N?(D+=2,ye=x):(A+=2,ye=N,Fe=X),null!==ye&&QI(s,o,l,u,ye,Fe,v,E),x=D<h.length?h[D]:null,N=A<g.length?g[A]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function fR(s,o,l){if(null==l||""===l)return ft;const u=[],h=ta(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(u,g,h[g]);else"string"==typeof h&&o(u,h);return u}(s,o,l),u,g)}}(Pn,sl,Gh(Ie(),s,o,l),!0)}function aw(s,o,l){const u=Ie();return si(u,Vs(),o)&&Ci(kt(),Dn(),u,s,o,u[11],l,!0),aw}const md=void 0;var Yh=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uw(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Wu={};function Ht(s){const o=function dS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=dw(o);if(l)return l;const u=o.split("-")[0];if(l=dw(u),l)return l;if("en"===u)return Yh;throw new Error(`Missing locale data for the locale "${s}".`)}function py(s){return Ht(s)[bt.PluralCase]}function dw(s){return s in Wu||(Wu[s]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[s]),Wu[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const fg="en-US";let hw=fg;function Dy(s,o,l,u,h){if(s=te(s),Array.isArray(s))for(let g=0;g<s.length;g++)Dy(s[g],o,l,u,h);else{const g=kt(),v=Ie();let E=Vh(s)?s:te(s.provide),D=$_(s);const A=fn(),x=1048575&A.providerIndexes,N=A.directiveStart,H=A.providerIndexes>>20;if(Vh(s)||!s.multi){const X=new Cl(D,h,cg),ye=Rw(E,o,h?x:x+H,N);-1===ye?(Us(pn(A,v),g,E),Iy(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(X),v.push(X)):(l[ye]=X,v[ye]=X)}else{const X=Rw(E,o,x+H,N),ye=Rw(E,o,x,x+H),Fe=X>=0&&l[X],$e=ye>=0&&l[ye];if(h&&!$e||!h&&!Fe){Us(pn(A,v),g,E);const Qe=function VS(s,o,l,u,h){const g=new Cl(s,l,cg);return g.multi=[],g.index=o,g.componentProviders=0,FS(g,h,u&&!l),g}(h?LS:Mg,l.length,h,u,D);!h&&$e&&(l[ye].providerFactory=Qe),Iy(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(Qe),v.push(Qe)}else Iy(g,s,X>-1?X:ye,FS(l[h?ye:X],D,!h&&u));!h&&u&&$e&&l[ye].componentProviders++}}}function Iy(s,o,l,u){const h=Vh(o),g=function LD(s){return!!s.useClass}(o);if(h||g){const D=(g?te(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=A.indexOf(l);-1===x?A.push(l,[u,D]):A[x+1].push(u,D)}else A.push(l,D)}}}function FS(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Rw(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function Mg(s,o,l,u){return Sy(this.multi,[])}function LS(s,o,l,u){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=po(l,l[1],this.providerFactory.index,u);g=E.slice(0,v),Sy(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],Sy(h,g);return g}function Sy(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function sf(s,o=[]){return l=>{l.providersResolver=(u,h)=>function NS(s,o,l){const u=kt();if(u.firstCreatePass){const h=Bi(s);Dy(l,u.data,u.blueprint,h,!0),Dy(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Ty{}class Fw{resolveComponentFactory(o){throw function kw(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Og=(()=>{class s{}return s.NULL=new Fw,s})();function BS(){return vd(fn(),Ie())}function vd(s,o){return new af(nr(s,o))}let af=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=BS,s})();function US(s){return s instanceof af?s.nativeElement:s}class Lw{}let Qu=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function xy(){const s=Ie(),l=rr(fn().index,s);return function My(s){return s[11]}(hr(l)?l:s)}(),s})(),Rg=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class Vw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Bw=new Vw("13.2.7"),Oy={};function kg(s,o,l,u,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(Qt(g)),qr(g))for(let E=10;E<g.length;E++){const D=g[E],A=D[1].firstChild;null!==A&&kg(D[1],D,A,u)}const v=l.type;if(8&v)kg(s,o,l.child,u);else if(32&v){const E=K(l,o);let D;for(;D=E();)u.push(D)}else if(16&v){const E=Hb(o,l);if(Array.isArray(E))u.push(...E);else{const D=We(o[16]);kg(D[1],D,E,u,!0)}}l=h?l.projectionNext:l.next}return u}class lf{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return kg(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(qr(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Qm(o,u),_o(l,u))}this._attachedToViewContainer=!1}Xm(this._lView[1],this._lView)}onDestroy(o){Yp(this._lView[1],this._lView,null,o)}markForCheck(){R_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){P_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function OD(s,o,l){bl(!0);try{P_(s,o,l)}finally{bl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dh(s,o){Bp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class Ry extends lf{constructor(o){super(o),this._view=o}detectChanges(){tg(this._view)}checkNoChanges(){!function v0(s){bl(!0);try{tg(s)}finally{bl(!1)}}(this._view)}get context(){return null}}class Uw extends Og{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Un(o);return new Py(l,this.ngModule)}}function uf(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Py extends Ty{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Xb(s){return s.map(Qb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return uf(this.componentDef.inputs)}get outputs(){return uf(this.componentDef.outputs)}create(o,l,u,h){const g=(h=h||this.ngModule)?function Pg(s,o){return{get:(l,u,h)=>{const g=s.get(l,Oy,h);return g!==Oy||u===Oy?g:o.get(l,u,h)}}}(o,h.injector):o,v=g.get(Lw,wa),E=g.get(Rg,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=u?function D_(s,o,l){if(ln(s))return s.selectRootElement(o,l===zt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(D,u,this.componentDef.encapsulation):Xc(v.createRenderer(null,this.componentDef),A,function ky(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),N=this.componentDef.onPush?576:528,H=function K_(s,o){return{components:[],scheduler:s||Zm,clean:RD,playerHandler:o||null,flags:0}}(),X=Nh(0,null,null,1,0,null,null,null,null,null),ye=Oh(null,X,H,N,null,null,v,D,E,g);let Fe,$e;Ko(ye);try{const Qe=function GD(s,o,l,u,h,g){const v=l[1];l[20]=s;const D=Uu(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(Lh(D,A,!0),null!==s&&(Je(h,s,A),null!==D.classes&&Up(h,s,D.classes),null!==D.styles&&$b(h,s,D.styles)));const x=u.createRenderer(s,o),N=Oh(l,Zp(o),null,o.onPush?64:16,l[20],D,u,x,g||null,null);return v.firstCreatePass&&(Us(pn(D,l),v,o.type),T_(v,D),m0(D,l.length,1)),od(l,N),l[20]=N}(x,this.componentDef,ye,v,D);if(x)if(u)Je(D,x,["ng-version",Bw.full]);else{const{attrs:Se,classes:_t}=function Jb(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&l.push(g);else{if(!Ar(h))break;h=g}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Se&&Je(D,x,Se),_t&&_t.length>0&&Up(D,x,_t.join(" "))}if($e=bn(X,20),void 0!==l){const Se=$e.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const $t=l[_t];Se.push(null!=$t?Array.from($t):null)}}Fe=function $u(s,o,l,u,h){const g=l[1],v=function h0(s,o,l){const u=fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),A_(s,u,o,Wl(s,o,1,null),l));const h=po(o,s,u.directiveStart,u);sr(h,o);const g=nr(u,o);return g&&sr(g,o),h}(g,l,o);if(u.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=fn();o.contentQueries(1,v,D.directiveStart)}const E=fn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zi(E.index),DD(l[1],E,0,E.directiveStart,E.directiveEnd,o),S_(o,v)),v}(Qe,this.componentDef,ye,H,[O0]),Kp(X,ye,null)}finally{Yo()}return new DR(this.componentType,Fe,vd($e,ye),ye,$e)}}class DR extends class xg{}{constructor(o,l,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Ry(h),this.componentType=o}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class cf{}class Hw{}const bd=new Map;class Gw extends cf{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Uw(this);const u=jn(o);this._bootstrapComponents=fs(u.bootstrap),this._r3Injector=D0(o,l,[{provide:cf,useValue:this},{provide:Og,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=aa.THROW_IF_NOT_FOUND,u=yt.Default){return o===aa||o===cf||o===L_?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Vy extends Hw{constructor(o){super(),this.moduleType=o,null!==jn(o)&&function Ly(s){const o=new Set;!function l(u){const h=jn(u,!0),g=h.id;null!==g&&(function Fy(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ue(o)} vs ${ue(o.name)}`)}(g,bd.get(g),u),bd.set(g,u));const v=fs(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new Gw(this.moduleType,o)}}function Uy(s,o,l,u,h,g){const v=o+l;return si(s,v,h)?function ua(s,o,l){return s[o]=l}(s,v+1,g?u.call(g,h):u(h)):function df(s,o){const l=s[o];return l===It?void 0:l}(s,v+1)}function Fg(s,o){const l=kt();let u;const h=s+20;l.firstCreatePass?(u=function ZS(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const g=u.factory||(u.factory=pr(u.type)),v=Bn(cg);try{const E=yi(!1),D=g();return yi(E),function jO(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,Ie(),h,D),D}finally{Bn(v)}}function Kw(s,o,l){const u=s+20,h=Ie(),g=Hi(h,u);return function hf(s,o){return s[1].data[o].pure}(h,u)?Uy(h,function kn(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,g.transform,l,g):g.transform(l)}function Vg(s){return o=>{setTimeout(s,void 0,o)}}const Ao=class Zw extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,g,v;let E=o,D=l||(()=>null),A=u;if(o&&"object"==typeof o){const N=o;E=null===(h=N.next)||void 0===h?void 0:h.bind(N),D=null===(g=N.error)||void 0===g?void 0:g.bind(N),A=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(D=Vg(D),E&&(E=Vg(E)),A&&(A=Vg(A)));const x=super.subscribe({next:E,error:D,complete:A});return o instanceof J.w0&&o.add(x),x}};function Qs(){return this._results[Zl()]()}class ul{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Zl(),u=ul.prototype;u[l]||(u[l]=Qs)}get changes(){return this._changes||(this._changes=new Ao)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=Qr(o);(this._changesDetected=!function Tu(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ff=(()=>{class s{}return s.__NG_ELEMENT_ID__=JS,s})();const XS=ff,Yw=class extends XS{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=Oh(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(l)),Kp(l,u,o),new lf(u)}};function JS(){return pf(fn(),Ie())}function pf(s,o){return 4&s.type?new Yw(o,s,vd(s,o)):null}let Xu=(()=>{class s{}return s.__NG_ELEMENT_ID__=eT,s})();function eT(){return Xw(fn(),Ie())}const tT=Xu,Bg=class extends tT{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return vd(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const o=Wi(this._hostTNode,this._hostLView);if(Oc(o)){const l=dn(o,this._hostLView),u=qi(o);return new go(l[1].data[u+8],l)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Qw(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,g){const v=o&&!function Hs(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const N=l||{};E=N.index,u=N.injector,h=N.projectableNodes,g=N.ngModuleRef}const D=v?o:new Py(Un(o)),A=u||this.parentInjector;if(!g&&null==D.ngModule){const H=(v?A:this.parentInjector).get(cf,null);H&&(g=H)}const x=D.create(A,h,void 0,g);return this.insert(x.hostView,E),x}insert(o,l){const u=o._lView,h=u[1];if(function Ca(s){return qr(s[3])}(u)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const N=u[3],H=new Bg(N,N[6],N[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Gl(s,o,l,u){const h=10+u,g=l.length;u>0&&(l[h-1][4]=o),u<g-10?(o[4]=l[h],Jo(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function zl(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,u,v,g);const E=r_(g,v),D=u[11],A=Jc(D,v[7]);return null!==A&&function Ch(s,o,l,u,h,g){u[0]=h,u[6]=o,Bp(s,u,l,1,h,g)}(h,v[6],D,u,A,E),o.attachToViewContainerRef(),Jo(Ug(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Qw(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Qm(this._lContainer,l);u&&(_o(Ug(this._lContainer),l),Xm(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Qm(this._lContainer,l);return u&&null!=_o(Ug(this._lContainer),l)?new lf(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Qw(s){return s[8]}function Ug(s){return s[8]||(s[8]=[])}function Xw(s,o){let l;const u=o[s.index];if(qr(u))l=u;else{let h;if(8&s.type)h=Qt(u);else{const g=o[11];h=g.createComment("");const v=nr(s,o);ps(g,Jc(g,v),h,function hD(s,o){return ln(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=M_(u,o,h,s),od(o,l)}return new Bg(l,s,o)}class jg{constructor(o){this.queryList=o,this.matches=null}clone(){return new jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ed{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<u;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Ed(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==tE(o,l).matches&&this.queries[l].setDirty()}}class Hy{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class $y{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new $y(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Hg{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Hg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,l,iT(l,g)),this.matchTNodeWithReadOption(o,l,vi(l,o,g,!1,!1))}else u===ff?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,vi(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===af||h===Xu||h===ff&&4&l.type)this.addMatch(l.index,-2);else{const g=vi(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function iT(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function oT(s,o,l,u){return-1===l?function sT(s,o){return 11&s.type?vd(s,o):4&s.type?pf(s,o):null}(o,s):-2===l?function aT(s,o,l){return l===af?vd(o,s):l===ff?pf(o,s):l===Xu?Xw(o,s):void 0}(s,o,u):po(s,s[1],l,o)}function Jw(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const A=v[D];E.push(A<0?null:oT(o,g[A],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function Gy(s,o,l,u){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=Jw(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)u.push(v[E/2]);else{const A=g[E+1],x=o[-D];for(let N=10;N<x.length;N++){const H=x[N];H[17]===H[3]&&Gy(H[1],H,A,u)}if(null!==x[9]){const N=x[9];for(let H=0;H<N.length;H++){const X=N[H];Gy(X[1],X,A,u)}}}}}return u}function eu(s){const o=Ie(),l=kt(),u=wu();xa(u+1);const h=tE(l,u);if(s.dirty&&oo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Gy(l,o,u,[]):Jw(l,o,h,u);s.reset(g,US),s.notifyOnChanges()}return!0}return!1}function zy(s,o,l){const u=kt();u.firstCreatePass&&(cT(u,new Hy(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),uT(u,Ie(),o)}function qy(s,o,l,u){const h=kt();if(h.firstCreatePass){const g=fn();cT(h,new Hy(o,l,u),g.index),function AR(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}uT(h,Ie(),l)}function eE(){return function lT(s,o){return s[19].queries[o].queryList}(Ie(),wu())}function uT(s,o,l){const u=new ul(4==(4&l));Yp(s,o,u,u.destroy),null===o[19]&&(o[19]=new Ed),o[19].queries.push(new jg(u))}function cT(s,o,l){null===s.queries&&(s.queries=new $y),s.queries.track(new Hg(o,l))}function tE(s,o){return s.queries.getByIndex(o)}function zg(...s){}const ev=new vn("Application Initializer");let tv=(()=>{class s{constructor(l){this.appInits=l,this.resolve=zg,this.reject=zg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if($0(g))l.push(g);else if(bI(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(S(ev,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const nv=new vn("AppId",{providedIn:"root",factory:function ec(){return`${rv()}${rv()}${rv()}`}});function rv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _E=new vn("Platform Initializer"),yE=new vn("Platform ID"),mf=new vn("appBootstrapListener");let vE=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();const iv=new vn("LocaleId",{providedIn:"root",factory:()=>F(iv,yt.Optional|yt.SkipSelf)||function ET(){return"undefined"!=typeof $localize&&$localize.locale||fg}()}),CT=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class DT{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let IT=(()=>{class s{compileModuleSync(l){return new Vy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=fs(jn(l).declarations).reduce((v,E)=>{const D=Un(E);return D&&v.push(new Py(D)),v},[]);return new DT(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const TT=(()=>Promise.resolve(0))();function sv(s){"undefined"==typeof Zone?TT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class xo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ao(!1),this.onMicrotaskEmpty=new Ao(!1),this.onStable=new Ao(!1),this.onError=new Ao(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function AT(){let s=Bt.requestAnimationFrame,o=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function OT(s){const o=()=>{!function xT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,bE(s),s.isCheckStableRunning=!0,ov(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),bE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,g,v,E)=>{try{return wE(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),RT(s)}},onInvoke:(l,u,h,g,v,E,D)=>{try{return wE(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),RT(s)}},onHasTask:(l,u,h,g)=>{l.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,bE(s),ov(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,MT,zg,zg);try{return g.runTask(v,l,u)}finally{g.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const MT={};function ov(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function bE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function wE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function RT(s){s._nesting--,ov(s)}class kT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ao,this.onMicrotaskEmpty=new Ao,this.onStable=new Ao,this.onError=new Ao}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let _f=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xo.assertNotInAngularZone(),sv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(S(xo))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),PT=(()=>{class s{constructor(){this._applications=new Map,EE.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return EE.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();class qR{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function WR(s){EE=s}let Oo,EE=new qR;const DE=new vn("AllowMultipleToken");class ZR{constructor(o,l){this.name=o,this.token=l}}function LT(s,o,l=[]){const u=`Platform: ${o}`,h=new vn(u);return(g=[])=>{let v=av();if(!v||v.injector.get(DE,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const E=l.concat(g).concat({provide:h,useValue:!0},{provide:B_,useValue:"platform"});!function FT(s){if(Oo&&!Oo.destroyed&&!Oo.injector.get(DE,!1))throw new Re(400,"");Oo=s.get(SE);const o=s.get(_E,null);o&&o.forEach(l=>l())}(aa.create({providers:E,name:u}))}return function IE(s){const o=av();if(!o)throw new Re(401,"");return o}()}}function av(){return Oo&&!Oo.destroyed?Oo:null}let SE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const E=function VT(s,o){let l;return l="noop"===s?new kT:("zone.js"===s?void 0:s)||new xo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:xo,useValue:E}];return E.run(()=>{const A=aa.create({providers:D,parent:this.injector,name:l.moduleType.name}),x=l.create(A),N=x.injector.get(Zc,null);if(!N)throw new Re(402,"");return E.runOutsideAngular(()=>{const H=E.onError.subscribe({next:X=>{N.handleError(X)}});x.onDestroy(()=>{qg(this._modules,x),H.unsubscribe()})}),function lv(s,o,l){try{const u=l();return $0(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,E,()=>{const H=x.injector.get(tv);return H.runInitializers(),H.donePromise.then(()=>(function gS(s){Vt(s,"Expected localeId to be defined"),"string"==typeof s&&(hw=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(iv,fg)||fg),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,u=[]){const h=TE({},u);return function KR(s,o,l){const u=new Vy(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const u=l.injector.get(Dd);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Re(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(S(aa))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})();function TE(s,o){return Array.isArray(o)?o.reduce(TE,s):Object.assign(Object.assign({},s),o)}let Dd=(()=>{class s{constructor(l,u,h,g,v){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new P.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new P.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{xo.assertNotInAngularZone(),sv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{xo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,de.T)(E,D.pipe((0,se.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Re(405,"");let h;h=l instanceof Ty?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function NT(s){return s.isBoundToModule}(h)?void 0:this._injector.get(cf),E=h.create(aa.NULL,[],u||h.selector,g),D=E.location.nativeElement,A=E.injector.get(_f,null),x=A&&E.injector.get(PT);return A&&x&&x.registerApplication(D,A),E.onDestroy(()=>{this.detachView(E.hostView),qg(this.components,E),x&&x.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;qg(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(mf,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(S(xo),S(aa),S(Zc),S(Og),S(tv))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function qg(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let uv=!0,AE=!1;function UT(){return AE=!0,uv}function QR(){if(AE)throw new Error("Cannot enable prod mode after platform setup.");uv=!1}let xE=(()=>{class s{}return s.__NG_ELEMENT_ID__=jT,s})();function jT(s){return function JR(s,o,l){if(pc(s)&&!l){const u=rr(s.index,o);return new lf(u,u)}return 47&s.type?new lf(o[16],o):null}(fn(),Ie(),16==(16&s))}class Wg{constructor(){}supports(o){return ug(o)}create(o){return new uk(o)}}const lk=(s,o)=>o;class uk{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||lk}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,g=null;for(;l||u;){const v=!u||l&&l.currentIndex<Kg(u,h,g)?l:u,E=Kg(v,h,g),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const A=E-h,x=D-h;if(A!=x){for(let H=0;H<A;H++){const X=H<g.length?g[H]:g[H]=0,ye=X+H;x<=ye&&ye<A&&(g[H]=X+1)}g[v.previousIndex]=x-A}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ug(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),u=!0),l=l._next}else h=0,function BO(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Zl()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new ck(l,u),g,h),o}_verifyReinsertion(o,l,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new zT),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zT),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ck{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dk{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class zT{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new dk,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kg(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class pv{constructor(){}supports(o){return o instanceof Map||Uh(o)}create(){return new hk}}class hk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Uh(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new fk(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class fk{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qT(){return new FE([new Wg])}let FE=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||qT()),deps:[[s,new En,new Dt]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Re(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:qT}),s})();function WT(){return new vf([new pv])}let vf=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||WT()),deps:[[s,new En,new Dt]]}}find(l){const u=this.factories.find(g=>g.supports(l));if(u)return u;throw new Re(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:WT}),s})();const ZT=LT(null,"core",[{provide:yE,useValue:"unknown"},{provide:SE,deps:[aa]},{provide:PT,deps:[]},{provide:vE,deps:[]}]);let mk=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(S(Dd))},s.\u0275mod=Rt({type:s}),s.\u0275inj=Zt({}),s})()},3942:(Xe,ve,k)=>{k.d(ve,{Z:()=>Re});var d=k(2090),J=k(4859),P=k(9681),de=k(1877);class se{constructor(he,Ce){this._delegate=he,this.firebase=Ce,(0,P._addComponent)(he,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(he,Ce=P._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(he);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Ge=Ye.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Ce})}_removeServiceInstance(he,Ce=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ce)}_addComponent(he){(0,P._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,P._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ge(){const Be=function ue(Be){const he={},Ce={__esModule:!0,initializeApp:function Te(Ue,W={}){const be=P.initializeApp(Ue,W);if((0,d.r3)(he,be.name))return he[be.name];const Y=new Be(be,Ce);return he[be.name]=Y,Y},app:Ye,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ue){const W=Ue.name,be=W.replace("-compat","");if(P._registerComponent(Ue)&&"PUBLIC"===Ue.type){const Y=(ne=Ye())=>{if("function"!=typeof ne[be])throw ie.create("invalid-app-argument",{appName:W});return ne[be]()};void 0!==Ue.serviceProps&&(0,d.ZB)(Y,Ue.serviceProps),Ce[be]=Y,Be.prototype[be]=function(...ne){return this._getService.bind(this,W).apply(this,Ue.multipleInstances?ne:[])}}return"PUBLIC"===Ue.type?Ce[be]:null},removeApp:function Ge(Ue){delete he[Ue]},useAsService:function Le(Ue,W){return"serverAuth"===W?null:W},modularAPIs:P}};function Ye(Ue){if(!(0,d.r3)(he,Ue=Ue||P._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ue});return he[Ue]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function _e(){return Object.keys(he).map(Ue=>he[Ue])}}),Ye.App=Be,Ce}(se);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function he(Ce){(0,d.ZB)(Be,Ce)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Be}(),$=new de.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=G;!function De(Be){(0,P.registerVersion)("@firebase/app-compat","0.1.29",Be)}()},9681:(Xe,ve,k)=>{k.r(ve),k.d(ve,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>on,_addOrOverwriteComponent:()=>Yt,_apps:()=>Jt,_clearComponents:()=>Ji,_components:()=>Mn,_getProvider:()=>Zt,_registerComponent:()=>wr,_removeServiceInstance:()=>Nt,deleteApp:()=>yt,getApp:()=>Pr,getApps:()=>ki,initializeApp:()=>As,onLog:()=>Bn,registerVersion:()=>xn,setLogLevel:()=>Pi});var d=k(5861),J=k(4859),P=k(1877),de=k(2090),se=k(8766);class pe{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function ie(V){const j=V.getComponent();return"VERSION"===(null==j?void 0:j.type)}(q)){const xe=q.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(q=>q).join(" ")}}const ue="@firebase/app",G=new P.Yd("@firebase/app"),Vt="[DEFAULT]",Ke={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Mn=new Map;function on(V,j){try{V.container.addComponent(j)}catch(q){G.debug(`Component ${j.name} failed to register with FirebaseApp ${V.name}`,q)}}function Yt(V,j){V.container.addOrOverwriteComponent(j)}function wr(V){const j=V.name;if(Mn.has(j))return G.debug(`There were multiple attempts to register component ${j}.`),!1;Mn.set(j,V);for(const q of Jt.values())on(q,V);return!0}function Zt(V,j){const q=V.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),V.container.getProvider(j)}function Nt(V,j,q=Vt){Zt(V,j).clearInstance(q)}function Ji(){Mn.clear()}const ur=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class kr{constructor(j,q,xe){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Ri="9.9.0";function As(V,j={}){"object"!=typeof j&&(j={name:j});const q=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},j),xe=q.name;if("string"!=typeof xe||!xe)throw ur.create("bad-app-name",{appName:String(xe)});const Ve=Jt.get(xe);if(Ve){if((0,de.vZ)(V,Ve.options)&&(0,de.vZ)(q,Ve.config))return Ve;throw ur.create("duplicate-app",{appName:xe})}const ct=new J.H0(xe);for(const qt of Mn.values())ct.addComponent(qt);const nn=new kr(V,q,ct);return Jt.set(xe,nn),nn}function Pr(V=Vt){const j=Jt.get(V);if(!j)throw ur.create("no-app",{appName:V});return j}function ki(){return Array.from(Jt.values())}function yt(V){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(V){const j=V.name;Jt.has(j)&&(Jt.delete(j),yield Promise.all(V.container.getProviders().map(q=>q.delete())),V.isDeleted=!0)})).apply(this,arguments)}function xn(V,j,q){var xe;let Ve=null!==(xe=Ke[V])&&void 0!==xe?xe:V;q&&(Ve+=`-${q}`);const ct=Ve.match(/\s|\//),nn=j.match(/\s|\//);if(ct||nn){const qt=[`Unable to register library "${Ve}" with version "${j}":`];return ct&&qt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),ct&&nn&&qt.push("and"),nn&&qt.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void G.warn(qt.join(" "))}wr(new J.wA(`${Ve}-version`,()=>({library:Ve,version:j}),"VERSION"))}function Bn(V,j){if(null!==V&&"function"!=typeof V)throw ur.create("invalid-log-argument");(0,P.Am)(V,j)}function Pi(V){(0,P.Ub)(V)}const Fn="firebase-heartbeat-store";let pi=null;function Fo(){return pi||(pi=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(V,j)=>{0===j&&V.createObjectStore(Fn)}}).catch(V=>{throw ur.create("storage-open",{originalErrorMessage:V.message})})),pi}function ot(){return(ot=(0,d.Z)(function*(V){var j;try{return(yield Fo()).transaction(Fn).objectStore(Fn).get(Gr(V))}catch(q){throw ur.create("storage-get",{originalErrorMessage:null===(j=q)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function wt(V,j){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(V,j){var q;try{const Ve=(yield Fo()).transaction(Fn,"readwrite");return yield Ve.objectStore(Fn).put(j,Gr(V)),Ve.done}catch(xe){throw ur.create("storage-set",{originalErrorMessage:null===(q=xe)||void 0===q?void 0:q.message})}})).apply(this,arguments)}function Gr(V){return`${V.name}!${V.options.appId}`}class dr{constructor(j){this.container=j,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new xs(q),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var j=this;return(0,d.Z)(function*(){const xe=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=Er();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!j._heartbeatsCache.heartbeats.some(ct=>ct.date===Ve))return j._heartbeatsCache.heartbeats.push({date:Ve,agent:xe}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(ct=>{const nn=new Date(ct.date).valueOf();return Date.now()-nn<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,d.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const q=Er(),{heartbeatsToSend:xe,unsentEntries:Ve}=function ft(V,j=1024){const q=[];let xe=V.slice();for(const Ve of V){const ct=q.find(nn=>nn.agent===Ve.agent);if(ct){if(ct.dates.push(Ve.date),U(q)>j){ct.dates.pop();break}}else if(q.push({agent:Ve.agent,dates:[Ve.date]}),U(q)>j){q.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:q,unsentEntries:xe}}(j._heartbeatsCache.heartbeats),ct=(0,de.L)(JSON.stringify({version:2,heartbeats:xe}));return j._heartbeatsCache.lastSentHeartbeatDate=q,Ve.length>0?(j._heartbeatsCache.heartbeats=Ve,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),ct})()}}function Er(){return(new Date).toISOString().substring(0,10)}class xs{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,d.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function zt(V){return ot.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var q=this;return(0,d.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ct=yield q.read();return wt(q.app,{lastSentHeartbeatDate:null!==(xe=j.lastSentHeartbeatDate)&&void 0!==xe?xe:ct.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var q=this;return(0,d.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ct=yield q.read();return wt(q.app,{lastSentHeartbeatDate:null!==(xe=j.lastSentHeartbeatDate)&&void 0!==xe?xe:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...j.heartbeats]})}})()}}function U(V){return(0,de.L)(JSON.stringify({version:2,heartbeats:V})).length}!function z(V){wr(new J.wA("platform-logger",j=>new pe(j),"PRIVATE")),wr(new J.wA("heartbeat",j=>new dr(j),"PRIVATE")),xn(ue,"0.7.28",V),xn(ue,"0.7.28","esm2017"),xn("fire-js","")}("")},4859:(Xe,ve,k)=>{k.d(ve,{wA:()=>P,H0:()=>ue});var d=k(5861),J=k(2090);class P{constructor(G,$,te){this.name=G,this.instanceFactory=$,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const de="[DEFAULT]";class se{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const te=new J.BH;if(this.instancesDeferred.set($,te),this.isInitialized($)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:$});je&&te.resolve(je)}catch(je){}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const te=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),je=null!==($=null==G?void 0:G.optional)&&void 0!==$&&$;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(De){if(je)return null;throw De}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ie(ge){return"EAGER"===ge.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:de})}catch($){}for(const[$,te]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier($);try{const De=this.getOrInitializeService({instanceIdentifier:je});te.resolve(De)}catch(De){}}}}clearInstance(G=de){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...$.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=de){return this.instances.has(G)}getOptions(G=de){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:te,options:$});for(const[De,Re]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(De)&&Re.resolve(je);return je}onInit(G,$){var te;const je=this.normalizeInstanceIdentifier($),De=null!==(te=this.onInitCallbacks.get(je))&&void 0!==te?te:new Set;De.add(G),this.onInitCallbacks.set(je,De);const Re=this.instances.get(je);return Re&&G(Re,je),()=>{De.delete(G)}}invokeOnInitCallbacks(G,$){const te=this.onInitCallbacks.get($);if(te)for(const je of te)try{je(G,$)}catch(De){}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=G,ge===de?void 0:ge),options:$}),this.instances.set(G,te),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch(je){}var ge;return te||null}normalizeInstanceIdentifier(G=de){return this.component?this.component.multipleInstances?G:de:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new se(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,ve,k)=>{k.d(ve,{in:()=>J,Yd:()=>ie,Ub:()=>ue,Am:()=>ge});const d=[];var J=(()=>{return(G=J||(J={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",J;var G})();const P={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},de=J.INFO,se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},pe=(G,$,...te)=>{if($<G.logLevel)return;const je=(new Date).toISOString(),De=se[$];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[De](`[${je}]  ${G.name}:`,...te)};class ie{constructor($){this.name=$,this._logLevel=de,this._logHandler=pe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in J))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...$),this._logHandler(this,J.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...$),this._logHandler(this,J.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,J.INFO,...$),this._logHandler(this,J.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,J.WARN,...$),this._logHandler(this,J.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...$),this._logHandler(this,J.ERROR,...$)}}function ue(G){d.forEach($=>{$.setLogLevel(G)})}function ge(G,$){for(const te of d){let je=null;$&&$.level&&(je=P[$.level]),te.userLogHandler=null===G?null:(De,Re,...Be)=>{const he=Be.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Ge){return null}}).filter(Ce=>Ce).join(" ");Re>=(null!=je?je:De.logLevel)&&G({level:J[Re].toLowerCase(),message:he,args:Be,type:De.name})}}}},8766:(Xe,ve,k)=>{k.d(ve,{Lj:()=>Te,X3:()=>Ye});var d=k(5861);let P,de;const ie=new WeakMap,ue=new WeakMap,ge=new WeakMap,G=new WeakMap,$=new WeakMap;let De={get(W,be,Y){if(W instanceof IDBTransaction){if("done"===be)return ue.get(W);if("objectStoreNames"===be)return W.objectStoreNames||ge.get(W);if("store"===be)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Ce(W[be])},set:(W,be,Y)=>(W[be]=Y,!0),has:(W,be)=>W instanceof IDBTransaction&&("done"===be||"store"===be)||be in W};function he(W){return"function"==typeof W?function Be(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...be){return W.apply(Ge(this),be),Ce(ie.get(this))}:function(...be){return Ce(W.apply(Ge(this),be))}:function(be,...Y){const ne=W.call(Ge(this),be,...Y);return ge.set(ne,be.sort?be.sort():[be]),Ce(ne)}}(W):(W instanceof IDBTransaction&&function je(W){if(ue.has(W))return;const be=new Promise((Y,ne)=>{const ee=()=>{W.removeEventListener("complete",me),W.removeEventListener("error",le),W.removeEventListener("abort",le)},me=()=>{Y(),ee()},le=()=>{ne(W.error||new DOMException("AbortError","AbortError")),ee()};W.addEventListener("complete",me),W.addEventListener("error",le),W.addEventListener("abort",le)});ue.set(W,be)}(W),((W,be)=>be.some(Y=>W instanceof Y))(W,function se(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,De):W)}function Ce(W){if(W instanceof IDBRequest)return function te(W){const be=new Promise((Y,ne)=>{const ee=()=>{W.removeEventListener("success",me),W.removeEventListener("error",le)},me=()=>{Y(Ce(W.result)),ee()},le=()=>{ne(W.error),ee()};W.addEventListener("success",me),W.addEventListener("error",le)});return be.then(Y=>{Y instanceof IDBCursor&&ie.set(Y,W)}).catch(()=>{}),$.set(be,W),be}(W);if(G.has(W))return G.get(W);const be=he(W);return be!==W&&(G.set(W,be),$.set(be,W)),be}const Ge=W=>$.get(W);function Ye(W,be,{blocked:Y,upgrade:ne,blocking:ee,terminated:me}={}){const le=indexedDB.open(W,be),ke=Ce(le);return ne&&le.addEventListener("upgradeneeded",ht=>{ne(Ce(le.result),ht.oldVersion,ht.newVersion,Ce(le.transaction))}),Y&&le.addEventListener("blocked",()=>Y()),ke.then(ht=>{me&&ht.addEventListener("close",()=>me()),ee&&ht.addEventListener("versionchange",()=>ee())}).catch(()=>{}),ke}function Te(W,{blocked:be}={}){const Y=indexedDB.deleteDatabase(W);return be&&Y.addEventListener("blocked",()=>be()),Ce(Y).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Le=new Map;function Ue(W,be){if(!(W instanceof IDBDatabase)||be in W||"string"!=typeof be)return;if(Le.get(be))return Le.get(be);const Y=be.replace(/FromIndex$/,""),ne=be!==Y,ee=Ee.includes(Y);if(!(Y in(ne?IDBIndex:IDBObjectStore).prototype)||!ee&&!_e.includes(Y))return;const me=function(){var le=(0,d.Z)(function*(ke,...ht){const Gt=this.transaction(ke,ee?"readwrite":"readonly");let Vt=Gt.store;return ne&&(Vt=Vt.index(ht.shift())),(yield Promise.all([Vt[Y](...ht),ee&&Gt.done]))[0]});return function(ht){return le.apply(this,arguments)}}();return Le.set(be,me),me}!function Re(W){De=W(De)}(W=>fV(hV({},W),{get:(be,Y,ne)=>Ue(be,Y)||W.get(be,Y,ne),has:(be,Y)=>!!Ue(be,Y)||W.has(be,Y)}))},5861:(Xe,ve,k)=>{function d(P,de,se,pe,ie,ue,ge){try{var G=P[ue](ge),$=G.value}catch(te){return void se(te)}G.done?de($):Promise.resolve($).then(pe,ie)}function J(P){return function(){var de=this,se=arguments;return new Promise(function(pe,ie){var ue=P.apply(de,se);function ge($){d(ue,pe,ie,ge,G,"next",$)}function G($){d(ue,pe,ie,ge,G,"throw",$)}ge(void 0)})}}k.d(ve,{Z:()=>J})}},Xe=>{Xe(Xe.s=5068)}]);